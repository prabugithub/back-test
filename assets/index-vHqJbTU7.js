(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Pb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Sc={exports:{}},Bl={};var vg;function Gb(){if(vg)return Bl;vg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,o){var f=null;if(o!==void 0&&(f=""+o),r.key!==void 0&&(f=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:a,type:s,key:f,ref:r!==void 0?r:null,props:o}}return Bl.Fragment=t,Bl.jsx=n,Bl.jsxs=n,Bl}var bg;function Fb(){return bg||(bg=1,Sc.exports=Gb()),Sc.exports}var x=Fb(),wc={exports:{}},mt={};var xg;function Xb(){if(xg)return mt;xg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function B(E,Y,K){this.props=E,this.context=Y,this.refs=O,this.updater=K||w}B.prototype.isReactComponent={},B.prototype.setState=function(E,Y){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Y,"setState")},B.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Z(){}Z.prototype=B.prototype;function et(E,Y,K){this.props=E,this.context=Y,this.refs=O,this.updater=K||w}var it=et.prototype=new Z;it.constructor=et,M(it,B.prototype),it.isPureReactComponent=!0;var st=Array.isArray;function at(){}var $={H:null,A:null,T:null,S:null},ht=Object.prototype.hasOwnProperty;function vt(E,Y,K){var L=K.ref;return{$$typeof:a,type:E,key:Y,ref:L!==void 0?L:null,props:K}}function Rt(E,Y){return vt(E.type,Y,E.props)}function Yt(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function St(E){var Y={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return Y[K]})}var Ht=/\/+/g;function At(E,Y){return typeof E=="object"&&E!==null&&E.key!=null?St(""+E.key):Y.toString(36)}function Ut(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(at,at):(E.status="pending",E.then(function(Y){E.status==="pending"&&(E.status="fulfilled",E.value=Y)},function(Y){E.status==="pending"&&(E.status="rejected",E.reason=Y)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function z(E,Y,K,L,V){var W=typeof E;(W==="undefined"||W==="boolean")&&(E=null);var ct=!1;if(E===null)ct=!0;else switch(W){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(E.$$typeof){case a:case t:ct=!0;break;case y:return ct=E._init,z(ct(E._payload),Y,K,L,V)}}if(ct)return V=V(E),ct=L===""?"."+At(E,0):L,st(V)?(K="",ct!=null&&(K=ct.replace(Ht,"$&/")+"/"),z(V,Y,K,"",function(Me){return Me})):V!=null&&(Yt(V)&&(V=Rt(V,K+(V.key==null||E&&E.key===V.key?"":(""+V.key).replace(Ht,"$&/")+"/")+ct)),Y.push(V)),1;ct=0;var Bt=L===""?".":L+":";if(st(E))for(var Ct=0;Ct<E.length;Ct++)L=E[Ct],W=Bt+At(L,Ct),ct+=z(L,Y,K,W,V);else if(Ct=T(E),typeof Ct=="function")for(E=Ct.call(E),Ct=0;!(L=E.next()).done;)L=L.value,W=Bt+At(L,Ct++),ct+=z(L,Y,K,W,V);else if(W==="object"){if(typeof E.then=="function")return z(Ut(E),Y,K,L,V);throw Y=String(E),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ct}function X(E,Y,K){if(E==null)return E;var L=[],V=0;return z(E,L,"","",function(W){return Y.call(K,W,V++)}),L}function nt(E){if(E._status===-1){var Y=E._result;Y=Y(),Y.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=Y)}if(E._status===1)return E._result.default;throw E._result}var dt=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},gt={map:X,forEach:function(E,Y,K){X(E,function(){Y.apply(this,arguments)},K)},count:function(E){var Y=0;return X(E,function(){Y++}),Y},toArray:function(E){return X(E,function(Y){return Y})||[]},only:function(E){if(!Yt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return mt.Activity=v,mt.Children=gt,mt.Component=B,mt.Fragment=n,mt.Profiler=r,mt.PureComponent=et,mt.StrictMode=s,mt.Suspense=g,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,mt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return $.H.useMemoCache(E)}},mt.cache=function(E){return function(){return E.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(E,Y,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var L=M({},E.props),V=E.key;if(Y!=null)for(W in Y.key!==void 0&&(V=""+Y.key),Y)!ht.call(Y,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&Y.ref===void 0||(L[W]=Y[W]);var W=arguments.length-2;if(W===1)L.children=K;else if(1<W){for(var ct=Array(W),Bt=0;Bt<W;Bt++)ct[Bt]=arguments[Bt+2];L.children=ct}return vt(E.type,V,L)},mt.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},mt.createElement=function(E,Y,K){var L,V={},W=null;if(Y!=null)for(L in Y.key!==void 0&&(W=""+Y.key),Y)ht.call(Y,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(V[L]=Y[L]);var ct=arguments.length-2;if(ct===1)V.children=K;else if(1<ct){for(var Bt=Array(ct),Ct=0;Ct<ct;Ct++)Bt[Ct]=arguments[Ct+2];V.children=Bt}if(E&&E.defaultProps)for(L in ct=E.defaultProps,ct)V[L]===void 0&&(V[L]=ct[L]);return vt(E,W,V)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(E){return{$$typeof:d,render:E}},mt.isValidElement=Yt,mt.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:nt}},mt.memo=function(E,Y){return{$$typeof:m,type:E,compare:Y===void 0?null:Y}},mt.startTransition=function(E){var Y=$.T,K={};$.T=K;try{var L=E(),V=$.S;V!==null&&V(K,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(at,dt)}catch(W){dt(W)}finally{Y!==null&&K.types!==null&&(Y.types=K.types),$.T=Y}},mt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},mt.use=function(E){return $.H.use(E)},mt.useActionState=function(E,Y,K){return $.H.useActionState(E,Y,K)},mt.useCallback=function(E,Y){return $.H.useCallback(E,Y)},mt.useContext=function(E){return $.H.useContext(E)},mt.useDebugValue=function(){},mt.useDeferredValue=function(E,Y){return $.H.useDeferredValue(E,Y)},mt.useEffect=function(E,Y){return $.H.useEffect(E,Y)},mt.useEffectEvent=function(E){return $.H.useEffectEvent(E)},mt.useId=function(){return $.H.useId()},mt.useImperativeHandle=function(E,Y,K){return $.H.useImperativeHandle(E,Y,K)},mt.useInsertionEffect=function(E,Y){return $.H.useInsertionEffect(E,Y)},mt.useLayoutEffect=function(E,Y){return $.H.useLayoutEffect(E,Y)},mt.useMemo=function(E,Y){return $.H.useMemo(E,Y)},mt.useOptimistic=function(E,Y){return $.H.useOptimistic(E,Y)},mt.useReducer=function(E,Y,K){return $.H.useReducer(E,Y,K)},mt.useRef=function(E){return $.H.useRef(E)},mt.useState=function(E){return $.H.useState(E)},mt.useSyncExternalStore=function(E,Y,K){return $.H.useSyncExternalStore(E,Y,K)},mt.useTransition=function(){return $.H.useTransition()},mt.version="19.2.1",mt}var Sg;function rh(){return Sg||(Sg=1,wc.exports=Xb()),wc.exports}var F=rh();const Mr=Pb(F);var Ec={exports:{}},Ll={},Mc={exports:{}},_c={};var wg;function Jb(){return wg||(wg=1,(function(a){function t(z,X){var nt=z.length;z.push(X);t:for(;0<nt;){var dt=nt-1>>>1,gt=z[dt];if(0<r(gt,X))z[dt]=X,z[nt]=gt,nt=dt;else break t}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var X=z[0],nt=z.pop();if(nt!==X){z[0]=nt;t:for(var dt=0,gt=z.length,E=gt>>>1;dt<E;){var Y=2*(dt+1)-1,K=z[Y],L=Y+1,V=z[L];if(0>r(K,nt))L<gt&&0>r(V,K)?(z[dt]=V,z[L]=nt,dt=L):(z[dt]=K,z[Y]=nt,dt=Y);else if(L<gt&&0>r(V,nt))z[dt]=V,z[L]=nt,dt=L;else break t}}return X}function r(z,X){var nt=z.sortIndex-X.sortIndex;return nt!==0?nt:z.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var f=Date,d=f.now();a.unstable_now=function(){return f.now()-d}}var g=[],m=[],y=1,v=null,S=3,T=!1,w=!1,M=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function it(z){for(var X=n(m);X!==null;){if(X.callback===null)s(m);else if(X.startTime<=z)s(m),X.sortIndex=X.expirationTime,t(g,X);else break;X=n(m)}}function st(z){if(M=!1,it(z),!w)if(n(g)!==null)w=!0,at||(at=!0,St());else{var X=n(m);X!==null&&Ut(st,X.startTime-z)}}var at=!1,$=-1,ht=5,vt=-1;function Rt(){return O?!0:!(a.unstable_now()-vt<ht)}function Yt(){if(O=!1,at){var z=a.unstable_now();vt=z;var X=!0;try{t:{w=!1,M&&(M=!1,Z($),$=-1),T=!0;var nt=S;try{e:{for(it(z),v=n(g);v!==null&&!(v.expirationTime>z&&Rt());){var dt=v.callback;if(typeof dt=="function"){v.callback=null,S=v.priorityLevel;var gt=dt(v.expirationTime<=z);if(z=a.unstable_now(),typeof gt=="function"){v.callback=gt,it(z),X=!0;break e}v===n(g)&&s(g),it(z)}else s(g);v=n(g)}if(v!==null)X=!0;else{var E=n(m);E!==null&&Ut(st,E.startTime-z),X=!1}}break t}finally{v=null,S=nt,T=!1}X=void 0}}finally{X?St():at=!1}}}var St;if(typeof et=="function")St=function(){et(Yt)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,At=Ht.port2;Ht.port1.onmessage=Yt,St=function(){At.postMessage(null)}}else St=function(){B(Yt,0)};function Ut(z,X){$=B(function(){z(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(z){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var nt=S;S=X;try{return z()}finally{S=nt}},a.unstable_requestPaint=function(){O=!0},a.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var nt=S;S=z;try{return X()}finally{S=nt}},a.unstable_scheduleCallback=function(z,X,nt){var dt=a.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?dt+nt:dt):nt=dt,z){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=nt+gt,z={id:y++,callback:X,priorityLevel:z,startTime:nt,expirationTime:gt,sortIndex:-1},nt>dt?(z.sortIndex=nt,t(m,z),n(g)===null&&z===n(m)&&(M?(Z($),$=-1):M=!0,Ut(st,nt-dt))):(z.sortIndex=gt,t(g,z),w||T||(w=!0,at||(at=!0,St()))),z},a.unstable_shouldYield=Rt,a.unstable_wrapCallback=function(z){var X=S;return function(){var nt=S;S=X;try{return z.apply(this,arguments)}finally{S=nt}}}})(_c)),_c}var Eg;function Zb(){return Eg||(Eg=1,Mc.exports=Jb()),Mc.exports}var Tc={exports:{}},be={};var Mg;function Kb(){if(Mg)return be;Mg=1;var a=rh();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(g,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:g,containerInfo:m,implementation:y}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,be.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(g,m,null,y)},be.flushSync=function(g){var m=f.T,y=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=m,s.p=y,s.d.f()}},be.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},be.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},be.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:T}):y==="script"&&s.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},be.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},be.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},be.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},be.requestFormReset=function(g){s.d.r(g)},be.unstable_batchedUpdates=function(g,m){return g(m)},be.useFormState=function(g,m,y){return f.H.useFormState(g,m,y)},be.useFormStatus=function(){return f.H.useHostTransitionStatus()},be.version="19.2.1",be}var _g;function Wb(){if(_g)return Tc.exports;_g=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Tc.exports=Kb(),Tc.exports}var Tg;function Ib(){if(Tg)return Ll;Tg=1;var a=Zb(),t=rh(),n=Wb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(o(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,u=i;;){var c=l.return;if(c===null)break;var h=c.alternate;if(h===null){if(u=c.return,u!==null){l=u;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===l)return g(c),e;if(h===u)return g(c),i;h=h.sibling}throw Error(s(188))}if(l.return!==u.return)l=c,u=h;else{for(var p=!1,b=c.child;b;){if(b===l){p=!0,l=c,u=h;break}if(b===u){p=!0,u=c,l=h;break}b=b.sibling}if(!p){for(b=h.child;b;){if(b===l){p=!0,l=h,u=c;break}if(b===u){p=!0,u=h,l=c;break}b=b.sibling}if(!p)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),et=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),Rt=Symbol.for("react.memo_cache_sentinel"),Yt=Symbol.iterator;function St(e){return e===null||typeof e!="object"?null:(e=Yt&&e[Yt]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ht?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case st:return"Suspense";case at:return"SuspenseList";case vt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case et:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case it:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return i=e.displayName||null,i!==null?i:At(e.type)||"Memo";case ht:i=e._payload,e=e._init;try{return At(e(i))}catch{}}return null}var Ut=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},dt=[],gt=-1;function E(e){return{current:e}}function Y(e){0>gt||(e.current=dt[gt],dt[gt]=null,gt--)}function K(e,i){gt++,dt[gt]=e.current,e.current=i}var L=E(null),V=E(null),W=E(null),ct=E(null);function Bt(e,i){switch(K(W,i),K(V,e),K(L,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Hm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Hm(i),e=Qm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(L),K(L,e)}function Ct(){Y(L),Y(V),Y(W)}function Me(e){e.memoizedState!==null&&K(ct,e);var i=L.current,l=Qm(i,e.type);i!==l&&(K(V,e),K(L,l))}function ci(e){V.current===e&&(Y(L),Y(V)),ct.current===e&&(Y(ct),Al._currentValue=nt)}var Vs,aa;function vi(e){if(Vs===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Vs=i&&i[1]||"",aa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+e+aa}var Ps=!1;function Gs(e,i){if(!e||Ps)return"";Ps=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(k){var j=k}Reflect.construct(e,[],P)}else{try{P.call()}catch(k){j=k}e.call(P.prototype)}}else{try{throw Error()}catch(k){j=k}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),p=h[0],b=h[1];if(p&&b){var _=p.split(`
`),A=b.split(`
`);for(c=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(u===_.length||c===A.length)for(u=_.length-1,c=A.length-1;1<=u&&0<=c&&_[u]!==A[c];)c--;for(;1<=u&&0<=c;u--,c--)if(_[u]!==A[c]){if(u!==1||c!==1)do if(u--,c--,0>c||_[u]!==A[c]){var H=`
`+_[u].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=u&&0<=c);break}}}finally{Ps=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?vi(l):""}function ru(e,i){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return e.child!==i&&i!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return vi("Activity");default:return""}}function Fn(e){try{var i="",l=null;do i+=ru(e,l),l=e,e=e.return;while(e);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ki=Object.prototype.hasOwnProperty,ra=a.unstable_scheduleCallback,N=a.unstable_cancelCallback,q=a.unstable_shouldYield,G=a.unstable_requestPaint,I=a.unstable_now,tt=a.unstable_getCurrentPriorityLevel,ut=a.unstable_ImmediatePriority,xt=a.unstable_UserBlockingPriority,Mt=a.unstable_NormalPriority,Ot=a.unstable_LowPriority,Wt=a.unstable_IdlePriority,_e=a.log,ni=a.unstable_setDisableYieldValue,hi=null,se=null;function qi(e){if(typeof _e=="function"&&ni(e),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(hi,e)}catch{}}var Be=Math.clz32?Math.clz32:zy,Cy=Math.log,Oy=Math.LN2;function zy(e){return e>>>=0,e===0?32:31-(Cy(e)/Oy|0)|0}var ua=256,oa=262144,ca=4194304;function yn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ha(e,i,l){var u=e.pendingLanes;if(u===0)return 0;var c=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=u&134217727;return b!==0?(u=b&~h,u!==0?c=yn(u):(p&=b,p!==0?c=yn(p):l||(l=b&~e,l!==0&&(c=yn(l))))):(b=u&~h,b!==0?c=yn(b):p!==0?c=yn(p):l||(l=u&~e,l!==0&&(c=yn(l)))),c===0?0:i!==0&&i!==c&&(i&h)===0&&(h=c&-c,l=i&-i,h>=l||h===32&&(l&4194048)!==0)?i:c}function Fs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Dy(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(){var e=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),e}function uu(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function Xs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ry(e,i,l,u,c,h){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var b=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(l=p&~l;0<l;){var H=31-Be(l),P=1<<H;b[H]=0,_[H]=-1;var j=A[H];if(j!==null)for(A[H]=null,H=0;H<j.length;H++){var k=j[H];k!==null&&(k.lane&=-536870913)}l&=~P}u!==0&&wh(e,u,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~i))}function wh(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-Be(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|l&261930}function Eh(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var u=31-Be(l),c=1<<u;c&i|e[u]&i&&(e[u]|=i),l&=~c}}function Mh(e,i){var l=i&-i;return l=(l&42)!==0?1:ou(l),(l&(e.suspendedLanes|i))!==0?0:l}function ou(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _h(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:hg(e.type))}function Th(e,i){var l=X.p;try{return X.p=e,i()}finally{X.p=l}}var Hi=Math.random().toString(36).slice(2),fe="__reactFiber$"+Hi,Te="__reactProps$"+Hi,Xn="__reactContainer$"+Hi,hu="__reactEvents$"+Hi,Ay="__reactListeners$"+Hi,jy="__reactHandles$"+Hi,Nh="__reactResources$"+Hi,Js="__reactMarker$"+Hi;function fu(e){delete e[fe],delete e[Te],delete e[hu],delete e[Ay],delete e[jy]}function Jn(e){var i=e[fe];if(i)return i;for(var l=e.parentNode;l;){if(i=l[Xn]||l[fe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=Zm(e);e!==null;){if(l=e[fe])return l;e=Zm(e)}return i}e=l,l=e.parentNode}return null}function Zn(e){if(e=e[fe]||e[Xn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Zs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Kn(e){var i=e[Nh];return i||(i=e[Nh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Js]=!0}var Ch=new Set,Oh={};function vn(e,i){Wn(e,i),Wn(e+"Capture",i)}function Wn(e,i){for(Oh[e]=i,e=0;e<i.length;e++)Ch.add(i[e])}var Yy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zh={},Dh={};function Uy(e){return ki.call(Dh,e)?!0:ki.call(zh,e)?!1:Yy.test(e)?Dh[e]=!0:(zh[e]=!0,!1)}function fa(e,i,l){if(Uy(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function da(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function bi(e,i,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+u)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function By(e,i,l){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var c=u.get,h=u.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,h.call(this,p)}}),Object.defineProperty(e,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function du(e){if(!e._valueTracker){var i=Rh(e)?"checked":"value";e._valueTracker=By(e,i,""+e[i])}}function Ah(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return e&&(u=Rh(e)?e.checked?"true":"false":e.value),e=u,e!==l?(i.setValue(e),!0):!1}function ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ly=/[\n"\\]/g;function Xe(e){return e.replace(Ly,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mu(e,i,l,u,c,h,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Fe(i)):e.value!==""+Fe(i)&&(e.value=""+Fe(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?gu(e,p,Fe(i)):l!=null?gu(e,p,Fe(l)):u!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Fe(b):e.removeAttribute("name")}function jh(e,i,l,u,c,h,p,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),i!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){du(e);return}l=l!=null?""+Fe(l):"",i=i!=null?""+Fe(i):l,b||i===e.value||(e.value=i),e.defaultValue=i}u=u??c,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=b?e.checked:!!u,e.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),du(e)}function gu(e,i,l){i==="number"&&ma(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function In(e,i,l,u){if(e=e.options,i){i={};for(var c=0;c<l.length;c++)i["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=i.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&u&&(e[l].defaultSelected=!0)}else{for(l=""+Fe(l),i=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function Yh(e,i,l){if(i!=null&&(i=""+Fe(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+Fe(l):""}function Uh(e,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(Ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Fe(i),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u),du(e)}function $n(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var ky=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bh(e,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,l):typeof l!="number"||l===0||ky.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Lh(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var c in i)u=i[c],i.hasOwnProperty(c)&&l[c]!==u&&Bh(e,c,u)}else for(var h in i)i.hasOwnProperty(h)&&Bh(e,h,i[h])}function pu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return Hy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xi(){}var yu=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,es=null;function kh(e){var i=Zn(e);if(i&&(e=i.stateNode)){var l=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(mu(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Xe(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==e&&u.form===e.form){var c=u[Te]||null;if(!c)throw Error(s(90));mu(u,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===e.form&&Ah(u)}break t;case"textarea":Yh(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&In(e,!!l.multiple,i,!1)}}}var bu=!1;function qh(e,i,l){if(bu)return e(i,l);bu=!0;try{var u=e(i);return u}finally{if(bu=!1,(ts!==null||es!==null)&&(ir(),ts&&(i=ts,e=es,es=ts=null,kh(i),e)))for(i=0;i<e.length;i++)kh(e[i])}}function Ks(e,i){var l=e.stateNode;if(l===null)return null;var u=l[Te]||null;if(u===null)return null;l=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=!1;if(Si)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){xu=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{xu=!1}var Qi=null,Su=null,pa=null;function Hh(){if(pa)return pa;var e,i=Su,l=i.length,u,c="value"in Qi?Qi.value:Qi.textContent,h=c.length;for(e=0;e<l&&i[e]===c[e];e++);var p=l-e;for(u=1;u<=p&&i[l-u]===c[h-u];u++);return pa=c.slice(e,1<u?1-u:void 0)}function ya(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function va(){return!0}function Qh(){return!1}function Ne(e){function i(l,u,c,h,p){this._reactName=l,this._targetInst=c,this.type=u,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(l=e[b],this[b]=l?l(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?va:Qh,this.isPropagationStopped=Qh,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),i}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Ne(bn),Is=v({},bn,{view:0,detail:0}),Qy=Ne(Is),wu,Eu,$s,xa=v({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(wu=e.screenX-$s.screenX,Eu=e.screenY-$s.screenY):Eu=wu=0,$s=e),wu)},movementY:function(e){return"movementY"in e?e.movementY:Eu}}),Vh=Ne(xa),Vy=v({},xa,{dataTransfer:0}),Py=Ne(Vy),Gy=v({},Is,{relatedTarget:0}),Mu=Ne(Gy),Fy=v({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xy=Ne(Fy),Jy=v({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zy=Ne(Jy),Ky=v({},bn,{data:0}),Ph=Ne(Ky),Wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=$y[e])?!!i[e]:!1}function _u(){return tv}var ev=v({},Is,{key:function(e){if(e.key){var i=Wy[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iv=Ne(ev),nv=v({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=Ne(nv),sv=v({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),lv=Ne(sv),av=v({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=Ne(av),uv=v({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=Ne(uv),cv=v({},bn,{newState:0,oldState:0}),hv=Ne(cv),fv=[9,13,27,32],Tu=Si&&"CompositionEvent"in window,tl=null;Si&&"documentMode"in document&&(tl=document.documentMode);var dv=Si&&"TextEvent"in window&&!tl,Fh=Si&&(!Tu||tl&&8<tl&&11>=tl),Xh=" ",Jh=!1;function Zh(e,i){switch(e){case"keyup":return fv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function mv(e,i){switch(e){case"compositionend":return Kh(i);case"keypress":return i.which!==32?null:(Jh=!0,Xh);case"textInput":return e=i.data,e===Xh&&Jh?null:e;default:return null}}function gv(e,i){if(is)return e==="compositionend"||!Tu&&Zh(e,i)?(e=Hh(),pa=Su=Qi=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fh&&i.locale!=="ko"?null:i.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!pv[e.type]:i==="textarea"}function Ih(e,i,l,u){ts?es?es.push(u):es=[u]:ts=u,i=or(i,"onChange"),0<i.length&&(l=new ba("onChange","change",null,l,u),e.push({event:l,listeners:i}))}var el=null,il=null;function yv(e){Ym(e,0)}function Sa(e){var i=Zs(e);if(Ah(i))return e}function $h(e,i){if(e==="change")return i}var tf=!1;if(Si){var Nu;if(Si){var Cu="oninput"in document;if(!Cu){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),Cu=typeof ef.oninput=="function"}Nu=Cu}else Nu=!1;tf=Nu&&(!document.documentMode||9<document.documentMode)}function nf(){el&&(el.detachEvent("onpropertychange",sf),il=el=null)}function sf(e){if(e.propertyName==="value"&&Sa(il)){var i=[];Ih(i,il,e,vu(e)),qh(yv,i)}}function vv(e,i,l){e==="focusin"?(nf(),el=i,il=l,el.attachEvent("onpropertychange",sf)):e==="focusout"&&nf()}function bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sa(il)}function xv(e,i){if(e==="click")return Sa(i)}function Sv(e,i){if(e==="input"||e==="change")return Sa(i)}function wv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Le=typeof Object.is=="function"?Object.is:wv;function nl(e,i){if(Le(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var c=l[u];if(!ki.call(i,c)||!Le(e[c],i[c]))return!1}return!0}function lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function af(e,i){var l=lf(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=i&&u>=i)return{node:l,offset:i-e};e=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=lf(l)}}function rf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?rf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function uf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ma(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=ma(e.document)}return i}function Ou(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ev=Si&&"documentMode"in document&&11>=document.documentMode,ns=null,zu=null,sl=null,Du=!1;function of(e,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Du||ns==null||ns!==ma(u)||(u=ns,"selectionStart"in u&&Ou(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),sl&&nl(sl,u)||(sl=u,u=or(zu,"onSelect"),0<u.length&&(i=new ba("onSelect","select",null,i,l),e.push({event:i,listeners:u}),i.target=ns)))}function xn(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var ss={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionrun:xn("Transition","TransitionRun"),transitionstart:xn("Transition","TransitionStart"),transitioncancel:xn("Transition","TransitionCancel"),transitionend:xn("Transition","TransitionEnd")},Ru={},cf={};Si&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Sn(e){if(Ru[e])return Ru[e];if(!ss[e])return e;var i=ss[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in cf)return Ru[e]=i[l];return e}var hf=Sn("animationend"),ff=Sn("animationiteration"),df=Sn("animationstart"),Mv=Sn("transitionrun"),_v=Sn("transitionstart"),Tv=Sn("transitioncancel"),mf=Sn("transitionend"),gf=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function si(e,i){gf.set(e,i),vn(i,[e])}var wa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Je=[],ls=0,ju=0;function Ea(){for(var e=ls,i=ju=ls=0;i<e;){var l=Je[i];Je[i++]=null;var u=Je[i];Je[i++]=null;var c=Je[i];Je[i++]=null;var h=Je[i];if(Je[i++]=null,u!==null&&c!==null){var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}h!==0&&pf(l,c,h)}}function Ma(e,i,l,u){Je[ls++]=e,Je[ls++]=i,Je[ls++]=l,Je[ls++]=u,ju|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Yu(e,i,l,u){return Ma(e,i,l,u),_a(e)}function wn(e,i){return Ma(e,null,null,i),_a(e)}function pf(e,i,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var c=!1,h=e.return;h!==null;)h.childLanes|=l,u=h.alternate,u!==null&&(u.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&i!==null&&(c=31-Be(l),e=h.hiddenUpdates,u=e[c],u===null?e[c]=[i]:u.push(i),i.lane=l|536870912),h):null}function _a(e){if(50<Tl)throw Tl=0,Go=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var as={};function Nv(e,i,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(e,i,l,u){return new Nv(e,i,l,u)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,i){var l=e.alternate;return l===null?(l=ke(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function yf(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ta(e,i,l,u,c,h){var p=0;if(u=e,typeof e=="function")Uu(e)&&(p=1);else if(typeof e=="string")p=Rb(e,l,L.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case vt:return e=ke(31,l,i,c),e.elementType=vt,e.lanes=h,e;case M:return En(l.children,c,h,i);case O:p=8,c|=24;break;case B:return e=ke(12,l,i,c|2),e.elementType=B,e.lanes=h,e;case st:return e=ke(13,l,i,c),e.elementType=st,e.lanes=h,e;case at:return e=ke(19,l,i,c),e.elementType=at,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:p=10;break t;case Z:p=9;break t;case it:p=11;break t;case $:p=14;break t;case ht:p=16,u=null;break t}p=29,l=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=ke(p,l,i,c),i.elementType=e,i.type=u,i.lanes=h,i}function En(e,i,l,u){return e=ke(7,e,u,i),e.lanes=l,e}function Bu(e,i,l){return e=ke(6,e,null,i),e.lanes=l,e}function vf(e){var i=ke(18,null,null,0);return i.stateNode=e,i}function Lu(e,i,l){return i=ke(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var bf=new WeakMap;function Ze(e,i){if(typeof e=="object"&&e!==null){var l=bf.get(e);return l!==void 0?l:(i={value:e,source:i,stack:Fn(i)},bf.set(e,i),i)}return{value:e,source:i,stack:Fn(i)}}var rs=[],us=0,Na=null,ll=0,Ke=[],We=0,Vi=null,fi=1,di="";function Ei(e,i){rs[us++]=ll,rs[us++]=Na,Na=e,ll=i}function xf(e,i,l){Ke[We++]=fi,Ke[We++]=di,Ke[We++]=Vi,Vi=e;var u=fi;e=di;var c=32-Be(u)-1;u&=~(1<<c),l+=1;var h=32-Be(i)+c;if(30<h){var p=c-c%5;h=(u&(1<<p)-1).toString(32),u>>=p,c-=p,fi=1<<32-Be(i)+c|l<<c|u,di=h+e}else fi=1<<h|l<<c|u,di=e}function ku(e){e.return!==null&&(Ei(e,1),xf(e,1,0))}function qu(e){for(;e===Na;)Na=rs[--us],rs[us]=null,ll=rs[--us],rs[us]=null;for(;e===Vi;)Vi=Ke[--We],Ke[We]=null,di=Ke[--We],Ke[We]=null,fi=Ke[--We],Ke[We]=null}function Sf(e,i){Ke[We++]=fi,Ke[We++]=di,Ke[We++]=Vi,fi=i.id,di=i.overflow,Vi=e}var de=null,Xt=null,Nt=!1,Pi=null,Ie=!1,Hu=Error(s(519));function Gi(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Ze(i,e)),Hu}function wf(e){var i=e.stateNode,l=e.type,u=e.memoizedProps;switch(i[fe]=e,i[Te]=u,l){case"dialog":Et("cancel",i),Et("close",i);break;case"iframe":case"object":case"embed":Et("load",i);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Et(Cl[l],i);break;case"source":Et("error",i);break;case"img":case"image":case"link":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"input":Et("invalid",i),jh(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Et("invalid",i);break;case"textarea":Et("invalid",i),Uh(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||km(i.textContent,l)?(u.popover!=null&&(Et("beforetoggle",i),Et("toggle",i)),u.onScroll!=null&&Et("scroll",i),u.onScrollEnd!=null&&Et("scrollend",i),u.onClick!=null&&(i.onclick=xi),i=!0):i=!1,i||Gi(e,!0)}function Ef(e){for(de=e.return;de;)switch(de.tag){case 5:case 31:case 13:Ie=!1;return;case 27:case 3:Ie=!0;return;default:de=de.return}}function os(e){if(e!==de)return!1;if(!Nt)return Ef(e),Nt=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||ac(e.type,e.memoizedProps)),l=!l),l&&Xt&&Gi(e),Ef(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xt=Jm(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xt=Jm(e)}else i===27?(i=Xt,an(e.type)?(e=hc,hc=null,Xt=e):Xt=i):Xt=de?ti(e.stateNode.nextSibling):null;return!0}function Mn(){Xt=de=null,Nt=!1}function Qu(){var e=Pi;return e!==null&&(De===null?De=e:De.push.apply(De,e),Pi=null),e}function al(e){Pi===null?Pi=[e]:Pi.push(e)}var Vu=E(null),_n=null,Mi=null;function Fi(e,i,l){K(Vu,i._currentValue),i._currentValue=l}function _i(e){e._currentValue=Vu.current,Y(Vu)}function Pu(e,i,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===l)break;e=e.return}}function Gu(e,i,l,u){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;t:for(;h!==null;){var b=h;h=c;for(var _=0;_<i.length;_++)if(b.context===i[_]){h.lanes|=l,b=h.alternate,b!==null&&(b.lanes|=l),Pu(h.return,l,e),u||(p=null);break t}h=b.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=l,h=p.alternate,h!==null&&(h.lanes|=l),Pu(p,l,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function cs(e,i,l,u){e=null;for(var c=i,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var b=c.type;Le(c.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(c===ct.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}c=c.return}e!==null&&Gu(i,e,l,u),i.flags|=262144}function Ca(e){for(e=e.firstContext;e!==null;){if(!Le(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tn(e){_n=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function me(e){return Mf(_n,e)}function Oa(e,i){return _n===null&&Tn(e),Mf(e,i)}function Mf(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return l}var Cv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},Ov=a.unstable_scheduleCallback,zv=a.unstable_NormalPriority,le={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new Cv,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&Ov(zv,function(){e.controller.abort()})}var ul=null,Xu=0,hs=0,fs=null;function Dv(e,i){if(ul===null){var l=ul=[];Xu=0,hs=Wo(),fs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Xu++,i.then(_f,_f),i}function _f(){if(--Xu===0&&ul!==null){fs!==null&&(fs.status="fulfilled");var e=ul;ul=null,hs=0,fs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Rv(e,i){var l=[],u={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var c=0;c<l.length;c++)(0,l[c])(i)},function(c){for(u.status="rejected",u.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),u}var Tf=z.S;z.S=function(e,i){om=I(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Dv(e,i),Tf!==null&&Tf(e,i)};var Nn=E(null);function Ju(){var e=Nn.current;return e!==null?e:Gt.pooledCache}function za(e,i){i===null?K(Nn,Nn.current):K(Nn,i.pool)}function Nf(){var e=Ju();return e===null?null:{parent:le._currentValue,pool:e}}var ds=Error(s(460)),Zu=Error(s(474)),Da=Error(s(542)),Ra={then:function(){}};function Cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Of(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(xi,xi),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Df(e),e;default:if(typeof i.status=="string")i.then(xi,xi);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=u}},function(u){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Df(e),e}throw On=i,ds}}function Cn(e){try{var i=e._init;return i(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(On=l,ds):l}}var On=null;function zf(){if(On===null)throw Error(s(459));var e=On;return On=null,e}function Df(e){if(e===ds||e===Da)throw Error(s(483))}var ms=null,ol=0;function Aa(e){var i=ol;return ol+=1,ms===null&&(ms=[]),Of(ms,e,i)}function cl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ja(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Rf(e){function i(D,C){if(e){var R=D.deletions;R===null?(D.deletions=[C],D.flags|=16):R.push(C)}}function l(D,C){if(!e)return null;for(;C!==null;)i(D,C),C=C.sibling;return null}function u(D){for(var C=new Map;D!==null;)D.key!==null?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function c(D,C){return D=wi(D,C),D.index=0,D.sibling=null,D}function h(D,C,R){return D.index=R,e?(R=D.alternate,R!==null?(R=R.index,R<C?(D.flags|=67108866,C):R):(D.flags|=67108866,C)):(D.flags|=1048576,C)}function p(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,C,R,Q){return C===null||C.tag!==6?(C=Bu(R,D.mode,Q),C.return=D,C):(C=c(C,R),C.return=D,C)}function _(D,C,R,Q){var ot=R.type;return ot===M?H(D,C,R.props.children,Q,R.key):C!==null&&(C.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===ht&&Cn(ot)===C.type)?(C=c(C,R.props),cl(C,R),C.return=D,C):(C=Ta(R.type,R.key,R.props,null,D.mode,Q),cl(C,R),C.return=D,C)}function A(D,C,R,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Lu(R,D.mode,Q),C.return=D,C):(C=c(C,R.children||[]),C.return=D,C)}function H(D,C,R,Q,ot){return C===null||C.tag!==7?(C=En(R,D.mode,Q,ot),C.return=D,C):(C=c(C,R),C.return=D,C)}function P(D,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Bu(""+C,D.mode,R),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case T:return R=Ta(C.type,C.key,C.props,null,D.mode,R),cl(R,C),R.return=D,R;case w:return C=Lu(C,D.mode,R),C.return=D,C;case ht:return C=Cn(C),P(D,C,R)}if(Ut(C)||St(C))return C=En(C,D.mode,R,null),C.return=D,C;if(typeof C.then=="function")return P(D,Aa(C),R);if(C.$$typeof===et)return P(D,Oa(D,C),R);ja(D,C)}return null}function j(D,C,R,Q){var ot=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ot!==null?null:b(D,C,""+R,Q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return R.key===ot?_(D,C,R,Q):null;case w:return R.key===ot?A(D,C,R,Q):null;case ht:return R=Cn(R),j(D,C,R,Q)}if(Ut(R)||St(R))return ot!==null?null:H(D,C,R,Q,null);if(typeof R.then=="function")return j(D,C,Aa(R),Q);if(R.$$typeof===et)return j(D,C,Oa(D,R),Q);ja(D,R)}return null}function k(D,C,R,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return D=D.get(R)||null,b(C,D,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return D=D.get(Q.key===null?R:Q.key)||null,_(C,D,Q,ot);case w:return D=D.get(Q.key===null?R:Q.key)||null,A(C,D,Q,ot);case ht:return Q=Cn(Q),k(D,C,R,Q,ot)}if(Ut(Q)||St(Q))return D=D.get(R)||null,H(C,D,Q,ot,null);if(typeof Q.then=="function")return k(D,C,R,Aa(Q),ot);if(Q.$$typeof===et)return k(D,C,R,Oa(C,Q),ot);ja(C,Q)}return null}function lt(D,C,R,Q){for(var ot=null,zt=null,rt=C,bt=C=0,Tt=null;rt!==null&&bt<R.length;bt++){rt.index>bt?(Tt=rt,rt=null):Tt=rt.sibling;var Dt=j(D,rt,R[bt],Q);if(Dt===null){rt===null&&(rt=Tt);break}e&&rt&&Dt.alternate===null&&i(D,rt),C=h(Dt,C,bt),zt===null?ot=Dt:zt.sibling=Dt,zt=Dt,rt=Tt}if(bt===R.length)return l(D,rt),Nt&&Ei(D,bt),ot;if(rt===null){for(;bt<R.length;bt++)rt=P(D,R[bt],Q),rt!==null&&(C=h(rt,C,bt),zt===null?ot=rt:zt.sibling=rt,zt=rt);return Nt&&Ei(D,bt),ot}for(rt=u(rt);bt<R.length;bt++)Tt=k(rt,D,bt,R[bt],Q),Tt!==null&&(e&&Tt.alternate!==null&&rt.delete(Tt.key===null?bt:Tt.key),C=h(Tt,C,bt),zt===null?ot=Tt:zt.sibling=Tt,zt=Tt);return e&&rt.forEach(function(hn){return i(D,hn)}),Nt&&Ei(D,bt),ot}function ft(D,C,R,Q){if(R==null)throw Error(s(151));for(var ot=null,zt=null,rt=C,bt=C=0,Tt=null,Dt=R.next();rt!==null&&!Dt.done;bt++,Dt=R.next()){rt.index>bt?(Tt=rt,rt=null):Tt=rt.sibling;var hn=j(D,rt,Dt.value,Q);if(hn===null){rt===null&&(rt=Tt);break}e&&rt&&hn.alternate===null&&i(D,rt),C=h(hn,C,bt),zt===null?ot=hn:zt.sibling=hn,zt=hn,rt=Tt}if(Dt.done)return l(D,rt),Nt&&Ei(D,bt),ot;if(rt===null){for(;!Dt.done;bt++,Dt=R.next())Dt=P(D,Dt.value,Q),Dt!==null&&(C=h(Dt,C,bt),zt===null?ot=Dt:zt.sibling=Dt,zt=Dt);return Nt&&Ei(D,bt),ot}for(rt=u(rt);!Dt.done;bt++,Dt=R.next())Dt=k(rt,D,bt,Dt.value,Q),Dt!==null&&(e&&Dt.alternate!==null&&rt.delete(Dt.key===null?bt:Dt.key),C=h(Dt,C,bt),zt===null?ot=Dt:zt.sibling=Dt,zt=Dt);return e&&rt.forEach(function(Vb){return i(D,Vb)}),Nt&&Ei(D,bt),ot}function Pt(D,C,R,Q){if(typeof R=="object"&&R!==null&&R.type===M&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case T:t:{for(var ot=R.key;C!==null;){if(C.key===ot){if(ot=R.type,ot===M){if(C.tag===7){l(D,C.sibling),Q=c(C,R.props.children),Q.return=D,D=Q;break t}}else if(C.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===ht&&Cn(ot)===C.type){l(D,C.sibling),Q=c(C,R.props),cl(Q,R),Q.return=D,D=Q;break t}l(D,C);break}else i(D,C);C=C.sibling}R.type===M?(Q=En(R.props.children,D.mode,Q,R.key),Q.return=D,D=Q):(Q=Ta(R.type,R.key,R.props,null,D.mode,Q),cl(Q,R),Q.return=D,D=Q)}return p(D);case w:t:{for(ot=R.key;C!==null;){if(C.key===ot)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){l(D,C.sibling),Q=c(C,R.children||[]),Q.return=D,D=Q;break t}else{l(D,C);break}else i(D,C);C=C.sibling}Q=Lu(R,D.mode,Q),Q.return=D,D=Q}return p(D);case ht:return R=Cn(R),Pt(D,C,R,Q)}if(Ut(R))return lt(D,C,R,Q);if(St(R)){if(ot=St(R),typeof ot!="function")throw Error(s(150));return R=ot.call(R),ft(D,C,R,Q)}if(typeof R.then=="function")return Pt(D,C,Aa(R),Q);if(R.$$typeof===et)return Pt(D,C,Oa(D,R),Q);ja(D,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(l(D,C.sibling),Q=c(C,R),Q.return=D,D=Q):(l(D,C),Q=Bu(R,D.mode,Q),Q.return=D,D=Q),p(D)):l(D,C)}return function(D,C,R,Q){try{ol=0;var ot=Pt(D,C,R,Q);return ms=null,ot}catch(rt){if(rt===ds||rt===Da)throw rt;var zt=ke(29,rt,null,D.mode);return zt.lanes=Q,zt.return=D,zt}finally{}}}var zn=Rf(!0),Af=Rf(!1),Xi=!1;function Ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(e,i,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(jt&2)!==0){var c=u.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),u.pending=i,i=_a(e),pf(e,null,l),i}return Ma(e,u,i,l),_a(e)}function hl(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,Eh(e,l)}}function Iu(e,i){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var c=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,l=l.next}while(l!==null);h===null?c=h=i:h=h.next=i}else c=h=i;l={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var $u=!1;function fl(){if($u){var e=fs;if(e!==null)throw e}}function dl(e,i,l,u){$u=!1;var c=e.updateQueue;Xi=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var _=b,A=_.next;_.next=null,p===null?h=A:p.next=A,p=_;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==p&&(b===null?H.firstBaseUpdate=A:b.next=A,H.lastBaseUpdate=_))}if(h!==null){var P=c.baseState;p=0,H=A=_=null,b=h;do{var j=b.lane&-536870913,k=j!==b.lane;if(k?(_t&j)===j:(u&j)===j){j!==0&&j===hs&&($u=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var lt=e,ft=b;j=i;var Pt=l;switch(ft.tag){case 1:if(lt=ft.payload,typeof lt=="function"){P=lt.call(Pt,P,j);break t}P=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ft.payload,j=typeof lt=="function"?lt.call(Pt,P,j):lt,j==null)break t;P=v({},P,j);break t;case 2:Xi=!0}}j=b.callback,j!==null&&(e.flags|=64,k&&(e.flags|=8192),k=c.callbacks,k===null?c.callbacks=[j]:k.push(j))}else k={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(A=H=k,_=P):H=H.next=k,p|=j;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;k=b,b=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(_=P),c.baseState=_,c.firstBaseUpdate=A,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),tn|=p,e.lanes=p,e.memoizedState=P}}function jf(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Yf(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)jf(l[e],i)}var gs=E(null),Ya=E(0);function Uf(e,i){e=ji,K(Ya,e),K(gs,i),ji=e|i.baseLanes}function to(){K(Ya,ji),K(gs,gs.current)}function eo(){ji=Ya.current,Y(gs),Y(Ya)}var qe=E(null),$e=null;function Ki(e){var i=e.alternate;K(te,te.current&1),K(qe,e),$e===null&&(i===null||gs.current!==null||i.memoizedState!==null)&&($e=e)}function io(e){K(te,te.current),K(qe,e),$e===null&&($e=e)}function Bf(e){e.tag===22?(K(te,te.current),K(qe,e),$e===null&&($e=e)):Wi()}function Wi(){K(te,te.current),K(qe,qe.current)}function He(e){Y(qe),$e===e&&($e=null),Y(te)}var te=E(0);function Ua(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||oc(l)||cc(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ti=0,pt=null,Qt=null,ae=null,Ba=!1,ps=!1,Dn=!1,La=0,ml=0,ys=null,Av=0;function It(){throw Error(s(321))}function no(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!Le(e[l],i[l]))return!1;return!0}function so(e,i,l,u,c,h){return Ti=h,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=e===null||e.memoizedState===null?xd:xo,Dn=!1,h=l(u,c),Dn=!1,ps&&(h=kf(i,l,u,c)),Lf(e),h}function Lf(e){z.H=yl;var i=Qt!==null&&Qt.next!==null;if(Ti=0,ae=Qt=pt=null,Ba=!1,ml=0,ys=null,i)throw Error(s(300));e===null||re||(e=e.dependencies,e!==null&&Ca(e)&&(re=!0))}function kf(e,i,l,u){pt=e;var c=0;do{if(ps&&(ys=null),ml=0,ps=!1,25<=c)throw Error(s(301));if(c+=1,ae=Qt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=Sd,h=i(l,u)}while(ps);return h}function jv(){var e=z.H,i=e.useState()[0];return i=typeof i.then=="function"?gl(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(pt.flags|=1024),i}function lo(){var e=La!==0;return La=0,e}function ao(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function ro(e){if(Ba){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ba=!1}Ti=0,ae=Qt=pt=null,ps=!1,ml=La=0,ys=null}function Se(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?pt.memoizedState=ae=e:ae=ae.next=e,ae}function ee(){if(Qt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ae===null?pt.memoizedState:ae.next;if(i!==null)ae=i,Qt=e;else{if(e===null)throw pt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ae===null?pt.memoizedState=ae=e:ae=ae.next=e}return ae}function ka(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var i=ml;return ml+=1,ys===null&&(ys=[]),e=Of(ys,e,i),i=pt,(ae===null?i.memoizedState:ae.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?xd:xo),e}function qa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===et)return me(e)}throw Error(s(438,String(e)))}function uo(e){var i=null,l=pt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ka(),pt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),u=0;u<e;u++)l[u]=Rt;return i.index++,l}function Ni(e,i){return typeof i=="function"?i(e):i}function Ha(e){var i=ee();return oo(i,Qt,e)}function oo(e,i,l){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var c=e.baseQueue,h=u.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}i.baseQueue=c=h,u.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{i=c.next;var b=p=null,_=null,A=i,H=!1;do{var P=A.lane&-536870913;if(P!==A.lane?(_t&P)===P:(Ti&P)===P){var j=A.revertLane;if(j===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),P===hs&&(H=!0);else if((Ti&j)===j){A=A.next,j===hs&&(H=!0);continue}else P={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(b=_=P,p=h):_=_.next=P,pt.lanes|=j,tn|=j;P=A.action,Dn&&l(h,P),h=A.hasEagerState?A.eagerState:l(h,P)}else j={lane:P,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(b=_=j,p=h):_=_.next=j,pt.lanes|=P,tn|=P;A=A.next}while(A!==null&&A!==i);if(_===null?p=h:_.next=b,!Le(h,e.memoizedState)&&(re=!0,H&&(l=fs,l!==null)))throw l;e.memoizedState=h,e.baseState=p,e.baseQueue=_,u.lastRenderedState=h}return c===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function co(e){var i=ee(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=l.dispatch,c=l.pending,h=i.memoizedState;if(c!==null){l.pending=null;var p=c=c.next;do h=e(h,p.action),p=p.next;while(p!==c);Le(h,i.memoizedState)||(re=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),l.lastRenderedState=h}return[h,u]}function qf(e,i,l){var u=pt,c=ee(),h=Nt;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=i();var p=!Le((Qt||c).memoizedState,l);if(p&&(c.memoizedState=l,re=!0),c=c.queue,mo(Vf.bind(null,u,c,e),[e]),c.getSnapshot!==i||p||ae!==null&&ae.memoizedState.tag&1){if(u.flags|=2048,vs(9,{destroy:void 0},Qf.bind(null,u,c,l,i),null),Gt===null)throw Error(s(349));h||(Ti&127)!==0||Hf(u,i,l)}return l}function Hf(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=pt.updateQueue,i===null?(i=ka(),pt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function Qf(e,i,l,u){i.value=l,i.getSnapshot=u,Pf(i)&&Gf(e)}function Vf(e,i,l){return l(function(){Pf(i)&&Gf(e)})}function Pf(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!Le(e,l)}catch{return!0}}function Gf(e){var i=wn(e,2);i!==null&&Re(i,e,2)}function ho(e){var i=Se();if(typeof e=="function"){var l=e;if(e=l(),Dn){qi(!0);try{l()}finally{qi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},i}function Ff(e,i,l,u){return e.baseState=l,oo(e,Qt,typeof u=="function"?u:Ni)}function Yv(e,i,l,u,c){if(Pa(e))throw Error(s(485));if(e=i.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};z.T!==null?l(!0):h.isTransition=!1,u(h),l=i.pending,l===null?(h.next=i.pending=h,Xf(i,h)):(h.next=l.next,i.pending=l.next=h)}}function Xf(e,i){var l=i.action,u=i.payload,c=e.state;if(i.isTransition){var h=z.T,p={};z.T=p;try{var b=l(c,u),_=z.S;_!==null&&_(p,b),Jf(e,i,b)}catch(A){fo(e,i,A)}finally{h!==null&&p.types!==null&&(h.types=p.types),z.T=h}}else try{h=l(c,u),Jf(e,i,h)}catch(A){fo(e,i,A)}}function Jf(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Zf(e,i,u)},function(u){return fo(e,i,u)}):Zf(e,i,l)}function Zf(e,i,l){i.status="fulfilled",i.value=l,Kf(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,Xf(e,l)))}function fo(e,i,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Kf(i),i=i.next;while(i!==u)}e.action=null}function Kf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Wf(e,i){return i}function If(e,i){if(Nt){var l=Gt.formState;if(l!==null){t:{var u=pt;if(Nt){if(Xt){e:{for(var c=Xt,h=Ie;c.nodeType!==8;){if(!h){c=null;break e}if(c=ti(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Xt=ti(c.nextSibling),u=c.data==="F!";break t}}Gi(u)}u=!1}u&&(i=l[0])}}return l=Se(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:i},l.queue=u,l=yd.bind(null,pt,u),u.dispatch=l,u=ho(!1),h=bo.bind(null,pt,!1,u.queue),u=Se(),c={state:i,dispatch:null,action:e,pending:null},u.queue=c,l=Yv.bind(null,pt,c,h,l),c.dispatch=l,u.memoizedState=e,[i,l,!1]}function $f(e){var i=ee();return td(i,Qt,e)}function td(e,i,l){if(i=oo(e,i,Wf)[0],e=Ha(Ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=gl(i)}catch(p){throw p===ds?Da:p}else u=i;i=ee();var c=i.queue,h=c.dispatch;return l!==i.memoizedState&&(pt.flags|=2048,vs(9,{destroy:void 0},Uv.bind(null,c,l),null)),[u,h,e]}function Uv(e,i){e.action=i}function ed(e){var i=ee(),l=Qt;if(l!==null)return td(i,l,e);ee(),i=i.memoizedState,l=ee();var u=l.queue.dispatch;return l.memoizedState=e,[i,u,!1]}function vs(e,i,l,u){return e={tag:e,create:l,deps:u,inst:i,next:null},i=pt.updateQueue,i===null&&(i=ka(),pt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,i.lastEffect=e),e}function id(){return ee().memoizedState}function Qa(e,i,l,u){var c=Se();pt.flags|=e,c.memoizedState=vs(1|i,{destroy:void 0},l,u===void 0?null:u)}function Va(e,i,l,u){var c=ee();u=u===void 0?null:u;var h=c.memoizedState.inst;Qt!==null&&u!==null&&no(u,Qt.memoizedState.deps)?c.memoizedState=vs(i,h,l,u):(pt.flags|=e,c.memoizedState=vs(1|i,h,l,u))}function nd(e,i){Qa(8390656,8,e,i)}function mo(e,i){Va(2048,8,e,i)}function Bv(e){pt.flags|=4;var i=pt.updateQueue;if(i===null)i=ka(),pt.updateQueue=i,i.events=[e];else{var l=i.events;l===null?i.events=[e]:l.push(e)}}function sd(e){var i=ee().memoizedState;return Bv({ref:i,nextImpl:e}),function(){if((jt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ld(e,i){return Va(4,2,e,i)}function ad(e,i){return Va(4,4,e,i)}function rd(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ud(e,i,l){l=l!=null?l.concat([e]):null,Va(4,4,rd.bind(null,i,e),l)}function go(){}function od(e,i){var l=ee();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&no(i,u[1])?u[0]:(l.memoizedState=[e,i],e)}function cd(e,i){var l=ee();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&no(i,u[1]))return u[0];if(u=e(),Dn){qi(!0);try{e()}finally{qi(!1)}}return l.memoizedState=[u,i],u}function po(e,i,l){return l===void 0||(Ti&1073741824)!==0&&(_t&261930)===0?e.memoizedState=i:(e.memoizedState=l,e=hm(),pt.lanes|=e,tn|=e,l)}function hd(e,i,l,u){return Le(l,i)?l:gs.current!==null?(e=po(e,l,u),Le(e,i)||(re=!0),e):(Ti&42)===0||(Ti&1073741824)!==0&&(_t&261930)===0?(re=!0,e.memoizedState=l):(e=hm(),pt.lanes|=e,tn|=e,i)}function fd(e,i,l,u,c){var h=X.p;X.p=h!==0&&8>h?h:8;var p=z.T,b={};z.T=b,bo(e,!1,i,l);try{var _=c(),A=z.S;if(A!==null&&A(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var H=Rv(_,u);pl(e,i,H,Pe(e))}else pl(e,i,u,Pe(e))}catch(P){pl(e,i,{then:function(){},status:"rejected",reason:P},Pe())}finally{X.p=h,p!==null&&b.types!==null&&(p.types=b.types),z.T=p}}function Lv(){}function yo(e,i,l,u){if(e.tag!==5)throw Error(s(476));var c=dd(e).queue;fd(e,c,i,nt,l===null?Lv:function(){return md(e),l(u)})}function dd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:nt},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function md(e){var i=dd(e);i.next===null&&(i=e.alternate.memoizedState),pl(e,i.next.queue,{},Pe())}function vo(){return me(Al)}function gd(){return ee().memoizedState}function pd(){return ee().memoizedState}function kv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=Pe();e=Ji(l);var u=Zi(i,e,l);u!==null&&(Re(u,i,l),hl(u,i,l)),i={cache:Fu()},e.payload=i;return}i=i.return}}function qv(e,i,l){var u=Pe();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pa(e)?vd(i,l):(l=Yu(e,i,l,u),l!==null&&(Re(l,e,u),bd(l,i,u)))}function yd(e,i,l){var u=Pe();pl(e,i,l,u)}function pl(e,i,l,u){var c={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pa(e))vd(i,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var p=i.lastRenderedState,b=h(p,l);if(c.hasEagerState=!0,c.eagerState=b,Le(b,p))return Ma(e,i,c,0),Gt===null&&Ea(),!1}catch{}finally{}if(l=Yu(e,i,c,u),l!==null)return Re(l,e,u),bd(l,i,u),!0}return!1}function bo(e,i,l,u){if(u={lane:2,revertLane:Wo(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Pa(e)){if(i)throw Error(s(479))}else i=Yu(e,l,u,2),i!==null&&Re(i,e,2)}function Pa(e){var i=e.alternate;return e===pt||i!==null&&i===pt}function vd(e,i){ps=Ba=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function bd(e,i,l){if((l&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,Eh(e,l)}}var yl={readContext:me,use:qa,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};yl.useEffectEvent=It;var xd={readContext:me,use:qa,useCallback:function(e,i){return Se().memoizedState=[e,i===void 0?null:i],e},useContext:me,useEffect:nd,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,Qa(4194308,4,rd.bind(null,i,e),l)},useLayoutEffect:function(e,i){return Qa(4194308,4,e,i)},useInsertionEffect:function(e,i){Qa(4,2,e,i)},useMemo:function(e,i){var l=Se();i=i===void 0?null:i;var u=e();if(Dn){qi(!0);try{e()}finally{qi(!1)}}return l.memoizedState=[u,i],u},useReducer:function(e,i,l){var u=Se();if(l!==void 0){var c=l(i);if(Dn){qi(!0);try{l(i)}finally{qi(!1)}}}else c=i;return u.memoizedState=u.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},u.queue=e,e=e.dispatch=qv.bind(null,pt,e),[u.memoizedState,e]},useRef:function(e){var i=Se();return e={current:e},i.memoizedState=e},useState:function(e){e=ho(e);var i=e.queue,l=yd.bind(null,pt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:go,useDeferredValue:function(e,i){var l=Se();return po(l,e,i)},useTransition:function(){var e=ho(!1);return e=fd.bind(null,pt,e.queue,!0,!1),Se().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var u=pt,c=Se();if(Nt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Gt===null)throw Error(s(349));(_t&127)!==0||Hf(u,i,l)}c.memoizedState=l;var h={value:l,getSnapshot:i};return c.queue=h,nd(Vf.bind(null,u,h,e),[e]),u.flags|=2048,vs(9,{destroy:void 0},Qf.bind(null,u,h,l,i),null),l},useId:function(){var e=Se(),i=Gt.identifierPrefix;if(Nt){var l=di,u=fi;l=(u&~(1<<32-Be(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=La++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Av++,i="_"+i+"r_"+l.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:vo,useFormState:If,useActionState:If,useOptimistic:function(e){var i=Se();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=bo.bind(null,pt,!0,l),l.dispatch=i,[e,i]},useMemoCache:uo,useCacheRefresh:function(){return Se().memoizedState=kv.bind(null,pt)},useEffectEvent:function(e){var i=Se(),l={impl:e};return i.memoizedState=l,function(){if((jt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},xo={readContext:me,use:qa,useCallback:od,useContext:me,useEffect:mo,useImperativeHandle:ud,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:cd,useReducer:Ha,useRef:id,useState:function(){return Ha(Ni)},useDebugValue:go,useDeferredValue:function(e,i){var l=ee();return hd(l,Qt.memoizedState,e,i)},useTransition:function(){var e=Ha(Ni)[0],i=ee().memoizedState;return[typeof e=="boolean"?e:gl(e),i]},useSyncExternalStore:qf,useId:gd,useHostTransitionStatus:vo,useFormState:$f,useActionState:$f,useOptimistic:function(e,i){var l=ee();return Ff(l,Qt,e,i)},useMemoCache:uo,useCacheRefresh:pd};xo.useEffectEvent=sd;var Sd={readContext:me,use:qa,useCallback:od,useContext:me,useEffect:mo,useImperativeHandle:ud,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:cd,useReducer:co,useRef:id,useState:function(){return co(Ni)},useDebugValue:go,useDeferredValue:function(e,i){var l=ee();return Qt===null?po(l,e,i):hd(l,Qt.memoizedState,e,i)},useTransition:function(){var e=co(Ni)[0],i=ee().memoizedState;return[typeof e=="boolean"?e:gl(e),i]},useSyncExternalStore:qf,useId:gd,useHostTransitionStatus:vo,useFormState:ed,useActionState:ed,useOptimistic:function(e,i){var l=ee();return Qt!==null?Ff(l,Qt,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:uo,useCacheRefresh:pd};Sd.useEffectEvent=sd;function So(e,i,l,u){i=e.memoizedState,l=l(u,i),l=l==null?i:v({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var wo={enqueueSetState:function(e,i,l){e=e._reactInternals;var u=Pe(),c=Ji(u);c.payload=i,l!=null&&(c.callback=l),i=Zi(e,c,u),i!==null&&(Re(i,e,u),hl(i,e,u))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var u=Pe(),c=Ji(u);c.tag=1,c.payload=i,l!=null&&(c.callback=l),i=Zi(e,c,u),i!==null&&(Re(i,e,u),hl(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=Pe(),u=Ji(l);u.tag=2,i!=null&&(u.callback=i),i=Zi(e,u,l),i!==null&&(Re(i,e,l),hl(i,e,l))}};function wd(e,i,l,u,c,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,h,p):i.prototype&&i.prototype.isPureReactComponent?!nl(l,u)||!nl(c,h):!0}function Ed(e,i,l,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==e&&wo.enqueueReplaceState(i,i.state,null)}function Rn(e,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(e=e.defaultProps){l===i&&(l=v({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function Md(e){wa(e)}function _d(e){console.error(e)}function Td(e){wa(e)}function Ga(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Nd(e,i,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eo(e,i,l){return l=Ji(l),l.tag=3,l.payload={element:null},l.callback=function(){Ga(e,i)},l}function Cd(e){return e=Ji(e),e.tag=3,e}function Od(e,i,l,u){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var h=u.value;e.payload=function(){return c(h)},e.callback=function(){Nd(i,l,u)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Nd(i,l,u),typeof c!="function"&&(en===null?en=new Set([this]):en.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Hv(e,i,l,u,c){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&cs(i,l,c,!0),l=qe.current,l!==null){switch(l.tag){case 31:case 13:return $e===null?nr():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=c,u===Ra?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Jo(e,u,c)),!1;case 22:return l.flags|=65536,u===Ra?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Jo(e,u,c)),!1}throw Error(s(435,l.tag))}return Jo(e,u,c),nr(),!1}if(Nt)return i=qe.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,u!==Hu&&(e=Error(s(422),{cause:u}),al(Ze(e,l)))):(u!==Hu&&(i=Error(s(423),{cause:u}),al(Ze(i,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,u=Ze(u,l),c=Eo(e.stateNode,u,c),Iu(e,c),$t!==4&&($t=2)),!1;var h=Error(s(520),{cause:u});if(h=Ze(h,l),_l===null?_l=[h]:_l.push(h),$t!==4&&($t=2),i===null)return!0;u=Ze(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=Eo(l.stateNode,u,e),Iu(l,e),!1;case 1:if(i=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(en===null||!en.has(h))))return l.flags|=65536,c&=-c,l.lanes|=c,c=Cd(c),Od(c,e,l,u),Iu(l,c),!1}l=l.return}while(l!==null);return!1}var Mo=Error(s(461)),re=!1;function ge(e,i,l,u){i.child=e===null?Af(i,null,l,u):zn(i,e.child,l,u)}function zd(e,i,l,u,c){l=l.render;var h=i.ref;if("ref"in u){var p={};for(var b in u)b!=="ref"&&(p[b]=u[b])}else p=u;return Tn(i),u=so(e,i,l,p,h,c),b=lo(),e!==null&&!re?(ao(e,i,c),Ci(e,i,c)):(Nt&&b&&ku(i),i.flags|=1,ge(e,i,u,c),i.child)}function Dd(e,i,l,u,c){if(e===null){var h=l.type;return typeof h=="function"&&!Uu(h)&&h.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=h,Rd(e,i,h,u,c)):(e=Ta(l.type,null,u,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(h=e.child,!Ro(e,c)){var p=h.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(p,u)&&e.ref===i.ref)return Ci(e,i,c)}return i.flags|=1,e=wi(h,u),e.ref=i.ref,e.return=i,i.child=e}function Rd(e,i,l,u,c){if(e!==null){var h=e.memoizedProps;if(nl(h,u)&&e.ref===i.ref)if(re=!1,i.pendingProps=u=h,Ro(e,c))(e.flags&131072)!==0&&(re=!0);else return i.lanes=e.lanes,Ci(e,i,c)}return _o(e,i,l,u,c)}function Ad(e,i,l,u){var c=u.children,h=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(u=i.child=e.child,c=0;u!==null;)c=c|u.lanes|u.childLanes,u=u.sibling;u=c&~h}else u=0,i.child=null;return jd(e,i,h,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&za(i,h!==null?h.cachePool:null),h!==null?Uf(i,h):to(),Bf(i);else return u=i.lanes=536870912,jd(e,i,h!==null?h.baseLanes|l:l,l,u)}else h!==null?(za(i,h.cachePool),Uf(i,h),Wi(),i.memoizedState=null):(e!==null&&za(i,null),to(),Wi());return ge(e,i,c,l),i.child}function vl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function jd(e,i,l,u,c){var h=Ju();return h=h===null?null:{parent:le._currentValue,pool:h},i.memoizedState={baseLanes:l,cachePool:h},e!==null&&za(i,null),to(),Bf(i),e!==null&&cs(e,i,u,!0),i.childLanes=c,null}function Fa(e,i){return i=Ja({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Yd(e,i,l){return zn(i,e.child,null,l),e=Fa(i,i.pendingProps),e.flags|=2,He(i),i.memoizedState=null,e}function Qv(e,i,l){var u=i.pendingProps,c=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Nt){if(u.mode==="hidden")return e=Fa(i,u),i.lanes=536870912,vl(null,e);if(io(i),(e=Xt)?(e=Xm(e,Ie),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},l=vf(e),l.return=i,i.child=l,de=i,Xt=null)):e=null,e===null)throw Gi(i);return i.lanes=536870912,null}return Fa(i,u)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(io(i),c)if(i.flags&256)i.flags&=-257,i=Yd(e,i,l);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(re||cs(e,i,l,!1),c=(l&e.childLanes)!==0,re||c){if(u=Gt,u!==null&&(p=Mh(u,l),p!==0&&p!==h.retryLane))throw h.retryLane=p,wn(e,p),Re(u,e,p),Mo;nr(),i=Yd(e,i,l)}else e=h.treeContext,Xt=ti(p.nextSibling),de=i,Nt=!0,Pi=null,Ie=!1,e!==null&&Sf(i,e),i=Fa(i,u),i.flags|=4096;return i}return e=wi(e.child,{mode:u.mode,children:u.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Xa(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function _o(e,i,l,u,c){return Tn(i),l=so(e,i,l,u,void 0,c),u=lo(),e!==null&&!re?(ao(e,i,c),Ci(e,i,c)):(Nt&&u&&ku(i),i.flags|=1,ge(e,i,l,c),i.child)}function Ud(e,i,l,u,c,h){return Tn(i),i.updateQueue=null,l=kf(i,u,l,c),Lf(e),u=lo(),e!==null&&!re?(ao(e,i,h),Ci(e,i,h)):(Nt&&u&&ku(i),i.flags|=1,ge(e,i,l,h),i.child)}function Bd(e,i,l,u,c){if(Tn(i),i.stateNode===null){var h=as,p=l.contextType;typeof p=="object"&&p!==null&&(h=me(p)),h=new l(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wo,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},Ku(i),p=l.contextType,h.context=typeof p=="object"&&p!==null?me(p):as,h.state=i.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(So(i,l,p,u),h.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&wo.enqueueReplaceState(h,h.state,null),dl(i,u,h,c),fl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){h=i.stateNode;var b=i.memoizedProps,_=Rn(l,b);h.props=_;var A=h.context,H=l.contextType;p=as,typeof H=="object"&&H!==null&&(p=me(H));var P=l.getDerivedStateFromProps;H=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||A!==p)&&Ed(i,h,u,p),Xi=!1;var j=i.memoizedState;h.state=j,dl(i,u,h,c),fl(),A=i.memoizedState,b||j!==A||Xi?(typeof P=="function"&&(So(i,l,P,u),A=i.memoizedState),(_=Xi||wd(i,l,_,u,j,A,p))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=A),h.props=u,h.state=A,h.context=p,u=_):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,Wu(e,i),p=i.memoizedProps,H=Rn(l,p),h.props=H,P=i.pendingProps,j=h.context,A=l.contextType,_=as,typeof A=="object"&&A!==null&&(_=me(A)),b=l.getDerivedStateFromProps,(A=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==P||j!==_)&&Ed(i,h,u,_),Xi=!1,j=i.memoizedState,h.state=j,dl(i,u,h,c),fl();var k=i.memoizedState;p!==P||j!==k||Xi||e!==null&&e.dependencies!==null&&Ca(e.dependencies)?(typeof b=="function"&&(So(i,l,b,u),k=i.memoizedState),(H=Xi||wd(i,l,H,u,j,k,_)||e!==null&&e.dependencies!==null&&Ca(e.dependencies))?(A||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,k,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,k,_)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=k),h.props=u,h.state=k,h.context=_,u=H):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),u=!1)}return h=u,Xa(e,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,e!==null&&u?(i.child=zn(i,e.child,null,c),i.child=zn(i,null,l,c)):ge(e,i,l,c),i.memoizedState=h.state,e=i.child):e=Ci(e,i,c),e}function Ld(e,i,l,u){return Mn(),i.flags|=256,ge(e,i,l,u),i.child}var To={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function No(e){return{baseLanes:e,cachePool:Nf()}}function Co(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=Ve),e}function kd(e,i,l){var u=i.pendingProps,c=!1,h=(i.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(te.current&2)!==0),p&&(c=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Nt){if(c?Ki(i):Wi(),(e=Xt)?(e=Xm(e,Ie),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},l=vf(e),l.return=i,i.child=l,de=i,Xt=null)):e=null,e===null)throw Gi(i);return cc(e)?i.lanes=32:i.lanes=536870912,null}var b=u.children;return u=u.fallback,c?(Wi(),c=i.mode,b=Ja({mode:"hidden",children:b},c),u=En(u,c,l,null),b.return=i,u.return=i,b.sibling=u,i.child=b,u=i.child,u.memoizedState=No(l),u.childLanes=Co(e,p,l),i.memoizedState=To,vl(null,u)):(Ki(i),Oo(i,b))}var _=e.memoizedState;if(_!==null&&(b=_.dehydrated,b!==null)){if(h)i.flags&256?(Ki(i),i.flags&=-257,i=zo(e,i,l)):i.memoizedState!==null?(Wi(),i.child=e.child,i.flags|=128,i=null):(Wi(),b=u.fallback,c=i.mode,u=Ja({mode:"visible",children:u.children},c),b=En(b,c,l,null),b.flags|=2,u.return=i,b.return=i,u.sibling=b,i.child=u,zn(i,e.child,null,l),u=i.child,u.memoizedState=No(l),u.childLanes=Co(e,p,l),i.memoizedState=To,i=vl(null,u));else if(Ki(i),cc(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var A=p.dgst;p=A,u=Error(s(419)),u.stack="",u.digest=p,al({value:u,source:null,stack:null}),i=zo(e,i,l)}else if(re||cs(e,i,l,!1),p=(l&e.childLanes)!==0,re||p){if(p=Gt,p!==null&&(u=Mh(p,l),u!==0&&u!==_.retryLane))throw _.retryLane=u,wn(e,u),Re(p,e,u),Mo;oc(b)||nr(),i=zo(e,i,l)}else oc(b)?(i.flags|=192,i.child=e.child,i=null):(e=_.treeContext,Xt=ti(b.nextSibling),de=i,Nt=!0,Pi=null,Ie=!1,e!==null&&Sf(i,e),i=Oo(i,u.children),i.flags|=4096);return i}return c?(Wi(),b=u.fallback,c=i.mode,_=e.child,A=_.sibling,u=wi(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,A!==null?b=wi(A,b):(b=En(b,c,l,null),b.flags|=2),b.return=i,u.return=i,u.sibling=b,i.child=u,vl(null,u),u=i.child,b=e.child.memoizedState,b===null?b=No(l):(c=b.cachePool,c!==null?(_=le._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=Nf(),b={baseLanes:b.baseLanes|l,cachePool:c}),u.memoizedState=b,u.childLanes=Co(e,p,l),i.memoizedState=To,vl(e.child,u)):(Ki(i),l=e.child,e=l.sibling,l=wi(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=l,i.memoizedState=null,l)}function Oo(e,i){return i=Ja({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ja(e,i){return e=ke(22,e,null,i),e.lanes=0,e}function zo(e,i,l){return zn(i,e.child,null,l),e=Oo(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function qd(e,i,l){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),Pu(e.return,i,l)}function Do(e,i,l,u,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:c,treeForkCount:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=c,p.treeForkCount=h)}function Hd(e,i,l){var u=i.pendingProps,c=u.revealOrder,h=u.tail;u=u.children;var p=te.current,b=(p&2)!==0;if(b?(p=p&1|2,i.flags|=128):p&=1,K(te,p),ge(e,i,u,l),u=Nt?ll:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qd(e,l,i);else if(e.tag===19)qd(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=i.child,c=null;l!==null;)e=l.alternate,e!==null&&Ua(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=i.child,i.child=null):(c=l.sibling,l.sibling=null),Do(i,!1,c,l,h,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Ua(e)===null){i.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Do(i,!0,l,null,h,u);break;case"together":Do(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Ci(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),tn|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(cs(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=wi(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=wi(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Ro(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ca(e)))}function Vv(e,i,l){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),Fi(i,le,e.memoizedState.cache),Mn();break;case 27:case 5:Me(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,io(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ki(i),i.flags|=128,null):(l&i.child.childLanes)!==0?kd(e,i,l):(Ki(i),e=Ci(e,i,l),e!==null?e.sibling:null);Ki(i);break;case 19:var c=(e.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(cs(e,i,l,!1),u=(l&i.childLanes)!==0),c){if(u)return Hd(e,i,l);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(te,te.current),u)break;return null;case 22:return i.lanes=0,Ad(e,i,l,i.pendingProps);case 24:Fi(i,le,e.memoizedState.cache)}return Ci(e,i,l)}function Qd(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)re=!0;else{if(!Ro(e,l)&&(i.flags&128)===0)return re=!1,Vv(e,i,l);re=(e.flags&131072)!==0}else re=!1,Nt&&(i.flags&1048576)!==0&&xf(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(e=Cn(i.elementType),i.type=e,typeof e=="function")Uu(e)?(u=Rn(e,u),i.tag=1,i=Bd(null,i,e,u,l)):(i.tag=0,i=_o(null,i,e,u,l));else{if(e!=null){var c=e.$$typeof;if(c===it){i.tag=11,i=zd(null,i,e,u,l);break t}else if(c===$){i.tag=14,i=Dd(null,i,e,u,l);break t}}throw i=At(e)||e,Error(s(306,i,""))}}return i;case 0:return _o(e,i,i.type,i.pendingProps,l);case 1:return u=i.type,c=Rn(u,i.pendingProps),Bd(e,i,u,c,l);case 3:t:{if(Bt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));u=i.pendingProps;var h=i.memoizedState;c=h.element,Wu(e,i),dl(i,u,null,l);var p=i.memoizedState;if(u=p.cache,Fi(i,le,u),u!==h.cache&&Gu(i,[le],l,!0),fl(),u=p.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Ld(e,i,u,l);break t}else if(u!==c){c=Ze(Error(s(424)),i),al(c),i=Ld(e,i,u,l);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=ti(e.firstChild),de=i,Nt=!0,Pi=null,Ie=!0,l=Af(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Mn(),u===c){i=Ci(e,i,l);break t}ge(e,i,u,l)}i=i.child}return i;case 26:return Xa(e,i),e===null?(l=$m(i.type,null,i.pendingProps,null))?i.memoizedState=l:Nt||(l=i.type,e=i.pendingProps,u=cr(W.current).createElement(l),u[fe]=i,u[Te]=e,pe(u,l,e),ce(u),i.stateNode=u):i.memoizedState=$m(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Me(i),e===null&&Nt&&(u=i.stateNode=Km(i.type,i.pendingProps,W.current),de=i,Ie=!0,c=Xt,an(i.type)?(hc=c,Xt=ti(u.firstChild)):Xt=c),ge(e,i,i.pendingProps.children,l),Xa(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Nt&&((c=u=Xt)&&(u=bb(u,i.type,i.pendingProps,Ie),u!==null?(i.stateNode=u,de=i,Xt=ti(u.firstChild),Ie=!1,c=!0):c=!1),c||Gi(i)),Me(i),c=i.type,h=i.pendingProps,p=e!==null?e.memoizedProps:null,u=h.children,ac(c,h)?u=null:p!==null&&ac(c,p)&&(i.flags|=32),i.memoizedState!==null&&(c=so(e,i,jv,null,null,l),Al._currentValue=c),Xa(e,i),ge(e,i,u,l),i.child;case 6:return e===null&&Nt&&((e=l=Xt)&&(l=xb(l,i.pendingProps,Ie),l!==null?(i.stateNode=l,de=i,Xt=null,e=!0):e=!1),e||Gi(i)),null;case 13:return kd(e,i,l);case 4:return Bt(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=zn(i,null,u,l):ge(e,i,u,l),i.child;case 11:return zd(e,i,i.type,i.pendingProps,l);case 7:return ge(e,i,i.pendingProps,l),i.child;case 8:return ge(e,i,i.pendingProps.children,l),i.child;case 12:return ge(e,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Fi(i,i.type,u.value),ge(e,i,u.children,l),i.child;case 9:return c=i.type._context,u=i.pendingProps.children,Tn(i),c=me(c),u=u(c),i.flags|=1,ge(e,i,u,l),i.child;case 14:return Dd(e,i,i.type,i.pendingProps,l);case 15:return Rd(e,i,i.type,i.pendingProps,l);case 19:return Hd(e,i,l);case 31:return Qv(e,i,l);case 22:return Ad(e,i,l,i.pendingProps);case 24:return Tn(i),u=me(le),e===null?(c=Ju(),c===null&&(c=Gt,h=Fu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=l),c=h),i.memoizedState={parent:u,cache:c},Ku(i),Fi(i,le,c)):((e.lanes&l)!==0&&(Wu(e,i),dl(i,null,null,l),fl()),c=e.memoizedState,h=i.memoizedState,c.parent!==u?(c={parent:u,cache:u},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Fi(i,le,u)):(u=h.cache,Fi(i,le,u),u!==c.cache&&Gu(i,[le],l,!0))),ge(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oi(e){e.flags|=4}function Ao(e,i,l,u,c){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(gm())e.flags|=8192;else throw On=Ra,Zu}else e.flags&=-16777217}function Vd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sg(i))if(gm())e.flags|=8192;else throw On=Ra,Zu}function Za(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Sh():536870912,e.lanes|=i,ws|=i)}function bl(e,i){if(!Nt)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(i)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,u|=c.subtreeFlags&65011712,u|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=l,i}function Pv(e,i,l){var u=i.pendingProps;switch(qu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return l=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),_i(le),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(os(i)?Oi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qu())),Jt(i),null;case 26:var c=i.type,h=i.memoizedState;return e===null?(Oi(i),h!==null?(Jt(i),Vd(i,h)):(Jt(i),Ao(i,c,null,u,l))):h?h!==e.memoizedState?(Oi(i),Jt(i),Vd(i,h)):(Jt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==u&&Oi(i),Jt(i),Ao(i,c,e,u,l)),null;case 27:if(ci(i),l=W.current,c=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Oi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=L.current,os(i)?wf(i):(e=Km(c,u,l),i.stateNode=e,Oi(i))}return Jt(i),null;case 5:if(ci(i),c=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Oi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(h=L.current,os(i))wf(i);else{var p=cr(W.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?h.multiple=!0:u.size&&(h.size=u.size);break;default:h=typeof u.is=="string"?p.createElement(c,{is:u.is}):p.createElement(c)}}h[fe]=i,h[Te]=u;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=h;t:switch(pe(h,c,u),c){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Oi(i)}}return Jt(i),Ao(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,l),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&Oi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=W.current,os(i)){if(e=i.stateNode,l=i.memoizedProps,u=null,c=de,c!==null)switch(c.tag){case 27:case 5:u=c.memoizedProps}e[fe]=i,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||km(e.nodeValue,l)),e||Gi(i,!0)}else e=cr(e).createTextNode(u),e[fe]=i,i.stateNode=e}return Jt(i),null;case 31:if(l=i.memoizedState,e===null||e.memoizedState!==null){if(u=os(i),l!==null){if(e===null){if(!u)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[fe]=i}else Mn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),e=!1}else l=Qu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return i.flags&256?(He(i),i):(He(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Jt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=os(i),u!==null&&u.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[fe]=i}else Mn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),c=!1}else c=Qu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(He(i),i):(He(i),null)}return He(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,e=e!==null&&e.memoizedState!==null,l&&(u=i.child,c=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(c=u.alternate.memoizedState.cachePool.pool),h=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==c&&(u.flags|=2048)),l!==e&&l&&(i.child.flags|=8192),Za(i,i.updateQueue),Jt(i),null);case 4:return Ct(),e===null&&ec(i.stateNode.containerInfo),Jt(i),null;case 10:return _i(i.type),Jt(i),null;case 19:if(Y(te),u=i.memoizedState,u===null)return Jt(i),null;if(c=(i.flags&128)!==0,h=u.rendering,h===null)if(c)bl(u,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(h=Ua(e),h!==null){for(i.flags|=128,bl(u,!1),e=h.updateQueue,i.updateQueue=e,Za(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)yf(l,e),l=l.sibling;return K(te,te.current&1|2),Nt&&Ei(i,u.treeForkCount),i.child}e=e.sibling}u.tail!==null&&I()>tr&&(i.flags|=128,c=!0,bl(u,!1),i.lanes=4194304)}else{if(!c)if(e=Ua(h),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,Za(i,e),bl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Nt)return Jt(i),null}else 2*I()-u.renderingStartTime>tr&&l!==536870912&&(i.flags|=128,c=!0,bl(u,!1),i.lanes=4194304);u.isBackwards?(h.sibling=i.child,i.child=h):(e=u.last,e!==null?e.sibling=h:i.child=h,u.last=h)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=I(),e.sibling=null,l=te.current,K(te,c?l&1|2:l&1),Nt&&Ei(i,u.treeForkCount),e):(Jt(i),null);case 22:case 23:return He(i),eo(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),l=i.updateQueue,l!==null&&Za(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),e!==null&&Y(Nn),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),_i(le),Jt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Gv(e,i){switch(qu(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return _i(le),Ct(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ci(i),null;case 31:if(i.memoizedState!==null){if(He(i),i.alternate===null)throw Error(s(340));Mn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(He(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(te),null;case 4:return Ct(),null;case 10:return _i(i.type),null;case 22:case 23:return He(i),eo(),e!==null&&Y(Nn),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return _i(le),null;case 25:return null;default:return null}}function Pd(e,i){switch(qu(i),i.tag){case 3:_i(le),Ct();break;case 26:case 27:case 5:ci(i);break;case 4:Ct();break;case 31:i.memoizedState!==null&&He(i);break;case 13:He(i);break;case 19:Y(te);break;case 10:_i(i.type);break;case 22:case 23:He(i),eo(),e!==null&&Y(Nn);break;case 24:_i(le)}}function xl(e,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var c=u.next;l=c;do{if((l.tag&e)===e){u=void 0;var h=l.create,p=l.inst;u=h(),p.destroy=u}l=l.next}while(l!==c)}}catch(b){kt(i,i.return,b)}}function Ii(e,i,l){try{var u=i.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var h=c.next;u=h;do{if((u.tag&e)===e){var p=u.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,c=i;var _=l,A=b;try{A()}catch(H){kt(c,_,H)}}}u=u.next}while(u!==h)}}catch(H){kt(i,i.return,H)}}function Gd(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{Yf(i,l)}catch(u){kt(e,e.return,u)}}}function Fd(e,i,l){l.props=Rn(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){kt(e,i,u)}}function Sl(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof l=="function"?e.refCleanup=l(u):l.current=u}}catch(c){kt(e,i,c)}}function mi(e,i){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(c){kt(e,i,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){kt(e,i,c)}else l.current=null}function Xd(e){var i=e.type,l=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(c){kt(e,e.return,c)}}function jo(e,i,l){try{var u=e.stateNode;db(u,e.type,l,i),u[Te]=i}catch(c){kt(e,e.return,c)}}function Jd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&an(e.type)||e.tag===4}function Yo(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&an(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uo(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=xi));else if(u!==4&&(u===27&&an(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Uo(e,i,l),e=e.sibling;e!==null;)Uo(e,i,l),e=e.sibling}function Ka(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(u!==4&&(u===27&&an(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ka(e,i,l),e=e.sibling;e!==null;)Ka(e,i,l),e=e.sibling}function Zd(e){var i=e.stateNode,l=e.memoizedProps;try{for(var u=e.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);pe(i,u,l),i[fe]=e,i[Te]=l}catch(h){kt(e,e.return,h)}}var zi=!1,ue=!1,Bo=!1,Kd=typeof WeakSet=="function"?WeakSet:Set,he=null;function Fv(e,i){if(e=e.containerInfo,sc=yr,e=uf(e),Ou(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break t}var p=0,b=-1,_=-1,A=0,H=0,P=e,j=null;e:for(;;){for(var k;P!==l||c!==0&&P.nodeType!==3||(b=p+c),P!==h||u!==0&&P.nodeType!==3||(_=p+u),P.nodeType===3&&(p+=P.nodeValue.length),(k=P.firstChild)!==null;)j=P,P=k;for(;;){if(P===e)break e;if(j===l&&++A===c&&(b=p),j===h&&++H===u&&(_=p),(k=P.nextSibling)!==null)break;P=j,j=P.parentNode}P=k}l=b===-1||_===-1?null:{start:b,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for(lc={focusedElem:e,selectionRange:l},yr=!1,he=i;he!==null;)if(i=he,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,he=e;else for(;he!==null;){switch(i=he,h=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=i,c=h.memoizedProps,h=h.memoizedState,u=l.stateNode;try{var lt=Rn(l.type,c);e=u.getSnapshotBeforeUpdate(lt,h),u.__reactInternalSnapshotBeforeUpdate=e}catch(ft){kt(l,l.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)uc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,he=e;break}he=i.return}}function Wd(e,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ri(e,l),u&4&&xl(5,l);break;case 1:if(Ri(e,l),u&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(p){kt(l,l.return,p)}else{var c=Rn(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(c,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){kt(l,l.return,p)}}u&64&&Gd(l),u&512&&Sl(l,l.return);break;case 3:if(Ri(e,l),u&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Yf(e,i)}catch(p){kt(l,l.return,p)}}break;case 27:i===null&&u&4&&Zd(l);case 26:case 5:Ri(e,l),i===null&&u&4&&Xd(l),u&512&&Sl(l,l.return);break;case 12:Ri(e,l);break;case 31:Ri(e,l),u&4&&tm(e,l);break;case 13:Ri(e,l),u&4&&em(e,l),u&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=eb.bind(null,l),Sb(e,l))));break;case 22:if(u=l.memoizedState!==null||zi,!u){i=i!==null&&i.memoizedState!==null||ue,c=zi;var h=ue;zi=u,(ue=i)&&!h?Ai(e,l,(l.subtreeFlags&8772)!==0):Ri(e,l),zi=c,ue=h}break;case 30:break;default:Ri(e,l)}}function Id(e){var i=e.alternate;i!==null&&(e.alternate=null,Id(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fu(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Zt=null,Ce=!1;function Di(e,i,l){for(l=l.child;l!==null;)$d(e,i,l),l=l.sibling}function $d(e,i,l){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(hi,l)}catch{}switch(l.tag){case 26:ue||mi(l,i),Di(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ue||mi(l,i);var u=Zt,c=Ce;an(l.type)&&(Zt=l.stateNode,Ce=!1),Di(e,i,l),zl(l.stateNode),Zt=u,Ce=c;break;case 5:ue||mi(l,i);case 6:if(u=Zt,c=Ce,Zt=null,Di(e,i,l),Zt=u,Ce=c,Zt!==null)if(Ce)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(l.stateNode)}catch(h){kt(l,i,h)}else try{Zt.removeChild(l.stateNode)}catch(h){kt(l,i,h)}break;case 18:Zt!==null&&(Ce?(e=Zt,Gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),zs(e)):Gm(Zt,l.stateNode));break;case 4:u=Zt,c=Ce,Zt=l.stateNode.containerInfo,Ce=!0,Di(e,i,l),Zt=u,Ce=c;break;case 0:case 11:case 14:case 15:Ii(2,l,i),ue||Ii(4,l,i),Di(e,i,l);break;case 1:ue||(mi(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Fd(l,i,u)),Di(e,i,l);break;case 21:Di(e,i,l);break;case 22:ue=(u=ue)||l.memoizedState!==null,Di(e,i,l),ue=u;break;default:Di(e,i,l)}}function tm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(l){kt(i,i.return,l)}}}function em(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(l){kt(i,i.return,l)}}function Xv(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Kd),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Kd),i;default:throw Error(s(435,e.tag))}}function Wa(e,i){var l=Xv(e);i.forEach(function(u){if(!l.has(u)){l.add(u);var c=ib.bind(null,e,u);u.then(c,c)}})}function Oe(e,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var c=l[u],h=e,p=i,b=p;t:for(;b!==null;){switch(b.tag){case 27:if(an(b.type)){Zt=b.stateNode,Ce=!1;break t}break;case 5:Zt=b.stateNode,Ce=!1;break t;case 3:case 4:Zt=b.stateNode.containerInfo,Ce=!0;break t}b=b.return}if(Zt===null)throw Error(s(160));$d(h,p,c),Zt=null,Ce=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)im(i,e),i=i.sibling}var li=null;function im(e,i){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oe(i,e),ze(e),u&4&&(Ii(3,e,e.return),xl(3,e),Ii(5,e,e.return));break;case 1:Oe(i,e),ze(e),u&512&&(ue||l===null||mi(l,l.return)),u&64&&zi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var c=li;if(Oe(i,e),ze(e),u&512&&(ue||l===null||mi(l,l.return)),u&4){var h=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){t:{u=e.type,l=e.memoizedProps,c=c.ownerDocument||c;e:switch(u){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Js]||h[fe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(u),c.head.insertBefore(h,c.querySelector("head > title"))),pe(h,u,l),h[fe]=e,ce(h),u=h;break t;case"link":var p=ig("link","href",c).get(u+(l.href||""));if(p){for(var b=0;b<p.length;b++)if(h=p[b],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(b,1);break e}}h=c.createElement(u),pe(h,u,l),c.head.appendChild(h);break;case"meta":if(p=ig("meta","content",c).get(u+(l.content||""))){for(b=0;b<p.length;b++)if(h=p[b],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(b,1);break e}}h=c.createElement(u),pe(h,u,l),c.head.appendChild(h);break;default:throw Error(s(468,u))}h[fe]=e,ce(h),u=h}e.stateNode=u}else ng(c,e.type,e.stateNode);else e.stateNode=eg(c,u,e.memoizedProps);else h!==u?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,u===null?ng(c,e.type,e.stateNode):eg(c,u,e.memoizedProps)):u===null&&e.stateNode!==null&&jo(e,e.memoizedProps,l.memoizedProps)}break;case 27:Oe(i,e),ze(e),u&512&&(ue||l===null||mi(l,l.return)),l!==null&&u&4&&jo(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Oe(i,e),ze(e),u&512&&(ue||l===null||mi(l,l.return)),e.flags&32){c=e.stateNode;try{$n(c,"")}catch(lt){kt(e,e.return,lt)}}u&4&&e.stateNode!=null&&(c=e.memoizedProps,jo(e,c,l!==null?l.memoizedProps:c)),u&1024&&(Bo=!0);break;case 6:if(Oe(i,e),ze(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(lt){kt(e,e.return,lt)}}break;case 3:if(dr=null,c=li,li=hr(i.containerInfo),Oe(i,e),li=c,ze(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{zs(i.containerInfo)}catch(lt){kt(e,e.return,lt)}Bo&&(Bo=!1,nm(e));break;case 4:u=li,li=hr(e.stateNode.containerInfo),Oe(i,e),ze(e),li=u;break;case 12:Oe(i,e),ze(e);break;case 31:Oe(i,e),ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Wa(e,u)));break;case 13:Oe(i,e),ze(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($a=I()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Wa(e,u)));break;case 22:c=e.memoizedState!==null;var _=l!==null&&l.memoizedState!==null,A=zi,H=ue;if(zi=A||c,ue=H||_,Oe(i,e),ue=H,zi=A,ze(e),u&8192)t:for(i=e.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(l===null||_||zi||ue||An(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){_=l=i;try{if(h=_.stateNode,c)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=_.stateNode;var P=_.memoizedProps.style,j=P!=null&&P.hasOwnProperty("display")?P.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){kt(_,_.return,lt)}}}else if(i.tag===6){if(l===null){_=i;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(lt){kt(_,_.return,lt)}}}else if(i.tag===18){if(l===null){_=i;try{var k=_.stateNode;c?Fm(k,!0):Fm(_.stateNode,!1)}catch(lt){kt(_,_.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Wa(e,l))));break;case 19:Oe(i,e),ze(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Wa(e,u)));break;case 30:break;case 21:break;default:Oe(i,e),ze(e)}}function ze(e){var i=e.flags;if(i&2){try{for(var l,u=e.return;u!==null;){if(Jd(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var c=l.stateNode,h=Yo(e);Ka(e,h,c);break;case 5:var p=l.stateNode;l.flags&32&&($n(p,""),l.flags&=-33);var b=Yo(e);Ka(e,b,p);break;case 3:case 4:var _=l.stateNode.containerInfo,A=Yo(e);Uo(e,A,_);break;default:throw Error(s(161))}}catch(H){kt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;nm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ri(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wd(e,i.alternate,i),i=i.sibling}function An(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),An(i);break;case 1:mi(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Fd(i,i.return,l),An(i);break;case 27:zl(i.stateNode);case 26:case 5:mi(i,i.return),An(i);break;case 22:i.memoizedState===null&&An(i);break;case 30:An(i);break;default:An(i)}e=e.sibling}}function Ai(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,c=e,h=i,p=h.flags;switch(h.tag){case 0:case 11:case 15:Ai(c,h,l),xl(4,h);break;case 1:if(Ai(c,h,l),u=h,c=u.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){kt(u,u.return,A)}if(u=h,c=u.updateQueue,c!==null){var b=u.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)jf(_[c],b)}catch(A){kt(u,u.return,A)}}l&&p&64&&Gd(h),Sl(h,h.return);break;case 27:Zd(h);case 26:case 5:Ai(c,h,l),l&&u===null&&p&4&&Xd(h),Sl(h,h.return);break;case 12:Ai(c,h,l);break;case 31:Ai(c,h,l),l&&p&4&&tm(c,h);break;case 13:Ai(c,h,l),l&&p&4&&em(c,h);break;case 22:h.memoizedState===null&&Ai(c,h,l),Sl(h,h.return);break;case 30:break;default:Ai(c,h,l)}i=i.sibling}}function Lo(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&rl(l))}function ko(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&rl(e))}function ai(e,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sm(e,i,l,u),i=i.sibling}function sm(e,i,l,u){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,l,u),c&2048&&xl(9,i);break;case 1:ai(e,i,l,u);break;case 3:ai(e,i,l,u),c&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&rl(e)));break;case 12:if(c&2048){ai(e,i,l,u),e=i.stateNode;try{var h=i.memoizedProps,p=h.id,b=h.onPostCommit;typeof b=="function"&&b(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){kt(i,i.return,_)}}else ai(e,i,l,u);break;case 31:ai(e,i,l,u);break;case 13:ai(e,i,l,u);break;case 23:break;case 22:h=i.stateNode,p=i.alternate,i.memoizedState!==null?h._visibility&2?ai(e,i,l,u):wl(e,i):h._visibility&2?ai(e,i,l,u):(h._visibility|=2,bs(e,i,l,u,(i.subtreeFlags&10256)!==0||!1)),c&2048&&Lo(p,i);break;case 24:ai(e,i,l,u),c&2048&&ko(i.alternate,i);break;default:ai(e,i,l,u)}}function bs(e,i,l,u,c){for(c=c&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=e,p=i,b=l,_=u,A=p.flags;switch(p.tag){case 0:case 11:case 15:bs(h,p,b,_,c),xl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?bs(h,p,b,_,c):wl(h,p):(H._visibility|=2,bs(h,p,b,_,c)),c&&A&2048&&Lo(p.alternate,p);break;case 24:bs(h,p,b,_,c),c&&A&2048&&ko(p.alternate,p);break;default:bs(h,p,b,_,c)}i=i.sibling}}function wl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,u=i,c=u.flags;switch(u.tag){case 22:wl(l,u),c&2048&&Lo(u.alternate,u);break;case 24:wl(l,u),c&2048&&ko(u.alternate,u);break;default:wl(l,u)}i=i.sibling}}var El=8192;function xs(e,i,l){if(e.subtreeFlags&El)for(e=e.child;e!==null;)lm(e,i,l),e=e.sibling}function lm(e,i,l){switch(e.tag){case 26:xs(e,i,l),e.flags&El&&e.memoizedState!==null&&Ab(l,li,e.memoizedState,e.memoizedProps);break;case 5:xs(e,i,l);break;case 3:case 4:var u=li;li=hr(e.stateNode.containerInfo),xs(e,i,l),li=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=El,El=16777216,xs(e,i,l),El=u):xs(e,i,l));break;default:xs(e,i,l)}}function am(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ml(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];he=u,um(u,e)}am(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rm(e),e=e.sibling}function rm(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Ii(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ia(e)):Ml(e);break;default:Ml(e)}}function Ia(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];he=u,um(u,e)}am(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Ia(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Ia(i));break;default:Ia(i)}e=e.sibling}}function um(e,i){for(;he!==null;){var l=he;switch(l.tag){case 0:case 11:case 15:Ii(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:rl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,he=u;else t:for(l=e;he!==null;){u=he;var c=u.sibling,h=u.return;if(Id(u),u===l){he=null;break t}if(c!==null){c.return=h,he=c;break t}he=h}}}var Jv={getCacheForType:function(e){var i=me(le),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l},cacheSignal:function(){return me(le).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,jt=0,Gt=null,wt=null,_t=0,Lt=0,Qe=null,$i=!1,Ss=!1,qo=!1,ji=0,$t=0,tn=0,jn=0,Ho=0,Ve=0,ws=0,_l=null,De=null,Qo=!1,$a=0,om=0,tr=1/0,er=null,en=null,oe=0,nn=null,Es=null,Yi=0,Vo=0,Po=null,cm=null,Tl=0,Go=null;function Pe(){return(jt&2)!==0&&_t!==0?_t&-_t:z.T!==null?Wo():_h()}function hm(){if(Ve===0)if((_t&536870912)===0||Nt){var e=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Ve=e}else Ve=536870912;return e=qe.current,e!==null&&(e.flags|=32),Ve}function Re(e,i,l){(e===Gt&&(Lt===2||Lt===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),sn(e,_t,Ve,!1)),Xs(e,l),((jt&2)===0||e!==Gt)&&(e===Gt&&((jt&2)===0&&(jn|=l),$t===4&&sn(e,_t,Ve,!1)),gi(e))}function fm(e,i,l){if((jt&6)!==0)throw Error(s(327));var u=!l&&(i&127)===0&&(i&e.expiredLanes)===0||Fs(e,i),c=u?Iv(e,i):Xo(e,i,!0),h=u;do{if(c===0){Ss&&!u&&sn(e,i,0,!1);break}else{if(l=e.current.alternate,h&&!Kv(l)){c=Xo(e,i,!1),h=!1;continue}if(c===2){if(h=i,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var b=e;c=_l;var _=b.current.memoizedState.isDehydrated;if(_&&(Ms(b,p).flags|=256),p=Xo(b,p,!1),p!==2){if(qo&&!_){b.errorRecoveryDisabledLanes|=h,jn|=h,c=4;break t}h=De,De=c,h!==null&&(De===null?De=h:De.push.apply(De,h))}c=p}if(h=!1,c!==2)continue}}if(c===1){Ms(e,0),sn(e,i,0,!0);break}t:{switch(u=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:sn(u,i,Ve,!$i);break t;case 2:De=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(c=$a+300-I(),10<c)){if(sn(u,i,Ve,!$i),ha(u,0,!0)!==0)break t;Yi=i,u.timeoutHandle=Vm(dm.bind(null,u,l,De,er,Qo,i,Ve,jn,ws,$i,h,"Throttled",-0,0),c);break t}dm(u,l,De,er,Qo,i,Ve,jn,ws,$i,h,null,-0,0)}}break}while(!0);gi(e)}function dm(e,i,l,u,c,h,p,b,_,A,H,P,j,k){if(e.timeoutHandle=-1,P=i.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},lm(i,h,P);var lt=(h&62914560)===h?$a-I():(h&4194048)===h?om-I():0;if(lt=jb(P,lt),lt!==null){Yi=h,e.cancelPendingCommit=lt(Sm.bind(null,e,i,h,l,u,c,p,b,_,H,P,null,j,k)),sn(e,h,p,!A);return}}Sm(e,i,h,l,u,c,p,b,_)}function Kv(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var c=l[u],h=c.getSnapshot;c=c.value;try{if(!Le(h(),c))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sn(e,i,l,u){i&=~Ho,i&=~jn,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var c=i;0<c;){var h=31-Be(c),p=1<<h;u[h]=-1,c&=~p}l!==0&&wh(e,l,i)}function ir(){return(jt&6)===0?(Nl(0),!1):!0}function Fo(){if(wt!==null){if(Lt===0)var e=wt.return;else e=wt,Mi=_n=null,ro(e),ms=null,ol=0,e=wt;for(;e!==null;)Pd(e.alternate,e),e=e.return;wt=null}}function Ms(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,pb(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Yi=0,Fo(),Gt=e,wt=l=wi(e.current,null),_t=i,Lt=0,Qe=null,$i=!1,Ss=Fs(e,i),qo=!1,ws=Ve=Ho=jn=tn=$t=0,De=_l=null,Qo=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var c=31-Be(u),h=1<<c;i|=e[c],u&=~h}return ji=i,Ea(),l}function mm(e,i){pt=null,z.H=yl,i===ds||i===Da?(i=zf(),Lt=3):i===Zu?(i=zf(),Lt=4):Lt=i===Mo?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qe=i,wt===null&&($t=1,Ga(e,Ze(i,e.current)))}function gm(){var e=qe.current;return e===null?!0:(_t&4194048)===_t?$e===null:(_t&62914560)===_t||(_t&536870912)!==0?e===$e:!1}function pm(){var e=z.H;return z.H=yl,e===null?yl:e}function ym(){var e=z.A;return z.A=Jv,e}function nr(){$t=4,$i||(_t&4194048)!==_t&&qe.current!==null||(Ss=!0),(tn&134217727)===0&&(jn&134217727)===0||Gt===null||sn(Gt,_t,Ve,!1)}function Xo(e,i,l){var u=jt;jt|=2;var c=pm(),h=ym();(Gt!==e||_t!==i)&&(er=null,Ms(e,i)),i=!1;var p=$t;t:do try{if(Lt!==0&&wt!==null){var b=wt,_=Qe;switch(Lt){case 8:Fo(),p=6;break t;case 3:case 2:case 9:case 6:qe.current===null&&(i=!0);var A=Lt;if(Lt=0,Qe=null,_s(e,b,_,A),l&&Ss){p=0;break t}break;default:A=Lt,Lt=0,Qe=null,_s(e,b,_,A)}}Wv(),p=$t;break}catch(H){mm(e,H)}while(!0);return i&&e.shellSuspendCounter++,Mi=_n=null,jt=u,z.H=c,z.A=h,wt===null&&(Gt=null,_t=0,Ea()),p}function Wv(){for(;wt!==null;)vm(wt)}function Iv(e,i){var l=jt;jt|=2;var u=pm(),c=ym();Gt!==e||_t!==i?(er=null,tr=I()+500,Ms(e,i)):Ss=Fs(e,i);t:do try{if(Lt!==0&&wt!==null){i=wt;var h=Qe;e:switch(Lt){case 1:Lt=0,Qe=null,_s(e,i,h,1);break;case 2:case 9:if(Cf(h)){Lt=0,Qe=null,bm(i);break}i=function(){Lt!==2&&Lt!==9||Gt!==e||(Lt=7),gi(e)},h.then(i,i);break t;case 3:Lt=7;break t;case 4:Lt=5;break t;case 7:Cf(h)?(Lt=0,Qe=null,bm(i)):(Lt=0,Qe=null,_s(e,i,h,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var b=wt;if(p?sg(p):b.stateNode.complete){Lt=0,Qe=null;var _=b.sibling;if(_!==null)wt=_;else{var A=b.return;A!==null?(wt=A,sr(A)):wt=null}break e}}Lt=0,Qe=null,_s(e,i,h,5);break;case 6:Lt=0,Qe=null,_s(e,i,h,6);break;case 8:Fo(),$t=6;break t;default:throw Error(s(462))}}$v();break}catch(H){mm(e,H)}while(!0);return Mi=_n=null,z.H=u,z.A=c,jt=l,wt!==null?0:(Gt=null,_t=0,Ea(),$t)}function $v(){for(;wt!==null&&!q();)vm(wt)}function vm(e){var i=Qd(e.alternate,e,ji);e.memoizedProps=e.pendingProps,i===null?sr(e):wt=i}function bm(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Ud(l,i,i.pendingProps,i.type,void 0,_t);break;case 11:i=Ud(l,i,i.pendingProps,i.type.render,i.ref,_t);break;case 5:ro(i);default:Pd(l,i),i=wt=yf(i,ji),i=Qd(l,i,ji)}e.memoizedProps=e.pendingProps,i===null?sr(e):wt=i}function _s(e,i,l,u){Mi=_n=null,ro(i),ms=null,ol=0;var c=i.return;try{if(Hv(e,c,i,l,_t)){$t=1,Ga(e,Ze(l,e.current)),wt=null;return}}catch(h){if(c!==null)throw wt=c,h;$t=1,Ga(e,Ze(l,e.current)),wt=null;return}i.flags&32768?(Nt||u===1?e=!0:Ss||(_t&536870912)!==0?e=!1:($i=e=!0,(u===2||u===9||u===3||u===6)&&(u=qe.current,u!==null&&u.tag===13&&(u.flags|=16384))),xm(i,e)):sr(i)}function sr(e){var i=e;do{if((i.flags&32768)!==0){xm(i,$i);return}e=i.return;var l=Pv(i.alternate,i,ji);if(l!==null){wt=l;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);$t===0&&($t=5)}function xm(e,i){do{var l=Gv(e.alternate,e);if(l!==null){l.flags&=32767,wt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=l}while(e!==null);$t=6,wt=null}function Sm(e,i,l,u,c,h,p,b,_){e.cancelPendingCommit=null;do lr();while(oe!==0);if((jt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=ju,Ry(e,l,h,p,b,_),e===Gt&&(wt=Gt=null,_t=0),Es=i,nn=e,Yi=l,Vo=h,Po=c,cm=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nb(Mt,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,c=X.p,X.p=2,p=jt,jt|=4;try{Fv(e,i,l)}finally{jt=p,X.p=c,z.T=u}}oe=1,wm(),Em(),Mm()}}function wm(){if(oe===1){oe=0;var e=nn,i=Es,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=X.p;X.p=2;var c=jt;jt|=4;try{im(i,e);var h=lc,p=uf(e.containerInfo),b=h.focusedElem,_=h.selectionRange;if(p!==b&&b&&b.ownerDocument&&rf(b.ownerDocument.documentElement,b)){if(_!==null&&Ou(b)){var A=_.start,H=_.end;if(H===void 0&&(H=A),"selectionStart"in b)b.selectionStart=A,b.selectionEnd=Math.min(H,b.value.length);else{var P=b.ownerDocument||document,j=P&&P.defaultView||window;if(j.getSelection){var k=j.getSelection(),lt=b.textContent.length,ft=Math.min(_.start,lt),Pt=_.end===void 0?ft:Math.min(_.end,lt);!k.extend&&ft>Pt&&(p=Pt,Pt=ft,ft=p);var D=af(b,ft),C=af(b,Pt);if(D&&C&&(k.rangeCount!==1||k.anchorNode!==D.node||k.anchorOffset!==D.offset||k.focusNode!==C.node||k.focusOffset!==C.offset)){var R=P.createRange();R.setStart(D.node,D.offset),k.removeAllRanges(),ft>Pt?(k.addRange(R),k.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),k.addRange(R))}}}}for(P=[],k=b;k=k.parentNode;)k.nodeType===1&&P.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<P.length;b++){var Q=P[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yr=!!sc,lc=sc=null}finally{jt=c,X.p=u,z.T=l}}e.current=i,oe=2}}function Em(){if(oe===2){oe=0;var e=nn,i=Es,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=X.p;X.p=2;var c=jt;jt|=4;try{Wd(e,i.alternate,i)}finally{jt=c,X.p=u,z.T=l}}oe=3}}function Mm(){if(oe===4||oe===3){oe=0,G();var e=nn,i=Es,l=Yi,u=cm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?oe=5:(oe=0,Es=nn=null,_m(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(en=null),cu(l),i=i.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(hi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=z.T,c=X.p,X.p=2,z.T=null;try{for(var h=e.onRecoverableError,p=0;p<u.length;p++){var b=u[p];h(b.value,{componentStack:b.stack})}}finally{z.T=i,X.p=c}}(Yi&3)!==0&&lr(),gi(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===Go?Tl++:(Tl=0,Go=e):Tl=0,Nl(0)}}function _m(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,rl(i)))}function lr(){return wm(),Em(),Mm(),Tm()}function Tm(){if(oe!==5)return!1;var e=nn,i=Vo;Vo=0;var l=cu(Yi),u=z.T,c=X.p;try{X.p=32>l?32:l,z.T=null,l=Po,Po=null;var h=nn,p=Yi;if(oe=0,Es=nn=null,Yi=0,(jt&6)!==0)throw Error(s(331));var b=jt;if(jt|=4,rm(h.current),sm(h,h.current,p,l),jt=b,Nl(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(hi,h)}catch{}return!0}finally{X.p=c,z.T=u,_m(e,i)}}function Nm(e,i,l){i=Ze(l,i),i=Eo(e.stateNode,i,2),e=Zi(e,i,2),e!==null&&(Xs(e,2),gi(e))}function kt(e,i,l){if(e.tag===3)Nm(e,e,l);else for(;i!==null;){if(i.tag===3){Nm(i,e,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(en===null||!en.has(u))){e=Ze(l,e),l=Cd(2),u=Zi(i,l,2),u!==null&&(Od(l,u,i,e),Xs(u,2),gi(u));break}}i=i.return}}function Jo(e,i,l){var u=e.pingCache;if(u===null){u=e.pingCache=new Zv;var c=new Set;u.set(i,c)}else c=u.get(i),c===void 0&&(c=new Set,u.set(i,c));c.has(l)||(qo=!0,c.add(l),e=tb.bind(null,e,i,l),i.then(e,e))}function tb(e,i,l){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Gt===e&&(_t&l)===l&&($t===4||$t===3&&(_t&62914560)===_t&&300>I()-$a?(jt&2)===0&&Ms(e,0):Ho|=l,ws===_t&&(ws=0)),gi(e)}function Cm(e,i){i===0&&(i=Sh()),e=wn(e,i),e!==null&&(Xs(e,i),gi(e))}function eb(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),Cm(e,l)}function ib(e,i){var l=0;switch(e.tag){case 31:case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Cm(e,l)}function nb(e,i){return ra(e,i)}var ar=null,Ts=null,Zo=!1,rr=!1,Ko=!1,ln=0;function gi(e){e!==Ts&&e.next===null&&(Ts===null?ar=Ts=e:Ts=Ts.next=e),rr=!0,Zo||(Zo=!0,lb())}function Nl(e,i){if(!Ko&&rr){Ko=!0;do for(var l=!1,u=ar;u!==null;){if(e!==0){var c=u.pendingLanes;if(c===0)var h=0;else{var p=u.suspendedLanes,b=u.pingedLanes;h=(1<<31-Be(42|e)+1)-1,h&=c&~(p&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Rm(u,h))}else h=_t,h=ha(u,u===Gt?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Fs(u,h)||(l=!0,Rm(u,h));u=u.next}while(l);Ko=!1}}function sb(){Om()}function Om(){rr=Zo=!1;var e=0;ln!==0&&gb()&&(e=ln);for(var i=I(),l=null,u=ar;u!==null;){var c=u.next,h=zm(u,i);h===0?(u.next=null,l===null?ar=c:l.next=c,c===null&&(Ts=l)):(l=u,(e!==0||(h&3)!==0)&&(rr=!0)),u=c}oe!==0&&oe!==5||Nl(e),ln!==0&&(ln=0)}function zm(e,i){for(var l=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-Be(h),b=1<<p,_=c[p];_===-1?((b&l)===0||(b&u)!==0)&&(c[p]=Dy(b,i)):_<=i&&(e.expiredLanes|=b),h&=~b}if(i=Gt,l=_t,l=ha(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,l===0||e===i&&(Lt===2||Lt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&N(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Fs(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(u!==null&&N(u),cu(l)){case 2:case 8:l=xt;break;case 32:l=Mt;break;case 268435456:l=Wt;break;default:l=Mt}return u=Dm.bind(null,e),l=ra(l,u),e.callbackPriority=i,e.callbackNode=l,i}return u!==null&&u!==null&&N(u),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,i){if(oe!==0&&oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(lr()&&e.callbackNode!==l)return null;var u=_t;return u=ha(e,e===Gt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(fm(e,u,i),zm(e,I()),e.callbackNode!=null&&e.callbackNode===l?Dm.bind(null,e):null)}function Rm(e,i){if(lr())return null;fm(e,i,!0)}function lb(){yb(function(){(jt&6)!==0?ra(ut,sb):Om()})}function Wo(){if(ln===0){var e=hs;e===0&&(e=ua,ua<<=1,(ua&261888)===0&&(ua=256)),ln=e}return ln}function Am(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function jm(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function ab(e,i,l,u,c){if(i==="submit"&&l&&l.stateNode===c){var h=Am((c[Te]||null).action),p=u.submitter;p&&(i=(i=p[Te]||null)?Am(i.formAction):p.getAttribute("formAction"),i!==null&&(h=i,p=null));var b=new ba("action","action",null,u,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ln!==0){var _=p?jm(c,p):new FormData(c);yo(l,{pending:!0,data:_,method:c.method,action:h},null,_)}}else typeof h=="function"&&(b.preventDefault(),_=p?jm(c,p):new FormData(c),yo(l,{pending:!0,data:_,method:c.method,action:h},h,_))},currentTarget:c}]})}}for(var Io=0;Io<Au.length;Io++){var $o=Au[Io],rb=$o.toLowerCase(),ub=$o[0].toUpperCase()+$o.slice(1);si(rb,"on"+ub)}si(hf,"onAnimationEnd"),si(ff,"onAnimationIteration"),si(df,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Mv,"onTransitionRun"),si(_v,"onTransitionStart"),si(Tv,"onTransitionCancel"),si(mf,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Ym(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],c=u.event;u=u.listeners;t:{var h=void 0;if(i)for(var p=u.length-1;0<=p;p--){var b=u[p],_=b.instance,A=b.currentTarget;if(b=b.listener,_!==h&&c.isPropagationStopped())break t;h=b,c.currentTarget=A;try{h(c)}catch(H){wa(H)}c.currentTarget=null,h=_}else for(p=0;p<u.length;p++){if(b=u[p],_=b.instance,A=b.currentTarget,b=b.listener,_!==h&&c.isPropagationStopped())break t;h=b,c.currentTarget=A;try{h(c)}catch(H){wa(H)}c.currentTarget=null,h=_}}}}function Et(e,i){var l=i[hu];l===void 0&&(l=i[hu]=new Set);var u=e+"__bubble";l.has(u)||(Um(i,e,2,!1),l.add(u))}function tc(e,i,l){var u=0;i&&(u|=4),Um(l,e,u,i)}var ur="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[ur]){e[ur]=!0,Ch.forEach(function(l){l!=="selectionchange"&&(ob.has(l)||tc(l,!1,e),tc(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ur]||(i[ur]=!0,tc("selectionchange",!1,i))}}function Um(e,i,l,u){switch(hg(i)){case 2:var c=Bb;break;case 8:c=Lb;break;default:c=pc}l=c.bind(null,i,l,e),c=void 0,!xu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(i,l,{capture:!0,passive:c}):e.addEventListener(i,l,!0):c!==void 0?e.addEventListener(i,l,{passive:c}):e.addEventListener(i,l,!1)}function ic(e,i,l,u,c){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var b=u.stateNode.containerInfo;if(b===c)break;if(p===4)for(p=u.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;b!==null;){if(p=Jn(b),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){u=h=p;continue t}b=b.parentNode}}u=u.return}qh(function(){var A=h,H=vu(l),P=[];t:{var j=gf.get(e);if(j!==void 0){var k=ba,lt=e;switch(e){case"keypress":if(ya(l)===0)break t;case"keydown":case"keyup":k=iv;break;case"focusin":lt="focus",k=Mu;break;case"focusout":lt="blur",k=Mu;break;case"beforeblur":case"afterblur":k=Mu;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=lv;break;case hf:case ff:case df:k=Xy;break;case mf:k=rv;break;case"scroll":case"scrollend":k=Qy;break;case"wheel":k=ov;break;case"copy":case"cut":case"paste":k=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Gh;break;case"toggle":case"beforetoggle":k=hv}var ft=(i&4)!==0,Pt=!ft&&(e==="scroll"||e==="scrollend"),D=ft?j!==null?j+"Capture":null:j;ft=[];for(var C=A,R;C!==null;){var Q=C;if(R=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||R===null||D===null||(Q=Ks(C,D),Q!=null&&ft.push(Ol(C,Q,R))),Pt)break;C=C.return}0<ft.length&&(j=new k(j,lt,null,l,H),P.push({event:j,listeners:ft}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",j&&l!==yu&&(lt=l.relatedTarget||l.fromElement)&&(Jn(lt)||lt[Xn]))break t;if((k||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,k?(lt=l.relatedTarget||l.toElement,k=A,lt=lt?Jn(lt):null,lt!==null&&(Pt=o(lt),ft=lt.tag,lt!==Pt||ft!==5&&ft!==27&&ft!==6)&&(lt=null)):(k=null,lt=A),k!==lt)){if(ft=Vh,Q="onMouseLeave",D="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Gh,Q="onPointerLeave",D="onPointerEnter",C="pointer"),Pt=k==null?j:Zs(k),R=lt==null?j:Zs(lt),j=new ft(Q,C+"leave",k,l,H),j.target=Pt,j.relatedTarget=R,Q=null,Jn(H)===A&&(ft=new ft(D,C+"enter",lt,l,H),ft.target=R,ft.relatedTarget=Pt,Q=ft),Pt=Q,k&&lt)e:{for(ft=cb,D=k,C=lt,R=0,Q=D;Q;Q=ft(Q))R++;Q=0;for(var ot=C;ot;ot=ft(ot))Q++;for(;0<R-Q;)D=ft(D),R--;for(;0<Q-R;)C=ft(C),Q--;for(;R--;){if(D===C||C!==null&&D===C.alternate){ft=D;break e}D=ft(D),C=ft(C)}ft=null}else ft=null;k!==null&&Bm(P,j,k,ft,!1),lt!==null&&Pt!==null&&Bm(P,Pt,lt,ft,!0)}}t:{if(j=A?Zs(A):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var zt=$h;else if(Wh(j))if(tf)zt=Sv;else{zt=bv;var rt=vv}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?A&&pu(A.elementType)&&(zt=$h):zt=xv;if(zt&&(zt=zt(e,A))){Ih(P,zt,l,H);break t}rt&&rt(e,j,A),e==="focusout"&&A&&j.type==="number"&&A.memoizedProps.value!=null&&gu(j,"number",j.value)}switch(rt=A?Zs(A):window,e){case"focusin":(Wh(rt)||rt.contentEditable==="true")&&(ns=rt,zu=A,sl=null);break;case"focusout":sl=zu=ns=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,of(P,l,H);break;case"selectionchange":if(Ev)break;case"keydown":case"keyup":of(P,l,H)}var bt;if(Tu)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else is?Zh(e,l)&&(Tt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Tt="onCompositionStart");Tt&&(Fh&&l.locale!=="ko"&&(is||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&is&&(bt=Hh()):(Qi=H,Su="value"in Qi?Qi.value:Qi.textContent,is=!0)),rt=or(A,Tt),0<rt.length&&(Tt=new Ph(Tt,e,null,l,H),P.push({event:Tt,listeners:rt}),bt?Tt.data=bt:(bt=Kh(l),bt!==null&&(Tt.data=bt)))),(bt=dv?mv(e,l):gv(e,l))&&(Tt=or(A,"onBeforeInput"),0<Tt.length&&(rt=new Ph("onBeforeInput","beforeinput",null,l,H),P.push({event:rt,listeners:Tt}),rt.data=bt)),ab(P,e,A,l,H)}Ym(P,i)})}function Ol(e,i,l){return{instance:e,listener:i,currentTarget:l}}function or(e,i){for(var l=i+"Capture",u=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ks(e,l),c!=null&&u.unshift(Ol(e,c,h)),c=Ks(e,i),c!=null&&u.push(Ol(e,c,h))),e.tag===3)return u;e=e.return}return[]}function cb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,i,l,u,c){for(var h=i._reactName,p=[];l!==null&&l!==u;){var b=l,_=b.alternate,A=b.stateNode;if(b=b.tag,_!==null&&_===u)break;b!==5&&b!==26&&b!==27||A===null||(_=A,c?(A=Ks(l,h),A!=null&&p.unshift(Ol(l,A,_))):c||(A=Ks(l,h),A!=null&&p.push(Ol(l,A,_)))),l=l.return}p.length!==0&&e.push({event:i,listeners:p})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function Lm(e){return(typeof e=="string"?e:""+e).replace(hb,`
`).replace(fb,"")}function km(e,i){return i=Lm(i),Lm(e)===i}function Vt(e,i,l,u,c,h){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||$n(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&$n(e,""+u);break;case"className":da(e,"class",u);break;case"tabIndex":da(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":da(e,l,u);break;case"style":Lh(e,u,h);break;case"data":if(i!=="object"){da(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=ga(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(i!=="input"&&Vt(e,i,"name",c.name,c,null),Vt(e,i,"formEncType",c.formEncType,c,null),Vt(e,i,"formMethod",c.formMethod,c,null),Vt(e,i,"formTarget",c.formTarget,c,null)):(Vt(e,i,"encType",c.encType,c,null),Vt(e,i,"method",c.method,c,null),Vt(e,i,"target",c.target,c,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=ga(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=xi);break;case"onScroll":u!=null&&Et("scroll",e);break;case"onScrollEnd":u!=null&&Et("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=ga(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":Et("beforetoggle",e),Et("toggle",e),fa(e,"popover",u);break;case"xlinkActuate":bi(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":bi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":bi(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":bi(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":bi(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":bi(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":bi(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":bi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":bi(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fa(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qy.get(l)||l,fa(e,l,u))}}function nc(e,i,l,u,c,h){switch(l){case"style":Lh(e,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof u=="string"?$n(e,u):(typeof u=="number"||typeof u=="bigint")&&$n(e,""+u);break;case"onScroll":u!=null&&Et("scroll",e);break;case"onScrollEnd":u!=null&&Et("scrollend",e);break;case"onClick":u!=null&&(e.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oh.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),i=l.slice(2,c?l.length-7:void 0),h=e[Te]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(i,h,c),typeof u=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,u,c);break t}l in e?e[l]=u:u===!0?e.setAttribute(l,""):fa(e,l,u)}}}function pe(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",e),Et("load",e);var u=!1,c=!1,h;for(h in l)if(l.hasOwnProperty(h)){var p=l[h];if(p!=null)switch(h){case"src":u=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(e,i,h,p,l,null)}}c&&Vt(e,i,"srcSet",l.srcSet,l,null),u&&Vt(e,i,"src",l.src,l,null);return;case"input":Et("invalid",e);var b=h=p=c=null,_=null,A=null;for(u in l)if(l.hasOwnProperty(u)){var H=l[u];if(H!=null)switch(u){case"name":c=H;break;case"type":p=H;break;case"checked":_=H;break;case"defaultChecked":A=H;break;case"value":h=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Vt(e,i,u,H,l,null)}}jh(e,h,b,_,A,p,c,!1);return;case"select":Et("invalid",e),u=p=h=null;for(c in l)if(l.hasOwnProperty(c)&&(b=l[c],b!=null))switch(c){case"value":h=b;break;case"defaultValue":p=b;break;case"multiple":u=b;default:Vt(e,i,c,b,l,null)}i=h,l=p,e.multiple=!!u,i!=null?In(e,!!u,i,!1):l!=null&&In(e,!!u,l,!0);return;case"textarea":Et("invalid",e),h=c=u=null;for(p in l)if(l.hasOwnProperty(p)&&(b=l[p],b!=null))switch(p){case"value":u=b;break;case"defaultValue":c=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Vt(e,i,p,b,l,null)}Uh(e,u,c,h);return;case"option":for(_ in l)if(l.hasOwnProperty(_)&&(u=l[_],u!=null))switch(_){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Vt(e,i,_,u,l,null)}return;case"dialog":Et("beforetoggle",e),Et("toggle",e),Et("cancel",e),Et("close",e);break;case"iframe":case"object":Et("load",e);break;case"video":case"audio":for(u=0;u<Cl.length;u++)Et(Cl[u],e);break;case"image":Et("error",e),Et("load",e);break;case"details":Et("toggle",e);break;case"embed":case"source":case"link":Et("error",e),Et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in l)if(l.hasOwnProperty(A)&&(u=l[A],u!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Vt(e,i,A,u,l,null)}return;default:if(pu(i)){for(H in l)l.hasOwnProperty(H)&&(u=l[H],u!==void 0&&nc(e,i,H,u,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(u=l[b],u!=null&&Vt(e,i,b,u,l,null))}function db(e,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,b=null,_=null,A=null,H=null;for(k in l){var P=l[k];if(l.hasOwnProperty(k)&&P!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":_=P;default:u.hasOwnProperty(k)||Vt(e,i,k,null,u,P)}}for(var j in u){var k=u[j];if(P=l[j],u.hasOwnProperty(j)&&(k!=null||P!=null))switch(j){case"type":h=k;break;case"name":c=k;break;case"checked":A=k;break;case"defaultChecked":H=k;break;case"value":p=k;break;case"defaultValue":b=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:k!==P&&Vt(e,i,j,k,u,P)}}mu(e,p,b,_,A,H,h,c);return;case"select":k=p=b=j=null;for(h in l)if(_=l[h],l.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":k=_;default:u.hasOwnProperty(h)||Vt(e,i,h,null,u,_)}for(c in u)if(h=u[c],_=l[c],u.hasOwnProperty(c)&&(h!=null||_!=null))switch(c){case"value":j=h;break;case"defaultValue":b=h;break;case"multiple":p=h;default:h!==_&&Vt(e,i,c,h,u,_)}i=b,l=p,u=k,j!=null?In(e,!!l,j,!1):!!u!=!!l&&(i!=null?In(e,!!l,i,!0):In(e,!!l,l?[]:"",!1));return;case"textarea":k=j=null;for(b in l)if(c=l[b],l.hasOwnProperty(b)&&c!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Vt(e,i,b,null,u,c)}for(p in u)if(c=u[p],h=l[p],u.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":j=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Vt(e,i,p,c,u,h)}Yh(e,j,k);return;case"option":for(var lt in l)if(j=l[lt],l.hasOwnProperty(lt)&&j!=null&&!u.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Vt(e,i,lt,null,u,j)}for(_ in u)if(j=u[_],k=l[_],u.hasOwnProperty(_)&&j!==k&&(j!=null||k!=null))switch(_){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Vt(e,i,_,j,u,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in l)j=l[ft],l.hasOwnProperty(ft)&&j!=null&&!u.hasOwnProperty(ft)&&Vt(e,i,ft,null,u,j);for(A in u)if(j=u[A],k=l[A],u.hasOwnProperty(A)&&j!==k&&(j!=null||k!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Vt(e,i,A,j,u,k)}return;default:if(pu(i)){for(var Pt in l)j=l[Pt],l.hasOwnProperty(Pt)&&j!==void 0&&!u.hasOwnProperty(Pt)&&nc(e,i,Pt,void 0,u,j);for(H in u)j=u[H],k=l[H],!u.hasOwnProperty(H)||j===k||j===void 0&&k===void 0||nc(e,i,H,j,u,k);return}}for(var D in l)j=l[D],l.hasOwnProperty(D)&&j!=null&&!u.hasOwnProperty(D)&&Vt(e,i,D,null,u,j);for(P in u)j=u[P],k=l[P],!u.hasOwnProperty(P)||j===k||j==null&&k==null||Vt(e,i,P,j,u,k)}function qm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var c=l[u],h=c.transferSize,p=c.initiatorType,b=c.duration;if(h&&b&&qm(p)){for(p=0,b=c.responseEnd,u+=1;u<l.length;u++){var _=l[u],A=_.startTime;if(A>b)break;var H=_.transferSize,P=_.initiatorType;H&&qm(P)&&(_=_.responseEnd,p+=H*(_<b?1:(b-A)/(_-A)))}if(--u,i+=8*(h+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sc=null,lc=null;function cr(e){return e.nodeType===9?e:e.ownerDocument}function Hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ac(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rc=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===rc?!1:(rc=e,!0):(rc=null,!1)}var Vm=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(vb)}:Vm;function vb(e){setTimeout(function(){throw e})}function an(e){return e==="head"}function Gm(e,i){var l=i,u=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(u===0){e.removeChild(c),zs(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")zl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,zl(l);for(var h=l.firstChild;h;){var p=h.nextSibling,b=h.nodeName;h[Js]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=p}}else l==="body"&&zl(e.ownerDocument.body);l=c}while(l);zs(i)}function Fm(e,i){var l=e;e=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=u}while(l)}function uc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":uc(l),fu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function bb(e,i,l,u){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Js])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function xb(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=ti(e.nextSibling),e===null))return null;return e}function Xm(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ti(e.nextSibling),e===null))return null;return e}function oc(e){return e.data==="$?"||e.data==="$~"}function cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sb(e,i){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function ti(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var hc=null;function Jm(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(i===0)return ti(e.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}e=e.nextSibling}return null}function Zm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return e;i--}else l!=="/$"&&l!=="/&"||i++}e=e.previousSibling}return null}function Km(e,i,l){switch(i=cr(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function zl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fu(e)}var ei=new Map,Wm=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=X.d;X.d={f:wb,r:Eb,D:Mb,C:_b,L:Tb,m:Nb,X:Ob,S:Cb,M:zb};function wb(){var e=Ui.f(),i=ir();return e||i}function Eb(e){var i=Zn(e);i!==null&&i.tag===5&&i.type==="form"?md(i):Ui.r(e)}var Ns=typeof document>"u"?null:document;function Im(e,i,l){var u=Ns;if(u&&typeof i=="string"&&i){var c=Xe(i);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Wm.has(c)||(Wm.add(c),e={rel:e,crossOrigin:l,href:i},u.querySelector(c)===null&&(i=u.createElement("link"),pe(i,"link",e),ce(i),u.head.appendChild(i)))}}function Mb(e){Ui.D(e),Im("dns-prefetch",e,null)}function _b(e,i){Ui.C(e,i),Im("preconnect",e,i)}function Tb(e,i,l){Ui.L(e,i,l);var u=Ns;if(u&&e&&i){var c='link[rel="preload"][as="'+Xe(i)+'"]';i==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+Xe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+Xe(l.imageSizes)+'"]')):c+='[href="'+Xe(e)+'"]';var h=c;switch(i){case"style":h=Cs(e);break;case"script":h=Os(e)}ei.has(h)||(e=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),ei.set(h,e),u.querySelector(c)!==null||i==="style"&&u.querySelector(Dl(h))||i==="script"&&u.querySelector(Rl(h))||(i=u.createElement("link"),pe(i,"link",e),ce(i),u.head.appendChild(i)))}}function Nb(e,i){Ui.m(e,i);var l=Ns;if(l&&e){var u=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+Xe(u)+'"][href="'+Xe(e)+'"]',h=c;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Os(e)}if(!ei.has(h)&&(e=v({rel:"modulepreload",href:e},i),ei.set(h,e),l.querySelector(c)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Rl(h)))return}u=l.createElement("link"),pe(u,"link",e),ce(u),l.head.appendChild(u)}}}function Cb(e,i,l){Ui.S(e,i,l);var u=Ns;if(u&&e){var c=Kn(u).hoistableStyles,h=Cs(e);i=i||"default";var p=c.get(h);if(!p){var b={loading:0,preload:null};if(p=u.querySelector(Dl(h)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},l),(l=ei.get(h))&&fc(e,l);var _=p=u.createElement("link");ce(_),pe(_,"link",e),_._p=new Promise(function(A,H){_.onload=A,_.onerror=H}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,fr(p,i,u)}p={type:"stylesheet",instance:p,count:1,state:b},c.set(h,p)}}}function Ob(e,i){Ui.X(e,i);var l=Ns;if(l&&e){var u=Kn(l).hoistableScripts,c=Os(e),h=u.get(c);h||(h=l.querySelector(Rl(c)),h||(e=v({src:e,async:!0},i),(i=ei.get(c))&&dc(e,i),h=l.createElement("script"),ce(h),pe(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(c,h))}}function zb(e,i){Ui.M(e,i);var l=Ns;if(l&&e){var u=Kn(l).hoistableScripts,c=Os(e),h=u.get(c);h||(h=l.querySelector(Rl(c)),h||(e=v({src:e,async:!0,type:"module"},i),(i=ei.get(c))&&dc(e,i),h=l.createElement("script"),ce(h),pe(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(c,h))}}function $m(e,i,l,u){var c=(c=W.current)?hr(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Cs(l.href),l=Kn(c).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Cs(l.href);var h=Kn(c).hoistableStyles,p=h.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=c.querySelector(Dl(e)))&&!h._p&&(p.instance=h,p.state.loading=5),ei.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ei.set(e,l),h||Db(c,e,l,p.state))),i&&u===null)throw Error(s(528,""));return p}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Os(l),l=Kn(c).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cs(e){return'href="'+Xe(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function tg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Db(e,i,l,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),pe(i,"link",l),ce(i),e.head.appendChild(i))}function Os(e){return'[src="'+Xe(e)+'"]'}function Rl(e){return"script[async]"+e}function eg(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+Xe(l.href)+'"]');if(u)return i.instance=u,ce(u),u;var c=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),ce(u),pe(u,"style",c),fr(u,l.precedence,e),i.instance=u;case"stylesheet":c=Cs(l.href);var h=e.querySelector(Dl(c));if(h)return i.state.loading|=4,i.instance=h,ce(h),h;u=tg(l),(c=ei.get(c))&&fc(u,c),h=(e.ownerDocument||e).createElement("link"),ce(h);var p=h;return p._p=new Promise(function(b,_){p.onload=b,p.onerror=_}),pe(h,"link",u),i.state.loading|=4,fr(h,l.precedence,e),i.instance=h;case"script":return h=Os(l.src),(c=e.querySelector(Rl(h)))?(i.instance=c,ce(c),c):(u=l,(c=ei.get(h))&&(u=v({},l),dc(u,c)),e=e.ownerDocument||e,c=e.createElement("script"),ce(c),pe(c,"link",u),e.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,fr(u,l.precedence,e));return i.instance}function fr(e,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=u.length?u[u.length-1]:null,h=c,p=0;p<u.length;p++){var b=u[p];if(b.dataset.precedence===i)h=b;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function fc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function dc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dr=null;function ig(e,i,l){if(dr===null){var u=new Map,c=dr=new Map;c.set(l,u)}else c=dr,u=c.get(l),u||(u=new Map,c.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var h=l[c];if(!(h[Js]||h[fe]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(i)||"";p=e+p;var b=u.get(p);b?b.push(h):u.set(p,[h])}}return u}function ng(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function Rb(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ab(e,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=Cs(u.href),h=i.querySelector(Dl(c));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=mr.bind(e),i.then(e,e)),l.state.loading|=4,l.instance=h,ce(h);return}h=i.ownerDocument||i,u=tg(u),(c=ei.get(c))&&fc(u,c),h=h.createElement("link"),ce(h);var p=h;p._p=new Promise(function(b,_){p.onload=b,p.onerror=_}),pe(h,"link",u),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=mr.bind(e),i.addEventListener("load",l),i.addEventListener("error",l))}}var mc=0;function jb(e,i){return e.stylesheets&&e.count===0&&pr(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var u=setTimeout(function(){if(e.stylesheets&&pr(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+i);0<e.imgBytes&&mc===0&&(mc=62500*mb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pr(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>mc?50:800)+i);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(c)}}:null}function mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gr=null;function pr(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gr=new Map,i.forEach(Yb,e),gr=null,mr.call(e))}function Yb(e,i){if(!(i.state.loading&4)){var l=gr.get(e);if(l)var u=l.get(null);else{l=new Map,gr.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),u=p)}u&&l.set(null,u)}c=i.instance,p=c.getAttribute("data-precedence"),h=l.get(p)||u,h===u&&l.set(null,c),l.set(p,c),this.count++,u=mr.bind(this),c.addEventListener("load",u),c.addEventListener("error",u),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),i.state.loading|=4}}var Al={$$typeof:et,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function Ub(e,i,l,u,c,h,p,b,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.hiddenUpdates=uu(null),this.identifierPrefix=u,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function lg(e,i,l,u,c,h,p,b,_,A,H,P){return e=new Ub(e,i,l,p,_,A,H,P,b),i=1,h===!0&&(i|=24),h=ke(3,null,null,i),e.current=h,h.stateNode=e,i=Fu(),i.refCount++,e.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:l,cache:i},Ku(h),e}function ag(e){return e?(e=as,e):as}function rg(e,i,l,u,c,h){c=ag(c),u.context===null?u.context=c:u.pendingContext=c,u=Ji(i),u.payload={element:l},h=h===void 0?null:h,h!==null&&(u.callback=h),l=Zi(e,u,i),l!==null&&(Re(l,e,i),hl(l,e,i))}function ug(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function gc(e,i){ug(e,i),(e=e.alternate)&&ug(e,i)}function og(e){if(e.tag===13||e.tag===31){var i=wn(e,67108864);i!==null&&Re(i,e,67108864),gc(e,67108864)}}function cg(e){if(e.tag===13||e.tag===31){var i=Pe();i=ou(i);var l=wn(e,i);l!==null&&Re(l,e,i),gc(e,i)}}var yr=!0;function Bb(e,i,l,u){var c=z.T;z.T=null;var h=X.p;try{X.p=2,pc(e,i,l,u)}finally{X.p=h,z.T=c}}function Lb(e,i,l,u){var c=z.T;z.T=null;var h=X.p;try{X.p=8,pc(e,i,l,u)}finally{X.p=h,z.T=c}}function pc(e,i,l,u){if(yr){var c=yc(u);if(c===null)ic(e,i,u,vr,l),fg(e,u);else if(qb(c,e,i,l,u))u.stopPropagation();else if(fg(e,u),i&4&&-1<kb.indexOf(e)){for(;c!==null;){var h=Zn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=yn(h.pendingLanes);if(p!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var _=1<<31-Be(p);b.entanglements[1]|=_,p&=~_}gi(h),(jt&6)===0&&(tr=I()+500,Nl(0))}}break;case 31:case 13:b=wn(h,2),b!==null&&Re(b,h,2),ir(),gc(h,2)}if(h=yc(u),h===null&&ic(e,i,u,vr,l),h===c)break;c=h}c!==null&&u.stopPropagation()}else ic(e,i,u,null,l)}}function yc(e){return e=vu(e),vc(e)}var vr=null;function vc(e){if(vr=null,e=Jn(e),e!==null){var i=o(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=f(i),e!==null)return e;e=null}else if(l===31){if(e=d(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return vr=e,null}function hg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case ut:return 2;case xt:return 8;case Mt:case Ot:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var bc=!1,rn=null,un=null,on=null,jl=new Map,Yl=new Map,cn=[],kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fg(e,i){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Ul(e,i,l,u,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:h,targetContainers:[c]},i!==null&&(i=Zn(i),i!==null&&og(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function qb(e,i,l,u,c){switch(i){case"focusin":return rn=Ul(rn,e,i,l,u,c),!0;case"dragenter":return un=Ul(un,e,i,l,u,c),!0;case"mouseover":return on=Ul(on,e,i,l,u,c),!0;case"pointerover":var h=c.pointerId;return jl.set(h,Ul(jl.get(h)||null,e,i,l,u,c)),!0;case"gotpointercapture":return h=c.pointerId,Yl.set(h,Ul(Yl.get(h)||null,e,i,l,u,c)),!0}return!1}function dg(e){var i=Jn(e.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=f(l),i!==null){e.blockedOn=i,Th(e.priority,function(){cg(l)});return}}else if(i===31){if(i=d(l),i!==null){e.blockedOn=i,Th(e.priority,function(){cg(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function br(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=yc(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);yu=u,l.target.dispatchEvent(u),yu=null}else return i=Zn(l),i!==null&&og(i),e.blockedOn=l,!1;i.shift()}return!0}function mg(e,i,l){br(e)&&l.delete(i)}function Hb(){bc=!1,rn!==null&&br(rn)&&(rn=null),un!==null&&br(un)&&(un=null),on!==null&&br(on)&&(on=null),jl.forEach(mg),Yl.forEach(mg)}function xr(e,i){e.blockedOn===i&&(e.blockedOn=null,bc||(bc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Hb)))}var Sr=null;function gg(e){Sr!==e&&(Sr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Sr===e&&(Sr=null);for(var i=0;i<e.length;i+=3){var l=e[i],u=e[i+1],c=e[i+2];if(typeof u!="function"){if(vc(u||l)===null)continue;break}var h=Zn(l);h!==null&&(e.splice(i,3),i-=3,yo(h,{pending:!0,data:c,method:l.method,action:u},u,c))}}))}function zs(e){function i(_){return xr(_,e)}rn!==null&&xr(rn,e),un!==null&&xr(un,e),on!==null&&xr(on,e),jl.forEach(i),Yl.forEach(i);for(var l=0;l<cn.length;l++){var u=cn[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<cn.length&&(l=cn[0],l.blockedOn===null);)dg(l),l.blockedOn===null&&cn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var c=l[u],h=l[u+1],p=c[Te]||null;if(typeof h=="function")p||gg(l);else if(p){var b=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[Te]||null)b=p.formAction;else if(vc(c)!==null)continue}else b=p.action;typeof b=="function"?l[u+1]=b:(l.splice(u,3),u-=3),gg(l)}}}function pg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function i(){c!==null&&(c(),c=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),c!==null&&(c(),c=null)}}}function xc(e){this._internalRoot=e}wr.prototype.render=xc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=Pe();rg(l,u,e,i,null,null)},wr.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;rg(e.current,2,null,e,null,null),ir(),i[Xn]=null}};function wr(e){this._internalRoot=e}wr.prototype.unstable_scheduleHydration=function(e){if(e){var i=_h();e={blockedOn:null,target:e,priority:i};for(var l=0;l<cn.length&&i!==0&&i<cn[l].priority;l++);cn.splice(l,0,e),l===0&&dg(e)}};var yg=t.version;if(yg!=="19.2.1")throw Error(s(527,yg,"19.2.1"));X.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Qb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Er.isDisabled&&Er.supportsFiber)try{hi=Er.inject(Qb),se=Er}catch{}}return Ll.createRoot=function(e,i){if(!r(e))throw Error(s(299));var l=!1,u="",c=Md,h=_d,p=Td;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=lg(e,1,!1,null,null,l,u,null,c,h,p,pg),e[Xn]=i.current,ec(e),new xc(i)},Ll.hydrateRoot=function(e,i,l){if(!r(e))throw Error(s(299));var u=!1,c="",h=Md,p=_d,b=Td,_=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.formState!==void 0&&(_=l.formState)),i=lg(e,1,!0,i,l??null,u,c,_,h,p,b,pg),i.context=ag(null),l=i.current,u=Pe(),u=ou(u),c=Ji(u),c.callback=null,Zi(l,c,u),l=u,i.current.lanes=l,Xs(i,l),gi(i),e[Xn]=i.current,ec(e),new wr(i)},Ll.version="19.2.1",Ll}var Ng;function $b(){if(Ng)return Ec.exports;Ng=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ec.exports=Ib(),Ec.exports}var t1=$b(),Xr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e1={setTimeout:(a,t)=>setTimeout(a,t),clearTimeout:a=>clearTimeout(a),setInterval:(a,t)=>setInterval(a,t),clearInterval:a=>clearInterval(a)},i1=class{#t=e1;#e=!1;setTimeoutProvider(a){this.#t=a}setTimeout(a,t){return this.#t.setTimeout(a,t)}clearTimeout(a){this.#t.clearTimeout(a)}setInterval(a,t){return this.#t.setInterval(a,t)}clearInterval(a){this.#t.clearInterval(a)}},Jc=new i1;function n1(a){setTimeout(a,0)}var Jr=typeof window>"u"||"Deno"in globalThis;function ri(){}function s1(a,t){return typeof a=="function"?a(t):a}function l1(a){return typeof a=="number"&&a>=0&&a!==1/0}function a1(a,t){return Math.max(a+(t||0)-Date.now(),0)}function Zc(a,t){return typeof a=="function"?a(t):a}function r1(a,t){return typeof a=="function"?a(t):a}function Cg(a,t){const{type:n="all",exact:s,fetchStatus:r,predicate:o,queryKey:f,stale:d}=a;if(f){if(s){if(t.queryHash!==uh(f,t.options))return!1}else if(!Zl(t.queryKey,f))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||r&&r!==t.state.fetchStatus||o&&!o(t))}function Og(a,t){const{exact:n,status:s,predicate:r,mutationKey:o}=a;if(o){if(!t.options.mutationKey)return!1;if(n){if(Jl(t.options.mutationKey)!==Jl(o))return!1}else if(!Zl(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function uh(a,t){return(t?.queryKeyHashFn||Jl)(a)}function Jl(a){return JSON.stringify(a,(t,n)=>Kc(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Zl(a,t){return a===t?!0:typeof a!=typeof t?!1:a&&t&&typeof a=="object"&&typeof t=="object"?Object.keys(t).every(n=>Zl(a[n],t[n])):!1}var u1=Object.prototype.hasOwnProperty;function mp(a,t){if(a===t)return a;const n=zg(a)&&zg(t);if(!n&&!(Kc(a)&&Kc(t)))return t;const r=(n?a:Object.keys(a)).length,o=n?t:Object.keys(t),f=o.length,d=n?new Array(f):{};let g=0;for(let m=0;m<f;m++){const y=n?m:o[m],v=a[y],S=t[y];if(v===S){d[y]=v,(n?m<r:u1.call(a,y))&&g++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[y]=S;continue}const T=mp(v,S);d[y]=T,T===v&&g++}return r===f&&g===r?a:d}function zg(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Kc(a){if(!Dg(a))return!1;const t=a.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Dg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function Dg(a){return Object.prototype.toString.call(a)==="[object Object]"}function o1(a){return new Promise(t=>{Jc.setTimeout(t,a)})}function c1(a,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(a,t):n.structuralSharing!==!1?mp(a,t):t}function h1(a,t,n=0){const s=[...a,t];return n&&s.length>n?s.slice(1):s}function f1(a,t,n=0){const s=[t,...a];return n&&s.length>n?s.slice(0,-1):s}var oh=Symbol();function gp(a,t){return!a.queryFn&&t?.initialPromise?()=>t.initialPromise:!a.queryFn||a.queryFn===oh?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var d1=class extends Xr{#t;#e;#i;constructor(){super(),this.#i=a=>{if(!Jr&&window.addEventListener){const t=()=>a();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#i=a,this.#e?.(),this.#e=a(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(t=>{t(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},pp=new d1;function m1(){let a,t;const n=new Promise((r,o)=>{a=r,t=o});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),a(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}var g1=n1;function p1(){let a=[],t=0,n=d=>{d()},s=d=>{d()},r=g1;const o=d=>{t?a.push(d):r(()=>{n(d)})},f=()=>{const d=a;a=[],d.length&&r(()=>{s(()=>{d.forEach(g=>{n(g)})})})};return{batch:d=>{let g;t++;try{g=d()}finally{t--,t||f()}return g},batchCalls:d=>(...g)=>{o(()=>{d(...g)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{r=d}}}var we=p1(),y1=class extends Xr{#t=!0;#e;#i;constructor(){super(),this.#i=a=>{if(!Jr&&window.addEventListener){const t=()=>a(!0),n=()=>a(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#i=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(n=>{n(a)}))}isOnline(){return this.#t}},qr=new y1;function v1(a){return Math.min(1e3*2**a,3e4)}function yp(a){return(a??"online")==="online"?qr.isOnline():!0}var Wc=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function vp(a){let t=!1,n=0,s;const r=m1(),o=()=>r.status!=="pending",f=M=>{if(!o()){const O=new Wc(M);S(O),a.onCancel?.(O)}},d=()=>{t=!0},g=()=>{t=!1},m=()=>pp.isFocused()&&(a.networkMode==="always"||qr.isOnline())&&a.canRun(),y=()=>yp(a.networkMode)&&a.canRun(),v=M=>{o()||(s?.(),r.resolve(M))},S=M=>{o()||(s?.(),r.reject(M))},T=()=>new Promise(M=>{s=O=>{(o()||m())&&M(O)},a.onPause?.()}).then(()=>{s=void 0,o()||a.onContinue?.()}),w=()=>{if(o())return;let M;const O=n===0?a.initialPromise:void 0;try{M=O??a.fn()}catch(B){M=Promise.reject(B)}Promise.resolve(M).then(v).catch(B=>{if(o())return;const Z=a.retry??(Jr?0:3),et=a.retryDelay??v1,it=typeof et=="function"?et(n,B):et,st=Z===!0||typeof Z=="number"&&n<Z||typeof Z=="function"&&Z(n,B);if(t||!st){S(B);return}n++,a.onFail?.(n,B),o1(it).then(()=>m()?void 0:T()).then(()=>{t?S(B):w()})})};return{promise:r,status:()=>r.status,cancel:f,continue:()=>(s?.(),r),cancelRetry:d,continueRetry:g,canStart:y,start:()=>(y()?w():T().then(w),r)}}var bp=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l1(this.gcTime)&&(this.#t=Jc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(Jr?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Jc.clearTimeout(this.#t),this.#t=void 0)}},b1=class extends bp{#t;#e;#i;#s;#n;#a;#r;constructor(a){super(),this.#r=!1,this.#a=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#s=a.client,this.#i=this.#s.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=Ag(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(a){if(this.options={...this.#a,...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ag(this.options);t.data!==void 0&&(this.setState(Rg(t.data,t.dataUpdatedAt)),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#i.remove(this)}setData(a,t){const n=c1(this.state.data,a,this.options);return this.#l({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(a,t){this.#l({type:"setState",state:a,setStateOptions:t})}cancel(a){const t=this.#n?.promise;return this.#n?.cancel(a),t?t.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>r1(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>Zc(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!a1(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(t=>t!==a),this.observers.length||(this.#n&&(this.#r?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#i.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#l({type:"invalidate"})}async fetch(a,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(a&&this.setOptions(a),!this.options.queryFn){const d=this.observers.find(g=>g.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#r=!0,n.signal)})},r=()=>{const d=gp(this.options,t),m=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(y),y})();return this.#r=!1,this.options.persister?this.options.persister(d,m,this):d(m)},f=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:r};return s(d),d})();this.options.behavior?.onFetch(f,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#l({type:"fetch",meta:f.fetchOptions?.meta}),this.#n=vp({initialPromise:t?.initialPromise,fn:f.fetchFn,onCancel:d=>{d instanceof Wc&&d.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(d,g)=>{this.#l({type:"failed",failureCount:d,error:g})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const d=await this.#n.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#i.config.onSuccess?.(d,this),this.#i.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Wc){if(d.silent)return this.#n.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#l({type:"error",error:d}),this.#i.config.onError?.(d,this),this.#i.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#l(a){const t=n=>{switch(a.type){case"failed":return{...n,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...x1(n.data,this.options),fetchMeta:a.meta??null};case"success":const s={...n,...Rg(a.data,a.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=a.manual?s:void 0,s;case"error":const r=a.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...a.state}}};this.state=t(this.state),we.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#i.notify({query:this,type:"updated",action:a})})}};function x1(a,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yp(t.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function Rg(a,t){return{data:a,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ag(a){const t=typeof a.initialData=="function"?a.initialData():a.initialData,n=t!==void 0,s=n?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function jg(a){return{onFetch:(t,n)=>{const s=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],f=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},g=0;const m=async()=>{let y=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},S=gp(t.options,t.fetchOptions),T=async(w,M,O)=>{if(y)return Promise.reject();if(M==null&&w.pages.length)return Promise.resolve(w);const Z=(()=>{const at={client:t.client,queryKey:t.queryKey,pageParam:M,direction:O?"backward":"forward",meta:t.options.meta};return v(at),at})(),et=await S(Z),{maxPages:it}=t.options,st=O?f1:h1;return{pages:st(w.pages,et,it),pageParams:st(w.pageParams,M,it)}};if(r&&o.length){const w=r==="backward",M=w?S1:Yg,O={pages:o,pageParams:f},B=M(s,O);d=await T(O,B,w)}else{const w=a??o.length;do{const M=g===0?f[0]??s.initialPageParam:Yg(s,d);if(g>0&&M==null)break;d=await T(d,M),g++}while(g<w)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function Yg(a,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?a.getNextPageParam(t[s],t,n[s],n):void 0}function S1(a,{pages:t,pageParams:n}){return t.length>0?a.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var w1=class extends bp{#t;#e;#i;#s;constructor(a){super(),this.#t=a.client,this.mutationId=a.mutationId,this.#i=a.mutationCache,this.#e=[],this.state=a.state||E1(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#e.includes(a)||(this.#e.push(a),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#e=this.#e.filter(t=>t!==a),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#i.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(a){const t=()=>{this.#n({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=vp({fn:()=>this.options.mutationFn?this.options.mutationFn(a,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,f)=>{this.#n({type:"failed",failureCount:o,error:f})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});const s=this.state.status==="pending",r=!this.#s.canStart();try{if(s)t();else{this.#n({type:"pending",variables:a,isPaused:r}),await this.#i.config.onMutate?.(a,this,n);const f=await this.options.onMutate?.(a,n);f!==this.state.context&&this.#n({type:"pending",context:f,variables:a,isPaused:r})}const o=await this.#s.start();return await this.#i.config.onSuccess?.(o,a,this.state.context,this,n),await this.options.onSuccess?.(o,a,this.state.context,n),await this.#i.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,a,this.state.context,n),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#i.config.onError?.(o,a,this.state.context,this,n),await this.options.onError?.(o,a,this.state.context,n),await this.#i.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,a,this.state.context,n),o}finally{this.#n({type:"error",error:o})}}finally{this.#i.runNext(this)}}#n(a){const t=n=>{switch(a.type){case"failed":return{...n,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...n,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:a.error,failureCount:n.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=t(this.state),we.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(a)}),this.#i.notify({mutation:this,type:"updated",action:a})})}};function E1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var M1=class extends Xr{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#i=0}#t;#e;#i;build(a,t,n){const s=new w1({client:a,mutationCache:this,mutationId:++this.#i,options:a.defaultMutationOptions(t),state:n});return this.add(s),s}add(a){this.#t.add(a);const t=_r(a);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(a):this.#e.set(t,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const t=_r(a);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const s=n.indexOf(a);s!==-1&&n.splice(s,1)}else n[0]===a&&this.#e.delete(t)}}this.notify({type:"removed",mutation:a})}canRun(a){const t=_r(a);if(typeof t=="string"){const s=this.#e.get(t)?.find(r=>r.state.status==="pending");return!s||s===a}else return!0}runNext(a){const t=_r(a);return typeof t=="string"?this.#e.get(t)?.find(s=>s!==a&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){we.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const t={exact:!0,...a};return this.getAll().find(n=>Og(t,n))}findAll(a={}){return this.getAll().filter(t=>Og(a,t))}notify(a){we.batch(()=>{this.listeners.forEach(t=>{t(a)})})}resumePausedMutations(){const a=this.getAll().filter(t=>t.state.isPaused);return we.batch(()=>Promise.all(a.map(t=>t.continue().catch(ri))))}};function _r(a){return a.options.scope?.id}var _1=class extends Xr{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,t,n){const s=t.queryKey,r=t.queryHash??uh(s,t);let o=this.get(r);return o||(o=new b1({client:a,queryKey:s,queryHash:r,options:a.defaultQueryOptions(t),state:n,defaultOptions:a.getQueryDefaults(s)}),this.add(o)),o}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const t=this.#t.get(a.queryHash);t&&(a.destroy(),t===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){we.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const t={exact:!0,...a};return this.getAll().find(n=>Cg(t,n))}findAll(a={}){const t=this.getAll();return Object.keys(a).length>0?t.filter(n=>Cg(a,n)):t}notify(a){we.batch(()=>{this.listeners.forEach(t=>{t(a)})})}onFocus(){we.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){we.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},T1=class{#t;#e;#i;#s;#n;#a;#r;#l;constructor(a={}){this.#t=a.queryCache||new _1,this.#e=a.mutationCache||new M1,this.#i=a.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#r=pp.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#l=qr.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#r?.(),this.#r=void 0,this.#l?.(),this.#l=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const t=this.defaultQueryOptions({queryKey:a});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(a){const t=this.defaultQueryOptions(a),n=this.#t.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(a):(a.revalidateIfStale&&n.isStaleByTime(Zc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(a,t,n){const s=this.defaultQueryOptions({queryKey:a}),o=this.#t.get(s.queryHash)?.state.data,f=s1(t,o);if(f!==void 0)return this.#t.build(this,s).setData(f,{...n,manual:!0})}setQueriesData(a,t,n){return we.batch(()=>this.#t.findAll(a).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(a){const t=this.defaultQueryOptions({queryKey:a});return this.#t.get(t.queryHash)?.state}removeQueries(a){const t=this.#t;we.batch(()=>{t.findAll(a).forEach(n=>{t.remove(n)})})}resetQueries(a,t){const n=this.#t;return we.batch(()=>(n.findAll(a).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...a},t)))}cancelQueries(a,t={}){const n={revert:!0,...t},s=we.batch(()=>this.#t.findAll(a).map(r=>r.cancel(n)));return Promise.all(s).then(ri).catch(ri)}invalidateQueries(a,t={}){return we.batch(()=>(this.#t.findAll(a).forEach(n=>{n.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},t)))}refetchQueries(a,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=we.batch(()=>this.#t.findAll(a).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(ri)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ri)}fetchQuery(a){const t=this.defaultQueryOptions(a);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(Zc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(ri).catch(ri)}fetchInfiniteQuery(a){return a.behavior=jg(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(ri).catch(ri)}ensureInfiniteQueryData(a){return a.behavior=jg(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return qr.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#i}setDefaultOptions(a){this.#i=a}setQueryDefaults(a,t){this.#s.set(Jl(a),{queryKey:a,defaultOptions:t})}getQueryDefaults(a){const t=[...this.#s.values()],n={};return t.forEach(s=>{Zl(a,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(a,t){this.#n.set(Jl(a),{mutationKey:a,defaultOptions:t})}getMutationDefaults(a){const t=[...this.#n.values()],n={};return t.forEach(s=>{Zl(a,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(a){if(a._defaulted)return a;const t={...this.#i.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return t.queryHash||(t.queryHash=uh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oh&&(t.enabled=!1),t}defaultMutationOptions(a){return a?._defaulted?a:{...this.#i.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},N1=F.createContext(void 0),C1=({client:a,children:t})=>(F.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),x.jsx(N1.Provider,{value:a,children:t}));const O1="modulepreload",z1=function(a){return"/back-test/"+a},Ug={},xp=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var f=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");r=m(n.map(y=>{if(y=z1(y),y in Ug)return;Ug[y]=!0;const v=y.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${S}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":O1,v||(T.as="script"),T.crossOrigin="",T.href=y,g&&T.setAttribute("nonce",g),document.head.appendChild(T),v)return new Promise((w,M)=>{T.addEventListener("load",w),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return r.then(d=>{for(const g of d||[])g.status==="rejected"&&o(g.reason);return t().catch(o)})};const D1=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R1=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Bg=a=>{const t=R1(a);return t.charAt(0).toUpperCase()+t.slice(1)},Sp=(...a)=>a.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),A1=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var j1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y1=F.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:f,...d},g)=>F.createElement("svg",{ref:g,...j1,width:t,height:t,stroke:a,strokeWidth:s?Number(n)*24/Number(t):n,className:Sp("lucide",r),...!o&&!A1(d)&&{"aria-hidden":"true"},...d},[...f.map(([m,y])=>F.createElement(m,y)),...Array.isArray(o)?o:[o]]));const Kt=(a,t)=>{const n=F.forwardRef(({className:s,...r},o)=>F.createElement(Y1,{ref:o,iconNode:t,className:Sp(`lucide-${D1(Bg(a))}`,`lucide-${a}`,s),...r}));return n.displayName=Bg(a),n};const U1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B1=Kt("activity",U1);const L1=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],k1=Kt("calendar-clock",L1);const q1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lg=Kt("calendar",q1);const H1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Q1=Kt("camera",H1);const V1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wp=Kt("chevron-down",V1);const P1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],G1=Kt("chevron-left",P1);const F1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ep=Kt("chevron-right",F1);const X1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],J1=Kt("circle",X1);const Z1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],K1=Kt("database",Z1);const W1=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],I1=Kt("fast-forward",W1);const $1=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],tx=Kt("hard-drive",$1);const ex=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ix=Kt("message-square",ex);const nx=[["path",{d:"M5 12h14",key:"1ays0h"}]],sx=Kt("minus",nx);const lx=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],ax=Kt("mouse-pointer",lx);const rx=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ux=Kt("pause",rx);const ox=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cx=Kt("pen",ox);const hx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fx=Kt("play",hx);const dx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kg=Kt("search",dx);const mx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gx=Kt("settings",mx);const px=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],yx=Kt("square",px);const vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],bx=Kt("target",vx);const xx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sx=Kt("trending-up",xx);const wx=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Ex=Kt("type",wx);const Mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hr=Kt("x",Mx);function Mp(a,t){return function(){return a.apply(t,arguments)}}const{toString:_x}=Object.prototype,{getPrototypeOf:ch}=Object,{iterator:Zr,toStringTag:_p}=Symbol,Kr=(a=>t=>{const n=_x.call(t);return a[n]||(a[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ui=a=>(a=a.toLowerCase(),t=>Kr(t)===a),Wr=a=>t=>typeof t===a,{isArray:Hs}=Array,Bs=Wr("undefined");function ea(a){return a!==null&&!Bs(a)&&a.constructor!==null&&!Bs(a.constructor)&&je(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Tp=ui("ArrayBuffer");function Tx(a){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(a):t=a&&a.buffer&&Tp(a.buffer),t}const Nx=Wr("string"),je=Wr("function"),Np=Wr("number"),ia=a=>a!==null&&typeof a=="object",Cx=a=>a===!0||a===!1,Yr=a=>{if(Kr(a)!=="object")return!1;const t=ch(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_p in a)&&!(Zr in a)},Ox=a=>{if(!ia(a)||ea(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},zx=ui("Date"),Dx=ui("File"),Rx=ui("Blob"),Ax=ui("FileList"),jx=a=>ia(a)&&je(a.pipe),Yx=a=>{let t;return a&&(typeof FormData=="function"&&a instanceof FormData||je(a.append)&&((t=Kr(a))==="formdata"||t==="object"&&je(a.toString)&&a.toString()==="[object FormData]"))},Ux=ui("URLSearchParams"),[Bx,Lx,kx,qx]=["ReadableStream","Request","Response","Headers"].map(ui),Hx=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function na(a,t,{allOwnKeys:n=!1}={}){if(a===null||typeof a>"u")return;let s,r;if(typeof a!="object"&&(a=[a]),Hs(a))for(s=0,r=a.length;s<r;s++)t.call(null,a[s],s,a);else{if(ea(a))return;const o=n?Object.getOwnPropertyNames(a):Object.keys(a),f=o.length;let d;for(s=0;s<f;s++)d=o[s],t.call(null,a[d],d,a)}}function Cp(a,t){if(ea(a))return null;t=t.toLowerCase();const n=Object.keys(a);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Op=a=>!Bs(a)&&a!==Bn;function Ic(){const{caseless:a,skipUndefined:t}=Op(this)&&this||{},n={},s=(r,o)=>{const f=a&&Cp(n,o)||o;Yr(n[f])&&Yr(r)?n[f]=Ic(n[f],r):Yr(r)?n[f]=Ic({},r):Hs(r)?n[f]=r.slice():(!t||!Bs(r))&&(n[f]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&na(arguments[r],s);return n}const Qx=(a,t,n,{allOwnKeys:s}={})=>(na(t,(r,o)=>{n&&je(r)?a[o]=Mp(r,n):a[o]=r},{allOwnKeys:s}),a),Vx=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Px=(a,t,n,s)=>{a.prototype=Object.create(t.prototype,s),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:t.prototype}),n&&Object.assign(a.prototype,n)},Gx=(a,t,n,s)=>{let r,o,f;const d={};if(t=t||{},a==null)return t;do{for(r=Object.getOwnPropertyNames(a),o=r.length;o-- >0;)f=r[o],(!s||s(f,a,t))&&!d[f]&&(t[f]=a[f],d[f]=!0);a=n!==!1&&ch(a)}while(a&&(!n||n(a,t))&&a!==Object.prototype);return t},Fx=(a,t,n)=>{a=String(a),(n===void 0||n>a.length)&&(n=a.length),n-=t.length;const s=a.indexOf(t,n);return s!==-1&&s===n},Xx=a=>{if(!a)return null;if(Hs(a))return a;let t=a.length;if(!Np(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=a[t];return n},Jx=(a=>t=>a&&t instanceof a)(typeof Uint8Array<"u"&&ch(Uint8Array)),Zx=(a,t)=>{const s=(a&&a[Zr]).call(a);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(a,o[0],o[1])}},Kx=(a,t)=>{let n;const s=[];for(;(n=a.exec(t))!==null;)s.push(n);return s},Wx=ui("HTMLFormElement"),Ix=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),qg=(({hasOwnProperty:a})=>(t,n)=>a.call(t,n))(Object.prototype),$x=ui("RegExp"),zp=(a,t)=>{const n=Object.getOwnPropertyDescriptors(a),s={};na(n,(r,o)=>{let f;(f=t(r,o,a))!==!1&&(s[o]=f||r)}),Object.defineProperties(a,s)},tS=a=>{zp(a,(t,n)=>{if(je(a)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=a[n];if(je(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eS=(a,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return Hs(a)?s(a):s(String(a).split(t)),n},iS=()=>{},nS=(a,t)=>a!=null&&Number.isFinite(a=+a)?a:t;function sS(a){return!!(a&&je(a.append)&&a[_p]==="FormData"&&a[Zr])}const lS=a=>{const t=new Array(10),n=(s,r)=>{if(ia(s)){if(t.indexOf(s)>=0)return;if(ea(s))return s;if(!("toJSON"in s)){t[r]=s;const o=Hs(s)?[]:{};return na(s,(f,d)=>{const g=n(f,r+1);!Bs(g)&&(o[d]=g)}),t[r]=void 0,o}}return s};return n(a,0)},aS=ui("AsyncFunction"),rS=a=>a&&(ia(a)||je(a))&&je(a.then)&&je(a.catch),Dp=((a,t)=>a?setImmediate:t?((n,s)=>(Bn.addEventListener("message",({source:r,data:o})=>{r===Bn&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Bn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",je(Bn.postMessage)),uS=typeof queueMicrotask<"u"?queueMicrotask.bind(Bn):typeof process<"u"&&process.nextTick||Dp,oS=a=>a!=null&&je(a[Zr]),U={isArray:Hs,isArrayBuffer:Tp,isBuffer:ea,isFormData:Yx,isArrayBufferView:Tx,isString:Nx,isNumber:Np,isBoolean:Cx,isObject:ia,isPlainObject:Yr,isEmptyObject:Ox,isReadableStream:Bx,isRequest:Lx,isResponse:kx,isHeaders:qx,isUndefined:Bs,isDate:zx,isFile:Dx,isBlob:Rx,isRegExp:$x,isFunction:je,isStream:jx,isURLSearchParams:Ux,isTypedArray:Jx,isFileList:Ax,forEach:na,merge:Ic,extend:Qx,trim:Hx,stripBOM:Vx,inherits:Px,toFlatObject:Gx,kindOf:Kr,kindOfTest:ui,endsWith:Fx,toArray:Xx,forEachEntry:Zx,matchAll:Kx,isHTMLForm:Wx,hasOwnProperty:qg,hasOwnProp:qg,reduceDescriptors:zp,freezeMethods:tS,toObjectSet:eS,toCamelCase:Ix,noop:iS,toFiniteNumber:nS,findKey:Cp,global:Bn,isContextDefined:Op,isSpecCompliantForm:sS,toJSONObject:lS,isAsyncFn:aS,isThenable:rS,setImmediate:Dp,asap:uS,isIterable:oS};function yt(a,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}U.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const Rp=yt.prototype,Ap={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Ap[a]={value:a}});Object.defineProperties(yt,Ap);Object.defineProperty(Rp,"isAxiosError",{value:!0});yt.from=(a,t,n,s,r,o)=>{const f=Object.create(Rp);U.toFlatObject(a,f,function(y){return y!==Error.prototype},m=>m!=="isAxiosError");const d=a&&a.message?a.message:"Error",g=t==null&&a?a.code:t;return yt.call(f,d,g,n,s,r),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",o&&Object.assign(f,o),f};const cS=null;function $c(a){return U.isPlainObject(a)||U.isArray(a)}function jp(a){return U.endsWith(a,"[]")?a.slice(0,-2):a}function Hg(a,t,n){return a?a.concat(t).map(function(r,o){return r=jp(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function hS(a){return U.isArray(a)&&!a.some($c)}const fS=U.toFlatObject(U,{},null,function(t){return/^is[A-Z]/.test(t)});function Ir(a,t,n){if(!U.isObject(a))throw new TypeError("target must be an object");t=t||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,O){return!U.isUndefined(O[M])});const s=n.metaTokens,r=n.visitor||y,o=n.dots,f=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(t);if(!U.isFunction(r))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(U.isDate(w))return w.toISOString();if(U.isBoolean(w))return w.toString();if(!g&&U.isBlob(w))throw new yt("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(w)||U.isTypedArray(w)?g&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function y(w,M,O){let B=w;if(w&&!O&&typeof w=="object"){if(U.endsWith(M,"{}"))M=s?M:M.slice(0,-2),w=JSON.stringify(w);else if(U.isArray(w)&&hS(w)||(U.isFileList(w)||U.endsWith(M,"[]"))&&(B=U.toArray(w)))return M=jp(M),B.forEach(function(et,it){!(U.isUndefined(et)||et===null)&&t.append(f===!0?Hg([M],it,o):f===null?M:M+"[]",m(et))}),!1}return $c(w)?!0:(t.append(Hg(O,M,o),m(w)),!1)}const v=[],S=Object.assign(fS,{defaultVisitor:y,convertValue:m,isVisitable:$c});function T(w,M){if(!U.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+M.join("."));v.push(w),U.forEach(w,function(B,Z){(!(U.isUndefined(B)||B===null)&&r.call(t,B,U.isString(Z)?Z.trim():Z,M,S))===!0&&T(B,M?M.concat(Z):[Z])}),v.pop()}}if(!U.isObject(a))throw new TypeError("data must be an object");return T(a),t}function Qg(a){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function hh(a,t){this._pairs=[],a&&Ir(a,this,t)}const Yp=hh.prototype;Yp.append=function(t,n){this._pairs.push([t,n])};Yp.toString=function(t){const n=t?function(s){return t.call(this,s,Qg)}:Qg;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function dS(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Up(a,t,n){if(!t)return a;const s=n&&n.encode||dS;U.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=U.isURLSearchParams(t)?t.toString():new hh(t,n).toString(s),o){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a}class Vg{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Bp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mS=typeof URLSearchParams<"u"?URLSearchParams:hh,gS=typeof FormData<"u"?FormData:null,pS=typeof Blob<"u"?Blob:null,yS={isBrowser:!0,classes:{URLSearchParams:mS,FormData:gS,Blob:pS},protocols:["http","https","file","blob","url","data"]},fh=typeof window<"u"&&typeof document<"u",th=typeof navigator=="object"&&navigator||void 0,vS=fh&&(!th||["ReactNative","NativeScript","NS"].indexOf(th.product)<0),bS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xS=fh&&window.location.href||"http://localhost",SS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fh,hasStandardBrowserEnv:vS,hasStandardBrowserWebWorkerEnv:bS,navigator:th,origin:xS},Symbol.toStringTag,{value:"Module"})),xe={...SS,...yS};function wS(a,t){return Ir(a,new xe.classes.URLSearchParams,{visitor:function(n,s,r,o){return xe.isNode&&U.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function ES(a){return U.matchAll(/\w+|\[(\w*)]/g,a).map(t=>t[0]==="[]"?"":t[1]||t[0])}function MS(a){const t={},n=Object.keys(a);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=a[o];return t}function Lp(a){function t(n,s,r,o){let f=n[o++];if(f==="__proto__")return!0;const d=Number.isFinite(+f),g=o>=n.length;return f=!f&&U.isArray(r)?r.length:f,g?(U.hasOwnProp(r,f)?r[f]=[r[f],s]:r[f]=s,!d):((!r[f]||!U.isObject(r[f]))&&(r[f]=[]),t(n,s,r[f],o)&&U.isArray(r[f])&&(r[f]=MS(r[f])),!d)}if(U.isFormData(a)&&U.isFunction(a.entries)){const n={};return U.forEachEntry(a,(s,r)=>{t(ES(s),r,n,0)}),n}return null}function _S(a,t,n){if(U.isString(a))try{return(t||JSON.parse)(a),U.trim(a)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(a)}const sa={transitional:Bp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=U.isObject(t);if(o&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return r?JSON.stringify(Lp(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t)||U.isReadableStream(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wS(t,this.formSerializer).toString();if((d=U.isFileList(t))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Ir(d?{"files[]":t}:t,g&&new g,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),_S(t)):t}],transformResponse:[function(t){const n=this.transitional||sa.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(U.isResponse(t)||U.isReadableStream(t))return t;if(t&&U.isString(t)&&(s&&!this.responseType||r)){const f=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(d){if(f)throw d.name==="SyntaxError"?yt.from(d,yt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xe.classes.FormData,Blob:xe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],a=>{sa.headers[a]={}});const TS=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NS=a=>{const t={};let n,s,r;return a&&a.split(`
`).forEach(function(f){r=f.indexOf(":"),n=f.substring(0,r).trim().toLowerCase(),s=f.substring(r+1).trim(),!(!n||t[n]&&TS[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Pg=Symbol("internals");function kl(a){return a&&String(a).trim().toLowerCase()}function Ur(a){return a===!1||a==null?a:U.isArray(a)?a.map(Ur):String(a)}function CS(a){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(a);)t[s[1]]=s[2];return t}const OS=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Nc(a,t,n,s,r){if(U.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!U.isString(t)){if(U.isString(s))return t.indexOf(s)!==-1;if(U.isRegExp(s))return s.test(t)}}function zS(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function DS(a,t){const n=U.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(a,s+n,{value:function(r,o,f){return this[s].call(this,t,r,o,f)},configurable:!0})})}let Ye=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(d,g,m){const y=kl(g);if(!y)throw new Error("header name must be a non-empty string");const v=U.findKey(r,y);(!v||r[v]===void 0||m===!0||m===void 0&&r[v]!==!1)&&(r[v||g]=Ur(d))}const f=(d,g)=>U.forEach(d,(m,y)=>o(m,y,g));if(U.isPlainObject(t)||t instanceof this.constructor)f(t,n);else if(U.isString(t)&&(t=t.trim())&&!OS(t))f(NS(t),n);else if(U.isObject(t)&&U.isIterable(t)){let d={},g,m;for(const y of t){if(!U.isArray(y))throw TypeError("Object iterator must return a key-value pair");d[m=y[0]]=(g=d[m])?U.isArray(g)?[...g,y[1]]:[g,y[1]]:y[1]}f(d,n)}else t!=null&&o(n,t,s);return this}get(t,n){if(t=kl(t),t){const s=U.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return CS(r);if(U.isFunction(n))return n.call(this,r,s);if(U.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kl(t),t){const s=U.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Nc(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(f){if(f=kl(f),f){const d=U.findKey(s,f);d&&(!n||Nc(s,s[d],d,n))&&(delete s[d],r=!0)}}return U.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||Nc(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return U.forEach(this,(r,o)=>{const f=U.findKey(s,o);if(f){n[f]=Ur(r),delete n[o];return}const d=t?zS(o):String(o).trim();d!==o&&delete n[o],n[d]=Ur(r),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return U.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&U.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Pg]=this[Pg]={accessors:{}}).accessors,r=this.prototype;function o(f){const d=kl(f);s[d]||(DS(r,f),s[d]=!0)}return U.isArray(t)?t.forEach(o):o(t),this}};Ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Ye.prototype,({value:a},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(s){this[n]=s}}});U.freezeMethods(Ye);function Cc(a,t){const n=this||sa,s=t||n,r=Ye.from(s.headers);let o=s.data;return U.forEach(a,function(d){o=d.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function kp(a){return!!(a&&a.__CANCEL__)}function Qs(a,t,n){yt.call(this,a??"canceled",yt.ERR_CANCELED,t,n),this.name="CanceledError"}U.inherits(Qs,yt,{__CANCEL__:!0});function qp(a,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?a(n):t(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RS(a){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return t&&t[1]||""}function AS(a,t){a=a||10;const n=new Array(a),s=new Array(a);let r=0,o=0,f;return t=t!==void 0?t:1e3,function(g){const m=Date.now(),y=s[o];f||(f=m),n[r]=g,s[r]=m;let v=o,S=0;for(;v!==r;)S+=n[v++],v=v%a;if(r=(r+1)%a,r===o&&(o=(o+1)%a),m-f<t)return;const T=y&&m-y;return T?Math.round(S*1e3/T):void 0}}function jS(a,t){let n=0,s=1e3/t,r,o;const f=(m,y=Date.now())=>{n=y,r=null,o&&(clearTimeout(o),o=null),a(...m)};return[(...m)=>{const y=Date.now(),v=y-n;v>=s?f(m,y):(r=m,o||(o=setTimeout(()=>{o=null,f(r)},s-v)))},()=>r&&f(r)]}const Qr=(a,t,n=3)=>{let s=0;const r=AS(50,250);return jS(o=>{const f=o.loaded,d=o.lengthComputable?o.total:void 0,g=f-s,m=r(g),y=f<=d;s=f;const v={loaded:f,total:d,progress:d?f/d:void 0,bytes:g,rate:m||void 0,estimated:m&&d&&y?(d-f)/m:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};a(v)},n)},Gg=(a,t)=>{const n=a!=null;return[s=>t[0]({lengthComputable:n,total:a,loaded:s}),t[1]]},Fg=a=>(...t)=>U.asap(()=>a(...t)),YS=xe.hasStandardBrowserEnv?((a,t)=>n=>(n=new URL(n,xe.origin),a.protocol===n.protocol&&a.host===n.host&&(t||a.port===n.port)))(new URL(xe.origin),xe.navigator&&/(msie|trident)/i.test(xe.navigator.userAgent)):()=>!0,US=xe.hasStandardBrowserEnv?{write(a,t,n,s,r,o,f){if(typeof document>"u")return;const d=[`${a}=${encodeURIComponent(t)}`];U.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),U.isString(s)&&d.push(`path=${s}`),U.isString(r)&&d.push(`domain=${r}`),o===!0&&d.push("secure"),U.isString(f)&&d.push(`SameSite=${f}`),document.cookie=d.join("; ")},read(a){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function BS(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function LS(a,t){return t?a.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):a}function Hp(a,t,n){let s=!BS(t);return a&&(s||n==!1)?LS(a,t):t}const Xg=a=>a instanceof Ye?{...a}:a;function qn(a,t){t=t||{};const n={};function s(m,y,v,S){return U.isPlainObject(m)&&U.isPlainObject(y)?U.merge.call({caseless:S},m,y):U.isPlainObject(y)?U.merge({},y):U.isArray(y)?y.slice():y}function r(m,y,v,S){if(U.isUndefined(y)){if(!U.isUndefined(m))return s(void 0,m,v,S)}else return s(m,y,v,S)}function o(m,y){if(!U.isUndefined(y))return s(void 0,y)}function f(m,y){if(U.isUndefined(y)){if(!U.isUndefined(m))return s(void 0,m)}else return s(void 0,y)}function d(m,y,v){if(v in t)return s(m,y);if(v in a)return s(void 0,m)}const g={url:o,method:o,data:o,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d,headers:(m,y,v)=>r(Xg(m),Xg(y),v,!0)};return U.forEach(Object.keys({...a,...t}),function(y){const v=g[y]||r,S=v(a[y],t[y],y);U.isUndefined(S)&&v!==d||(n[y]=S)}),n}const Qp=a=>{const t=qn({},a);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:f,auth:d}=t;if(t.headers=f=Ye.from(f),t.url=Up(Hp(t.baseURL,t.url,t.allowAbsoluteUrls),a.params,a.paramsSerializer),d&&f.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),U.isFormData(n)){if(xe.hasStandardBrowserEnv||xe.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(U.isFunction(n.getHeaders)){const g=n.getHeaders(),m=["content-type","content-length"];Object.entries(g).forEach(([y,v])=>{m.includes(y.toLowerCase())&&f.set(y,v)})}}if(xe.hasStandardBrowserEnv&&(s&&U.isFunction(s)&&(s=s(t)),s||s!==!1&&YS(t.url))){const g=r&&o&&US.read(o);g&&f.set(r,g)}return t},kS=typeof XMLHttpRequest<"u",qS=kS&&function(a){return new Promise(function(n,s){const r=Qp(a);let o=r.data;const f=Ye.from(r.headers).normalize();let{responseType:d,onUploadProgress:g,onDownloadProgress:m}=r,y,v,S,T,w;function M(){T&&T(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(y),r.signal&&r.signal.removeEventListener("abort",y)}let O=new XMLHttpRequest;O.open(r.method.toUpperCase(),r.url,!0),O.timeout=r.timeout;function B(){if(!O)return;const et=Ye.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),st={data:!d||d==="text"||d==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:et,config:a,request:O};qp(function($){n($),M()},function($){s($),M()},st),O=null}"onloadend"in O?O.onloadend=B:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(B)},O.onabort=function(){O&&(s(new yt("Request aborted",yt.ECONNABORTED,a,O)),O=null)},O.onerror=function(it){const st=it&&it.message?it.message:"Network Error",at=new yt(st,yt.ERR_NETWORK,a,O);at.event=it||null,s(at),O=null},O.ontimeout=function(){let it=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const st=r.transitional||Bp;r.timeoutErrorMessage&&(it=r.timeoutErrorMessage),s(new yt(it,st.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,a,O)),O=null},o===void 0&&f.setContentType(null),"setRequestHeader"in O&&U.forEach(f.toJSON(),function(it,st){O.setRequestHeader(st,it)}),U.isUndefined(r.withCredentials)||(O.withCredentials=!!r.withCredentials),d&&d!=="json"&&(O.responseType=r.responseType),m&&([S,w]=Qr(m,!0),O.addEventListener("progress",S)),g&&O.upload&&([v,T]=Qr(g),O.upload.addEventListener("progress",v),O.upload.addEventListener("loadend",T)),(r.cancelToken||r.signal)&&(y=et=>{O&&(s(!et||et.type?new Qs(null,a,O):et),O.abort(),O=null)},r.cancelToken&&r.cancelToken.subscribe(y),r.signal&&(r.signal.aborted?y():r.signal.addEventListener("abort",y)));const Z=RS(r.url);if(Z&&xe.protocols.indexOf(Z)===-1){s(new yt("Unsupported protocol "+Z+":",yt.ERR_BAD_REQUEST,a));return}O.send(o||null)})},HS=(a,t)=>{const{length:n}=a=a?a.filter(Boolean):[];if(t||n){let s=new AbortController,r;const o=function(m){if(!r){r=!0,d();const y=m instanceof Error?m:this.reason;s.abort(y instanceof yt?y:new Qs(y instanceof Error?y.message:y))}};let f=t&&setTimeout(()=>{f=null,o(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const d=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),a=null)};a.forEach(m=>m.addEventListener("abort",o));const{signal:g}=s;return g.unsubscribe=()=>U.asap(d),g}},QS=function*(a,t){let n=a.byteLength;if(n<t){yield a;return}let s=0,r;for(;s<n;)r=s+t,yield a.slice(s,r),s=r},VS=async function*(a,t){for await(const n of PS(a))yield*QS(n,t)},PS=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const t=a.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Jg=(a,t,n,s)=>{const r=VS(a,t);let o=0,f,d=g=>{f||(f=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:m,value:y}=await r.next();if(m){d(),g.close();return}let v=y.byteLength;if(n){let S=o+=v;n(S)}g.enqueue(new Uint8Array(y))}catch(m){throw d(m),m}},cancel(g){return d(g),r.return()}},{highWaterMark:2})},Zg=64*1024,{isFunction:Tr}=U,GS=(({Request:a,Response:t})=>({Request:a,Response:t}))(U.global),{ReadableStream:Kg,TextEncoder:Wg}=U.global,Ig=(a,...t)=>{try{return!!a(...t)}catch{return!1}},FS=a=>{a=U.merge.call({skipUndefined:!0},GS,a);const{fetch:t,Request:n,Response:s}=a,r=t?Tr(t):typeof fetch=="function",o=Tr(n),f=Tr(s);if(!r)return!1;const d=r&&Tr(Kg),g=r&&(typeof Wg=="function"?(w=>M=>w.encode(M))(new Wg):async w=>new Uint8Array(await new n(w).arrayBuffer())),m=o&&d&&Ig(()=>{let w=!1;const M=new n(xe.origin,{body:new Kg,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!M}),y=f&&d&&Ig(()=>U.isReadableStream(new s("").body)),v={stream:y&&(w=>w.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!v[w]&&(v[w]=(M,O)=>{let B=M&&M[w];if(B)return B.call(M);throw new yt(`Response type '${w}' is not supported`,yt.ERR_NOT_SUPPORT,O)})});const S=async w=>{if(w==null)return 0;if(U.isBlob(w))return w.size;if(U.isSpecCompliantForm(w))return(await new n(xe.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(U.isArrayBufferView(w)||U.isArrayBuffer(w))return w.byteLength;if(U.isURLSearchParams(w)&&(w=w+""),U.isString(w))return(await g(w)).byteLength},T=async(w,M)=>{const O=U.toFiniteNumber(w.getContentLength());return O??S(M)};return async w=>{let{url:M,method:O,data:B,signal:Z,cancelToken:et,timeout:it,onDownloadProgress:st,onUploadProgress:at,responseType:$,headers:ht,withCredentials:vt="same-origin",fetchOptions:Rt}=Qp(w),Yt=t||fetch;$=$?($+"").toLowerCase():"text";let St=HS([Z,et&&et.toAbortSignal()],it),Ht=null;const At=St&&St.unsubscribe&&(()=>{St.unsubscribe()});let Ut;try{if(at&&m&&O!=="get"&&O!=="head"&&(Ut=await T(ht,B))!==0){let E=new n(M,{method:"POST",body:B,duplex:"half"}),Y;if(U.isFormData(B)&&(Y=E.headers.get("content-type"))&&ht.setContentType(Y),E.body){const[K,L]=Gg(Ut,Qr(Fg(at)));B=Jg(E.body,Zg,K,L)}}U.isString(vt)||(vt=vt?"include":"omit");const z=o&&"credentials"in n.prototype,X={...Rt,signal:St,method:O.toUpperCase(),headers:ht.normalize().toJSON(),body:B,duplex:"half",credentials:z?vt:void 0};Ht=o&&new n(M,X);let nt=await(o?Yt(Ht,Rt):Yt(M,X));const dt=y&&($==="stream"||$==="response");if(y&&(st||dt&&At)){const E={};["status","statusText","headers"].forEach(V=>{E[V]=nt[V]});const Y=U.toFiniteNumber(nt.headers.get("content-length")),[K,L]=st&&Gg(Y,Qr(Fg(st),!0))||[];nt=new s(Jg(nt.body,Zg,K,()=>{L&&L(),At&&At()}),E)}$=$||"text";let gt=await v[U.findKey(v,$)||"text"](nt,w);return!dt&&At&&At(),await new Promise((E,Y)=>{qp(E,Y,{data:gt,headers:Ye.from(nt.headers),status:nt.status,statusText:nt.statusText,config:w,request:Ht})})}catch(z){throw At&&At(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,w,Ht),{cause:z.cause||z}):yt.from(z,z&&z.code,w,Ht)}}},XS=new Map,Vp=a=>{let t=a&&a.env||{};const{fetch:n,Request:s,Response:r}=t,o=[s,r,n];let f=o.length,d=f,g,m,y=XS;for(;d--;)g=o[d],m=y.get(g),m===void 0&&y.set(g,m=d?new Map:FS(t)),y=m;return m};Vp();const dh={http:cS,xhr:qS,fetch:{get:Vp}};U.forEach(dh,(a,t)=>{if(a){try{Object.defineProperty(a,"name",{value:t})}catch{}Object.defineProperty(a,"adapterName",{value:t})}});const $g=a=>`- ${a}`,JS=a=>U.isFunction(a)||a===null||a===!1;function ZS(a,t){a=U.isArray(a)?a:[a];const{length:n}=a;let s,r;const o={};for(let f=0;f<n;f++){s=a[f];let d;if(r=s,!JS(s)&&(r=dh[(d=String(s)).toLowerCase()],r===void 0))throw new yt(`Unknown adapter '${d}'`);if(r&&(U.isFunction(r)||(r=r.get(t))))break;o[d||"#"+f]=r}if(!r){const f=Object.entries(o).map(([g,m])=>`adapter ${g} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=n?f.length>1?`since :
`+f.map($g).join(`
`):" "+$g(f[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r}const Pp={getAdapter:ZS,adapters:dh};function Oc(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Qs(null,a)}function t0(a){return Oc(a),a.headers=Ye.from(a.headers),a.data=Cc.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Pp.getAdapter(a.adapter||sa.adapter,a)(a).then(function(s){return Oc(a),s.data=Cc.call(a,a.transformResponse,s),s.headers=Ye.from(s.headers),s},function(s){return kp(s)||(Oc(a),s&&s.response&&(s.response.data=Cc.call(a,a.transformResponse,s.response),s.response.headers=Ye.from(s.response.headers))),Promise.reject(s)})}const Gp="1.13.2",$r={};["object","boolean","number","function","string","symbol"].forEach((a,t)=>{$r[a]=function(s){return typeof s===a||"a"+(t<1?"n ":" ")+a}});const e0={};$r.transitional=function(t,n,s){function r(o,f){return"[Axios v"+Gp+"] Transitional option '"+o+"'"+f+(s?". "+s:"")}return(o,f,d)=>{if(t===!1)throw new yt(r(f," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!e0[f]&&(e0[f]=!0,console.warn(r(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,f,d):!0}};$r.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function KS(a,t,n){if(typeof a!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const s=Object.keys(a);let r=s.length;for(;r-- >0;){const o=s[r],f=t[o];if(f){const d=a[o],g=d===void 0||f(d,o,a);if(g!==!0)throw new yt("option "+o+" must be "+g,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+o,yt.ERR_BAD_OPTION)}}const Br={assertOptions:KS,validators:$r},pi=Br.validators;let Ln=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vg,response:new Vg}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&Br.assertOptions(s,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),r!=null&&(U.isFunction(r)?n.paramsSerializer={serialize:r}:Br.assertOptions(r,{encode:pi.function,serialize:pi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Br.assertOptions(n,{baseUrl:pi.spelling("baseURL"),withXsrfToken:pi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=o&&U.merge(o.common,o[n.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=Ye.concat(f,o);const d=[];let g=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(g=g&&M.synchronous,d.unshift(M.fulfilled,M.rejected))});const m=[];this.interceptors.response.forEach(function(M){m.push(M.fulfilled,M.rejected)});let y,v=0,S;if(!g){const w=[t0.bind(this),void 0];for(w.unshift(...d),w.push(...m),S=w.length,y=Promise.resolve(n);v<S;)y=y.then(w[v++],w[v++]);return y}S=d.length;let T=n;for(;v<S;){const w=d[v++],M=d[v++];try{T=w(T)}catch(O){M.call(this,O);break}}try{y=t0.call(this,T)}catch(w){return Promise.reject(w)}for(v=0,S=m.length;v<S;)y=y.then(m[v++],m[v++]);return y}getUri(t){t=qn(this.defaults,t);const n=Hp(t.baseURL,t.url,t.allowAbsoluteUrls);return Up(n,t.params,t.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(t){Ln.prototype[t]=function(n,s){return this.request(qn(s||{},{method:t,url:n,data:(s||{}).data}))}});U.forEach(["post","put","patch"],function(t){function n(s){return function(o,f,d){return this.request(qn(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:f}))}}Ln.prototype[t]=n(),Ln.prototype[t+"Form"]=n(!0)});let WS=class Fp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const f=new Promise(d=>{s.subscribe(d),o=d}).then(r);return f.cancel=function(){s.unsubscribe(o)},f},t(function(o,f,d){s.reason||(s.reason=new Qs(o,f,d),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fp(function(r){t=r}),cancel:t}}};function IS(a){return function(n){return a.apply(null,n)}}function $S(a){return U.isObject(a)&&a.isAxiosError===!0}const eh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(eh).forEach(([a,t])=>{eh[t]=a});function Xp(a){const t=new Ln(a),n=Mp(Ln.prototype.request,t);return U.extend(n,Ln.prototype,t,{allOwnKeys:!0}),U.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Xp(qn(a,r))},n}const ne=Xp(sa);ne.Axios=Ln;ne.CanceledError=Qs;ne.CancelToken=WS;ne.isCancel=kp;ne.VERSION=Gp;ne.toFormData=Ir;ne.AxiosError=yt;ne.Cancel=ne.CanceledError;ne.all=function(t){return Promise.all(t)};ne.spread=IS;ne.isAxiosError=$S;ne.mergeConfig=qn;ne.AxiosHeaders=Ye;ne.formToJSON=a=>Lp(U.isHTMLForm(a)?new FormData(a):a);ne.getAdapter=Pp.getAdapter;ne.HttpStatusCode=eh;ne.default=ne;const{Axios:o_,AxiosError:c_,CanceledError:h_,isCancel:f_,CancelToken:d_,VERSION:m_,all:g_,Cancel:p_,isAxiosError:y_,spread:v_,toFormData:b_,AxiosHeaders:x_,HttpStatusCode:S_,formToJSON:w_,getAdapter:E_,mergeConfig:M_}=ne,tw="http://localhost:3001",ew=ne.create({baseURL:tw,headers:{"Content-Type":"application/json"}});async function iw(a){return(await ew.get("/api/data/candles",{params:a})).data}const i0=a=>{let t;const n=new Set,s=(m,y)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const S=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(T=>T(t,S))}},r=()=>t,d={setState:s,getState:r,getInitialState:()=>g,subscribe:m=>(n.add(m),()=>n.delete(m))},g=t=a(s,r,d);return d},nw=(a=>a?i0(a):i0),sw=a=>a;function lw(a,t=sw){const n=Mr.useSyncExternalStore(a.subscribe,Mr.useCallback(()=>t(a.getState()),[a,t]),Mr.useCallback(()=>t(a.getInitialState()),[a,t]));return Mr.useDebugValue(n),n}const n0=a=>{const t=nw(a),n=s=>lw(t,s);return Object.assign(n,t),n},aw=(a=>a?n0(a):n0),Jp="backtesting_trade_sessions";function rw(){try{const a=localStorage.getItem(Jp);return a?JSON.parse(a):[]}catch(a){return console.error("Error loading trade sessions:",a),[]}}function uw(a,t,n){const s=rw(),r={id:`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,instrument:a,startDate:t.length>0?t[0].timestamp:Date.now(),endDate:t.length>0?t[t.length-1].timestamp:Date.now(),trades:t,totalPnL:n.totalPnL,winRate:n.winRate,totalTrades:t.length};s.push(r);try{localStorage.setItem(Jp,JSON.stringify(s))}catch(o){console.error("Error saving trade session:",o)}return r}function Zp(a){const t=[];let n=null,s=0;for(const r of a){const o=r.type==="BUY"?1:-1,f=r.quantity*o;if(s===0)s=f,n={id:`pos-${r.id}`,direction:r.type==="BUY"?"LONG":"SHORT",status:"OPEN",instrument:r.instrument,entryTime:r.timestamp,avgEntryPrice:r.price,totalQuantity:r.quantity,remainingQuantity:r.quantity,realizedPnL:0,executions:[r]};else if(s>0&&o>0||s<0&&o<0){if(!n)continue;const g=n.avgEntryPrice*n.remainingQuantity,m=r.price*r.quantity,y=n.remainingQuantity+r.quantity;n.avgEntryPrice=(g+m)/y,n.totalQuantity+=r.quantity,n.remainingQuantity=y,n.executions.push(r),s+=f}else{if(!n)continue;const g=Math.abs(s),m=Math.min(g,r.quantity),y=r.quantity-m,S=(n.direction==="LONG"?r.price-n.avgEntryPrice:n.avgEntryPrice-r.price)*m;if(n.realizedPnL+=S,n.remainingQuantity-=m,y>0){const T={...r,quantity:m,pnl:S};n.executions.push(T),n.status="CLOSED",n.exitTime=r.timestamp,n.avgExitPrice=r.price,t.push(n),s=o*y,n={id:`pos-${r.id}-flip`,direction:r.type==="BUY"?"LONG":"SHORT",status:"OPEN",instrument:r.instrument,entryTime:r.timestamp,avgEntryPrice:r.price,totalQuantity:y,remainingQuantity:y,realizedPnL:0,executions:[{...r,quantity:y,pnl:void 0}]}}else{const T={...r,quantity:m,pnl:S};n.executions.push(T),n.remainingQuantity=Math.abs(s)-m,s+=f,s===0&&(n.status="CLOSED",n.exitTime=r.timestamp,n.avgExitPrice=r.price,t.push(n),n=null)}}}return n&&t.push(n),t.map(r=>(r.entryTime&&r.exitTime&&(r.durationMinutes=(r.exitTime-r.entryTime)/60),r)).reverse()}function Kp(a){const t=a.filter(v=>v.status==="CLOSED");let n=0,s=0,r=0,o=0,f=0,d=0,g=0,m=0,y=0;return t.forEach(v=>{n+=v.realizedPnL,v.realizedPnL>0?(s++,o+=v.realizedPnL):v.realizedPnL<0&&(r++,f+=Math.abs(v.realizedPnL)),v.direction==="LONG"?(d++,g+=v.realizedPnL):(m++,y+=v.realizedPnL)}),{totalTrades:t.length,winningTrades:s,losingTrades:r,winRate:t.length>0?s/t.length*100:0,totalPnL:n,avgWin:s>0?o/s:0,avgLoss:r>0?f/r:0,profitFactor:f>0?o/f:o>0?1/0:0,maxDrawdown:0,longs:{count:d,pnl:g},shorts:{count:m,pnl:y}}}const ow=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Ae=aw((a,t)=>({candles:[],currentIndex:0,trades:[],position:null,instrument:"",isPlaying:!1,speed:1,loadCandles:(n,s)=>{a({candles:n,instrument:s,currentIndex:0,trades:[],position:null,isPlaying:!1})},play:()=>a({isPlaying:!0}),pause:()=>a({isPlaying:!1}),step:n=>{const{currentIndex:s,candles:r}=t();n==="forward"&&s<r.length-1?a({currentIndex:s+1}):n==="backward"&&s>0&&a({currentIndex:s-1})},setSpeed:n=>a({speed:n}),setCurrentIndex:n=>{const{candles:s}=t();n>=0&&n<s.length&&a({currentIndex:n})},executeTrade:(n,s)=>{const{candles:r,currentIndex:o,trades:f,position:d,instrument:g}=t(),m=r[o];if(!m){console.error("No current candle available");return}const y=m.close,v=m.timestamp,S={id:ow(),timestamp:v,type:n,price:y,quantity:s,instrument:g},T=d?d.quantity:0,w=d?d.averagePrice:0,M=n==="BUY"?1:-1,O=s*M;let B=T+O,Z=w,et=d?d.realizedPnL:0,it;const st=T>=0&&M>0||T<=0&&M<0;if(T===0)Z=y;else if(st){const $=Math.abs(T)*w+s*y,ht=Math.abs(T)+s;Z=$/ht}else{const $=Math.min(Math.abs(T),s),vt=(T>0?y-w:w-y)*$;it=vt,et+=vt,s-$>0&&(Z=y)}S.pnl=it;const at={instrument:g,quantity:B,averagePrice:Z,realizedPnL:et,unrealizedPnL:0};a({trades:[...f,S],position:B!==0?at:null})},resetSession:()=>{a({currentIndex:0,trades:[],position:null,isPlaying:!1})},saveCurrentSession:()=>{const{instrument:n,trades:s}=t();if(s.length===0)return;const r=Zp(s),o=Kp(r);uw(n,s,{totalPnL:o.totalPnL,winRate:o.winRate})},getCurrentCandle:()=>{const{candles:n,currentIndex:s}=t();return n[s]||null},getVisibleCandles:()=>{const{candles:n,currentIndex:s}=t();return n.slice(0,s+1)},getUnrealizedPnL:()=>{const{position:n,candles:s,currentIndex:r}=t();if(!n||n.quantity===0)return 0;const o=s[r];return o?(o.close-n.averagePrice)*n.quantity:0},jump:n=>{const{currentIndex:s,candles:r}=t(),o=s+n;o>=0&&o<r.length?a({currentIndex:o}):o<0?a({currentIndex:0}):a({currentIndex:r.length-1})},getRealizedPnL:()=>{const{position:n}=t();return n?.realizedPnL||0}})),Wp=[{token:"99926000",name:"Nifty 50",symbol:"NIFTY 50",exchange:"NSE_FNO",instrumentType:"INDEX",category:"Index"},{token:"99926009",name:"Nifty Bank",symbol:"NIFTY BANK",exchange:"NSE_FNO",instrumentType:"INDEX",category:"Index"},{token:"99926037",name:"Nifty Financial Services",symbol:"NIFTY FIN SERVICE",exchange:"NSE_FNO",instrumentType:"INDEX",category:"Index"},{token:"99926074",name:"Nifty Midcap 50",symbol:"NIFTY MID SELECT",exchange:"NSE_FNO",instrumentType:"INDEX",category:"Index"},{token:"99926013",name:"Nifty IT",symbol:"NIFTY IT",exchange:"NSE_FNO",instrumentType:"INDEX",category:"Index"},{token:"3045",name:"State Bank of India",symbol:"SBIN",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"1333",name:"HDFC Bank",symbol:"HDFCBANK",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"1660",name:"ICICI Bank",symbol:"ICICIBANK",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"1922",name:"Kotak Mahindra Bank",symbol:"KOTAKBANK",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"1795",name:"Axis Bank",symbol:"AXISBANK",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"1594",name:"IndusInd Bank",symbol:"INDUSINDBK",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"4668",name:"Bajaj Finance",symbol:"BAJFINANCE",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"16669",name:"Bajaj Finserv",symbol:"BAJAJFINSV",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Banking"},{token:"11536",name:"Tata Consultancy Services",symbol:"TCS",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"IT"},{token:"1594",name:"Infosys",symbol:"INFY",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"IT"},{token:"1660",name:"HCL Technologies",symbol:"HCLTECH",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"IT"},{token:"3506",name:"Wipro",symbol:"WIPRO",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"IT"},{token:"10794",name:"Tech Mahindra",symbol:"TECHM",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"IT"},{token:"18011",name:"LTIMindtree",symbol:"LTIM",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"IT"},{token:"2885",name:"Reliance Industries",symbol:"RELIANCE",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Energy"},{token:"3499",name:"NTPC",symbol:"NTPC",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Energy"},{token:"3063",name:"Power Grid Corporation",symbol:"POWERGRID",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Energy"},{token:"1330",name:"Coal India",symbol:"COALINDIA",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Energy"},{token:"1624",name:"ONGC",symbol:"ONGC",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Energy"},{token:"2952",name:"BPCL",symbol:"BPCL",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Energy"},{token:"3456",name:"Maruti Suzuki",symbol:"MARUTI",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Auto"},{token:"16675",name:"Tata Motors",symbol:"TATAMOTORS",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Auto"},{token:"10999",name:"Mahindra & Mahindra",symbol:"M&M",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Auto"},{token:"1270",name:"Bajaj Auto",symbol:"BAJAJ-AUTO",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Auto"},{token:"10447",name:"Eicher Motors",symbol:"EICHERMOT",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Auto"},{token:"1394",name:"Hindustan Unilever",symbol:"HINDUNILVR",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"FMCG"},{token:"1624",name:"ITC",symbol:"ITC",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"FMCG"},{token:"4717",name:"Nestle India",symbol:"NESTLEIND",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"FMCG"},{token:"4632",name:"Britannia Industries",symbol:"BRITANNIA",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"FMCG"},{token:"772",name:"Asian Paints",symbol:"ASIANPAINT",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"FMCG"},{token:"3351",name:"Sun Pharma",symbol:"SUNPHARMA",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Pharma"},{token:"1348",name:"Dr Reddy's Laboratories",symbol:"DRREDDY",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Pharma"},{token:"1922",name:"Cipla",symbol:"CIPLA",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Pharma"},{token:"14977",name:"Divi's Laboratories",symbol:"DIVISLAB",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Pharma"},{token:"3499",name:"Tata Steel",symbol:"TATASTEEL",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Metals"},{token:"1363",name:"Hindalco Industries",symbol:"HINDALCO",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Metals"},{token:"1995",name:"JSW Steel",symbol:"JSWSTEEL",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Metals"},{token:"11536",name:"Larsen & Toubro",symbol:"LT",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Other"},{token:"5258",name:"Adani Enterprises",symbol:"ADANIENT",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Other"},{token:"19113",name:"Adani Ports",symbol:"ADANIPORTS",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Other"},{token:"236",name:"Bharti Airtel",symbol:"BHARTIARTL",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Other"},{token:"467",name:"UltraTech Cement",symbol:"ULTRACEMCO",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Other"},{token:"2181",name:"Grasim Industries",symbol:"GRASIM",exchange:"NSE_EQ",instrumentType:"EQUITY",category:"Other"}],cw=["All","Index","Nifty 50","Banking","IT","Auto","Pharma","FMCG","Energy","Metals","Other"];function hw(a,t="All"){const n=a.toLowerCase().trim();let s=Wp;return t!=="All"&&(s=s.filter(r=>r.category===t)),n&&(s=s.filter(r=>r.name.toLowerCase().includes(n)||r.symbol.toLowerCase().includes(n)||r.token.includes(n))),s}function Ip(a){const t=[],n=a.t.length;for(let s=0;s<n;s++)t.push({timestamp:a.t[s],open:a.o[s],high:a.h[s],low:a.l[s],close:a.c[s],volume:a.v[s]});return t}function $p(a,t){if(t<=1)return a;const n=[],s=t*60;let r=-1,o=[];for(const f of a){const d=f.timestamp,g=Math.floor(d/s)*s;r===-1?(r=g,o.push(f)):g===r?o.push(f):(o.length>0&&n.push(s0(o,r)),r=g,o=[f])}return o.length>0&&n.push(s0(o,r)),n}function s0(a,t){const n=a[0].open,s=a[a.length-1].close;let r=-1/0,o=1/0,f=0;for(const d of a)d.high>r&&(r=d.high),d.low<o&&(o=d.low),f+=d.volume;return{timestamp:t,open:n,high:r,low:o,close:s,volume:f}}const fw=()=>xp(()=>import("./nifty50-klJ-CIEX.js"),[]);function dw(){const[a,t]=F.useState("api"),[n,s]=F.useState("2885"),[r,o]=F.useState("NSE_EQ"),[f,d]=F.useState("EQUITY"),[g,m]=F.useState("5"),[y,v]=F.useState("2024-01-01"),[S,T]=F.useState("2025-07-25"),[w,M]=F.useState(!1),[O,B]=F.useState(null),[Z,et]=F.useState(""),[it,st]=F.useState("All"),[at,$]=F.useState(!1),[ht,vt]=F.useState(null),Rt=F.useRef(null),Yt=Ae(z=>z.loadCandles);F.useEffect(()=>{function z(X){Rt.current&&!Rt.current.contains(X.target)&&$(!1)}return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const St=hw(Z,it),Ht=z=>{vt(z),s(z.token),o(z.exchange),d(z.instrumentType),et(""),$(!1)},At=()=>{vt(null),et("")},Ut=async()=>{M(!0),B(null);try{if(a==="api"){const z=await iw({securityId:n,exchangeSegment:r,instrument:f,interval:g,fromDate:y,toDate:S});z.success&&z.data.length>0?Yt(z.data,`${n}-${r}`):B("No data received from API")}else try{const z=await fw(),X=z.default||z;if(!X||!X.t||!X.o||!X.h||!X.l||!X.c||!X.v)throw new Error("Invalid JSON data format: Missing required columns");let nt=Ip(X);if(y){const E=new Date(y).getTime()/1e3;nt=nt.filter(Y=>Y.timestamp>=E)}if(S){const E=new Date(S).getTime()/1e3+86400;nt=nt.filter(Y=>Y.timestamp<E)}let dt=1;g==="5"&&(dt=5),g==="15"&&(dt=15),g==="60"&&(dt=60),g==="1D"&&(dt=1440);const gt=$p(nt,dt);gt.length>0?(console.log(`Loaded ${gt.length} candles (Resampled: ${g})`),Yt(gt,`NIFTY 50 (Local ${g})`)):B("No candles generated from local data")}catch(z){console.error(z),B(`Failed to load local file: ${z.message}`)}}catch(z){B(z.message||"Failed to fetch data")}finally{M(!1)}};return x.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[x.jsx(kg,{size:20}),"Load Data"]}),x.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[x.jsxs("button",{onClick:()=>t("api"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center gap-2 transition-all ${a==="api"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[x.jsx(K1,{size:16}),"API"]}),x.jsxs("button",{onClick:()=>t("local"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center gap-2 transition-all ${a==="local"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[x.jsx(tx,{size:16}),"Local Nifty"]})]})]}),a==="api"?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Symbol"}),x.jsxs("div",{className:"relative",ref:Rt,children:[x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:ht?`${ht.name} (${ht.symbol})`:Z,onChange:z=>{et(z.target.value),$(!0),ht&&vt(null)},onFocus:()=>$(!0),className:"w-full px-3 py-2 pl-10 pr-10 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by name, symbol, or token..."}),x.jsx(kg,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),ht&&x.jsx("button",{onClick:At,className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:x.jsx(Hr,{size:18})})]}),at&&x.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-96 overflow-hidden",children:[x.jsx("div",{className:"p-2 border-b bg-gray-50 flex gap-1 flex-wrap",children:cw.map(z=>x.jsx("button",{onClick:()=>st(z),className:`px-2 py-1 text-xs rounded ${it===z?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:z},z))}),x.jsx("div",{className:"overflow-y-auto max-h-80",children:St.length>0?St.map(z=>x.jsx("button",{onClick:()=>Ht(z),className:"w-full px-3 py-2 text-left hover:bg-blue-50 border-b last:border-b-0 transition-colors",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-sm",children:z.name}),x.jsxs("div",{className:"text-xs text-gray-500",children:[z.symbol,"  Token: ",z.token]})]}),x.jsx("div",{className:"text-xs px-2 py-1 bg-gray-100 rounded",children:z.category})]})},z.token)):x.jsx("div",{className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No symbols found"})})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symbol Token"}),x.jsx("input",{type:"text",value:n,onChange:z=>s(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 2885 for RELIANCE"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exchange Segment"}),x.jsxs("select",{value:r,onChange:z=>o(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"NSE_EQ",children:"NSE Equity"}),x.jsx("option",{value:"NSE_FNO",children:"NSE F&O"}),x.jsx("option",{value:"BSE_EQ",children:"BSE Equity"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrument Type"}),x.jsxs("select",{value:f,onChange:z=>d(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"EQUITY",children:"Equity"}),x.jsx("option",{value:"INDEX",children:"Index"}),x.jsx("option",{value:"FUTIDX",children:"Index Future"}),x.jsx("option",{value:"FUTSTK",children:"Stock Future"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),x.jsxs("select",{value:g,onChange:z=>m(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"1",children:"1 Minute"}),x.jsx("option",{value:"5",children:"5 Minutes"}),x.jsx("option",{value:"15",children:"15 Minutes"}),x.jsx("option",{value:"60",children:"1 Hour"}),x.jsx("option",{value:"1D",children:"1 Day"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),x.jsx("input",{type:"date",value:y,onChange:z=>v(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),x.jsx("input",{type:"date",value:S,onChange:z=>T(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[x.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Local Data Source"}),x.jsxs("p",{className:"text-blue-800 text-sm",children:["Loading 1-minute data for ",x.jsx("strong",{children:"Nifty 50"})," from local assets. You can select a different timeframe below to resample the data."]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data File"}),x.jsx("div",{className:"w-full px-3 py-2 border rounded bg-gray-100 text-gray-600 cursor-not-allowed",children:"nifty50.json (Nifty 50 Index)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View Timeframe (Resampled)"}),x.jsxs("select",{value:g,onChange:z=>m(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"1",children:"1 Minute (Original)"}),x.jsx("option",{value:"5",children:"5 Minutes"}),x.jsx("option",{value:"15",children:"15 Minutes"}),x.jsx("option",{value:"60",children:"1 Hour"}),x.jsx("option",{value:"1D",children:"1 Day"})]}),x.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The system will automatically aggregate the 1-minute data into your selected timeframe."})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),x.jsx("input",{type:"date",value:y,onChange:z=>v(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),x.jsx("input",{type:"date",value:S,onChange:z=>T(z.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),O&&x.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:O}),x.jsx("button",{onClick:Ut,disabled:w,className:"mt-4 w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?"Processing...":a==="api"?"Fetch & Load":"Load Local Data"}),a==="api"&&x.jsxs("div",{className:"mt-3 text-xs text-gray-500 space-y-1",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Available Symbols:"})," Nifty 50, Bank Nifty, Finnifty indices + All Nifty 50 stocks"]}),x.jsxs("div",{className:"text-blue-600",children:["Using Angel One API (FREE)  ",Wp.length," symbols available"]})]})]})}function Ft(a){var t=a.width,n=a.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:n}}function kn(a,t){return a.width===t.width&&a.height===t.height}var mw=(function(){function a(t){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return a.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(a.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),a.prototype.subscribe=function(t){var n=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){n._observers=n._observers.filter(function(r){return r!==s})}}},a.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},a.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},a.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},a.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(n){return n.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},a})();function gw(a){return new mw(a)}var pw=(function(){function a(t,n,s){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=Ft({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??(function(o){return o}),this._allowResizeObserver=(r=s?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return a.prototype.dispose=function(){var t,n;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(a.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bitmapSize",{get:function(){return Ft({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),a.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=Ft(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},a.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},a.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==t})},Object.defineProperty(a.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),a.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},a.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==t})},a.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},a.prototype._resizeBitmap=function(t){var n=this.bitmapSize;kn(n,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(n,t))},a.prototype._emitBitmapSizeChanged=function(t,n){var s=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(s,t,n)})},a.prototype._suggestNewBitmapSize=function(t){var n=this._suggestedBitmapSize,s=Ft(this._transformBitmapSize(t,this._canvasElementClientSize)),r=kn(this.bitmapSize,s)?null:s;n===null&&r===null||n!==null&&r!==null&&kn(n,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(n,r))},a.prototype._emitSuggestedBitmapSizeChanged=function(t,n){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(s,t,n)})},a.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}vw().then(function(n){return n?t._initResizeObserver():t._initDevicePixelRatioObservable()})},a.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var n=l0(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=gw(n),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},a.prototype._invalidateBitmapSize=function(){var t,n;if(this._canvasElement!==null){var s=l0(this._canvasElement);if(s!==null){var r=(n=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&n!==void 0?n:s.devicePixelRatio,o=this._canvasElement.getClientRects(),f=o[0]!==void 0?bw(o[0],r):Ft({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(f)}}},a.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var s=n.find(function(f){return f.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var r=s.devicePixelContentBoxSize[0],o=Ft({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},a})();function yw(a,t){return new pw(a,t.transform,t.options)}function l0(a){return a.ownerDocument.defaultView}function vw(){return new Promise(function(a){var t=new ResizeObserver(function(n){a(n.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function bw(a,t){return Ft({width:Math.round(a.left*t+a.width*t)-Math.round(a.left*t),height:Math.round(a.top*t+a.height*t)-Math.round(a.top*t)})}var xw=(function(){function a(t,n,s){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return a.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},a.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(a.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),a})();function Hn(a,t){var n=a.canvasElementClientSize;if(n.width===0||n.height===0)return null;var s=a.bitmapSize;if(s.width===0||s.height===0)return null;var r=a.canvasElement.getContext("2d",t);return r===null?null:new xw(r,n,s)}const ty={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var a0,r0;function Qn(a,t){const n={0:[],1:[a.lineWidth,a.lineWidth],2:[2*a.lineWidth,2*a.lineWidth],3:[6*a.lineWidth,6*a.lineWidth],4:[a.lineWidth,4*a.lineWidth]}[t];a.setLineDash(n)}function ey(a,t,n,s){a.beginPath();const r=a.lineWidth%2?.5:0;a.moveTo(n,t+r),a.lineTo(s,t+r),a.stroke()}function ve(a,t){if(!a)throw new Error("Assertion failed"+(t?": "+t:""))}function Ue(a){if(a===void 0)throw new Error("Value is undefined");return a}function J(a){if(a===null)throw new Error("Value is null");return a}function mn(a){return J(Ue(a))}(function(a){a[a.Simple=0]="Simple",a[a.WithSteps=1]="WithSteps",a[a.Curved=2]="Curved"})(a0||(a0={})),(function(a){a[a.Solid=0]="Solid",a[a.Dotted=1]="Dotted",a[a.Dashed=2]="Dashed",a[a.LargeDashed=3]="LargeDashed",a[a.SparseDotted=4]="SparseDotted"})(r0||(r0={}));class ie{constructor(){this.t=[]}i(t,n,s){const r={h:t,l:n,o:s===!0};this.t.push(r)}_(t){const n=this.t.findIndex((s=>t===s.h));n>-1&&this.t.splice(n,1)}u(t){this.t=this.t.filter((n=>n.l!==t))}p(t,n,s){const r=[...this.t];this.t=this.t.filter((o=>!o.o)),r.forEach((o=>o.h(t,n,s)))}v(){return this.t.length>0}m(){this.t=[]}}function Ge(a,...t){for(const n of t)for(const s in n)n[s]!==void 0&&Object.prototype.hasOwnProperty.call(n,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof n[s]!="object"||a[s]===void 0||Array.isArray(n[s])?a[s]=n[s]:Ge(a[s],n[s]));return a}function Vn(a){return typeof a=="number"&&isFinite(a)}function Kl(a){return typeof a=="number"&&a%1==0}function la(a){return typeof a=="string"}function Nr(a){return typeof a=="boolean"}function Bi(a){const t=a;if(!t||typeof t!="object")return t;let n,s,r;for(s in n=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(r=t[s],n[s]=r&&typeof r=="object"?Bi(r):r);return n}function Sw(a){return a!==null}function Wl(a){return a===null?void 0:a}const iy="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Il(a,t,n){return t===void 0&&(t=iy),`${n=n!==void 0?`${n} `:""}${a}px ${t}`}class ww{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=t}N(){const t=this.M,n=this.F(),s=this.W();return t.P===n&&t.T===s||(t.P=n,t.T=s,t.k=Il(n,s),t.A=2.5/12*n,t.V=t.A,t.B=n/12*t.C,t.I=n/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function zc(a){return a<0?0:a>255?255:Math.round(a)||0}function u0(a){return .199*a[0]+.687*a[1]+.114*a[2]}class Ew{constructor(t,n){this.q=new Map,this.Y=t,n&&(this.q=n)}j(t,n){if(t==="transparent")return t;const s=this.K(t),r=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${n*r})`}X(t){const n=this.K(t);return{Z:`rgb(${n[0]}, ${n[1]}, ${n[2]})`,G:u0(n)>160?"black":"white"}}J(t){return u0(this.K(t))}tt(t,n,s){const[r,o,f,d]=this.K(t),[g,m,y,v]=this.K(n),S=[zc(r+s*(g-r)),zc(o+s*(m-o)),zc(f+s*(y-f)),(T=d+s*(v-d),T<=0||T>1?Math.min(Math.max(T,0),1):Math.round(1e4*T)/1e4)];var T;return`rgba(${S[0]}, ${S[1]}, ${S[2]}, ${S[3]})`}K(t){const n=this.q.get(t);if(n)return n;const s=(function(f){const d=document.createElement("div");d.style.display="none",document.body.appendChild(d),d.style.color=f;const g=window.getComputedStyle(d).color;return document.body.removeChild(d),g})(t),r=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const f of this.Y){const d=f(t);if(d)return this.q.set(t,d),d}throw new Error(`Failed to parse color: ${t}`)}const o=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,o),o}}class Mw{constructor(){this.it=[]}st(t){this.it=t}nt(t,n,s){this.it.forEach((r=>{r.nt(t,n,s)}))}}class pn{nt(t,n,s){t.useBitmapCoordinateSpace((r=>this.et(r,n,s)))}}class _w extends pn{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,o=this.rt,f=Math.max(1,Math.floor(n))%2/2,d=g=>{t.beginPath();for(let m=r.to-1;m>=r.from;--m){const y=o.ot[m],v=Math.round(y._t*n)+f,S=y.ut*s,T=g*s+f;t.moveTo(v,S),t.arc(v,S,T,0,2*Math.PI)}t.fill()};o.ct>0&&(t.fillStyle=o.dt,d(o.ft+o.ct)),t.fillStyle=o.vt,d(o.ft)}}function Tw(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Nw={from:0,to:1};class Cw{constructor(t,n,s){this.Mt=new Mw,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=n,this.Pt=s,this.Mt.st(this.bt)}yt(t){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(Tw),this.bt=this.St.map((n=>{const s=new _w;return s.ht(n),s})),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),n=this.Pt.Bt(),s=this.Ct.It(),r=this.O.Et();this.kt(),n.forEach(((o,f)=>{const d=this.St[f],g=o.At(s),m=o.zt();!t&&g!==null&&o.Vt()&&m!==null?(d.vt=g.Lt,d.ft=g.ft,d.ct=g.Ot,d.ot[0].gt=g.gt,d.ot[0].ut=o.Ft().Nt(g.gt,m.Wt),d.dt=g.Ht??this.O.Ut(d.ot[0].ut/o.Ft().$t()),d.ot[0].wt=s,d.ot[0]._t=r.qt(s),d.lt=Nw):d.lt=null}))}}class Ow extends pn{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Yt===null)return;const o=this.Yt.jt.Vt,f=this.Yt.Kt.Vt;if(!o&&!f)return;const d=Math.round(this.Yt._t*s),g=Math.round(this.Yt.ut*r);t.lineCap="butt",o&&d>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*s),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,Qn(t,this.Yt.jt.Xt),(function(m,y,v,S){m.beginPath();const T=m.lineWidth%2?.5:0;m.moveTo(y+T,v),m.lineTo(y+T,S),m.stroke()})(t,d,0,n.height)),f&&g>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,Qn(t,this.Yt.Kt.Xt),ey(t,g,0,n.width))}}class zw{constructor(t,n){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new Ow(this.Zt),this.Jt=t,this.Pt=n}yt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),n=this.Pt.Qt().N().crosshair,s=this.Zt;if(n.mode===2)return s.Kt.Vt=!1,void(s.jt.Vt=!1);s.Kt.Vt=t&&this.Jt.ti(this.Pt),s.jt.Vt=t&&this.Jt.ii(),s.Kt.ct=n.horzLine.width,s.Kt.Xt=n.horzLine.style,s.Kt.R=n.horzLine.color,s.jt.ct=n.vertLine.width,s.jt.Xt=n.vertLine.style,s.jt.R=n.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}}function Dw(a,t,n,s,r,o){a.fillRect(t+o,n,s-2*o,o),a.fillRect(t+o,n+r-o,s-2*o,o),a.fillRect(t,n,o,r),a.fillRect(t+s-o,n,o,r)}function tu(a,t,n,s,r,o){a.save(),a.globalCompositeOperation="copy",a.fillStyle=o,a.fillRect(t,n,s,r),a.restore()}function o0(a,t,n,s,r,o){a.beginPath(),a.roundRect?a.roundRect(t,n,s,r,o):(a.lineTo(t+s-o[1],n),o[1]!==0&&a.arcTo(t+s,n,t+s,n+o[1],o[1]),a.lineTo(t+s,n+r-o[2]),o[2]!==0&&a.arcTo(t+s,n+r,t+s-o[2],n+r,o[2]),a.lineTo(t+o[3],n+r),o[3]!==0&&a.arcTo(t,n+r,t,n+r-o[3],o[3]),a.lineTo(t,n+o[0]),o[0]!==0&&a.arcTo(t,n,t+o[0],n,o[0]))}function c0(a,t,n,s,r,o,f=0,d=[0,0,0,0],g=""){if(a.save(),!f||!g||g===o)return o0(a,t,n,s,r,d),a.fillStyle=o,a.fill(),void a.restore();const m=f/2;var y;o0(a,t+m,n+m,s-f,r-f,(y=-m,d.map((v=>v===0?v:v+y)))),o!=="transparent"&&(a.fillStyle=o,a.fill()),g!=="transparent"&&(a.lineWidth=f,a.strokeStyle=g,a.closePath(),a.stroke()),a.restore()}function ny(a,t,n,s,r,o,f){a.save(),a.globalCompositeOperation="copy";const d=a.createLinearGradient(0,0,0,r);d.addColorStop(0,o),d.addColorStop(1,f),a.fillStyle=d,a.fillRect(t,n,s,r),a.restore()}class h0{constructor(t,n){this.ht(t,n)}ht(t,n){this.Yt=t,this.ei=n}$t(t,n){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,n,s,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const o=this.Yt.R,f=this.ei.Z,d=t.useBitmapCoordinateSpace((g=>{const m=g.context;m.font=n.k;const y=this.hi(g,n,s,r),v=y.ai;return y.li?c0(m,v.oi,v._i,v.ui,v.ci,f,v.di,[v.ft,0,0,v.ft],f):c0(m,v.fi,v._i,v.ui,v.ci,f,v.di,[0,v.ft,v.ft,0],f),this.Yt.pi&&(m.fillStyle=o,m.fillRect(v.fi,v.mi,v.wi-v.fi,v.gi)),this.Yt.Mi&&(m.fillStyle=n.D,m.fillRect(y.li?v.bi-v.di:0,v._i,v.di,v.Si-v._i)),y}));t.useMediaCoordinateSpace((({context:g})=>{const m=d.xi;g.font=n.k,g.textAlign=d.li?"right":"left",g.textBaseline="middle",g.fillStyle=o,g.fillText(this.Yt.ri,m.Ci,(m._i+m.Si)/2+m.Pi)}))}hi(t,n,s,r){const{context:o,bitmapSize:f,mediaSize:d,horizontalPixelRatio:g,verticalPixelRatio:m}=t,y=this.Yt.pi||!this.Yt.yi?n.C:0,v=this.Yt.ki?n.S:0,S=n.A+this.ei.Ti,T=n.V+this.ei.Ri,w=n.B,M=n.I,O=this.Yt.ri,B=n.P,Z=s.Di(o,O),et=Math.ceil(s.Vi(o,O)),it=B+S+T,st=n.S+w+M+et+y,at=Math.max(1,Math.floor(m));let $=Math.round(it*m);$%2!=at%2&&($+=1);const ht=v>0?Math.max(1,Math.floor(v*g)):0,vt=Math.round(st*g),Rt=Math.round(y*g),Yt=this.ei.Bi??this.ei.Ii,St=Math.round(Yt*m)-Math.floor(.5*m),Ht=Math.floor(St+at/2-$/2),At=Ht+$,Ut=r==="right",z=Ut?d.width-v:v,X=Ut?f.width-ht:ht;let nt,dt,gt;return Ut?(nt=X-vt,dt=X-Rt,gt=z-y-w-v):(nt=X+vt,dt=X+Rt,gt=z+y+w),{li:Ut,ai:{_i:Ht,mi:St,Si:At,ui:vt,ci:$,ft:2*g,di:ht,oi:nt,fi:X,wi:dt,gi:at,bi:f.width},xi:{_i:Ht/m,Si:At/m,Ci:gt,Pi:Z}}}}class eu{constructor(t){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(t||h0)(this.Ai,this.Ei),this.Oi=new(t||h0)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(t,n=!1){return Math.max(this.Li.$t(t,n),this.Oi.$t(t,n))}Fi(){return this.Ei.Bi||0}Wi(t){this.Ei.Bi=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class Rw extends eu{constructor(t,n,s){super(),this.Jt=t,this.Yi=n,this.ji=s}qi(t,n,s){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const o=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||o===null)return;const f=this.Yi.Xi().X(r.labelBackgroundColor);s.Z=f.Z,t.R=f.G;const d=2/12*this.Yi.P();s.Ti=d,s.Ri=d;const g=this.ji(this.Yi);s.Ii=g.Ii,t.ri=this.Yi.Zi(g.gt,o),t.Vt=!0}}const Aw=/[1-9]/g;class sy{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,n){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const s=t.useMediaCoordinateSpace((({context:S})=>(S.font=n.k,Math.round(n.Gi.Vi(S,J(this.Yt).ri,Aw)))));if(s<=0)return;const r=n.Ji,o=s+2*r,f=o/2,d=this.Yt.Qi;let g=this.Yt.Ii,m=Math.floor(g-f)+.5;m<0?(g+=Math.abs(0-m),m=Math.floor(g-f)+.5):m+o>d&&(g-=Math.abs(d-(m+o)),m=Math.floor(g-f)+.5);const y=m+o,v=Math.ceil(0+n.S+n.C+n.A+n.P+n.V);t.useBitmapCoordinateSpace((({context:S,horizontalPixelRatio:T,verticalPixelRatio:w})=>{const M=J(this.Yt);S.fillStyle=M.Z;const O=Math.round(m*T),B=Math.round(0*w),Z=Math.round(y*T),et=Math.round(v*w),it=Math.round(2*T);if(S.beginPath(),S.moveTo(O,B),S.lineTo(O,et-it),S.arcTo(O,et,O+it,et,it),S.lineTo(Z-it,et),S.arcTo(Z,et,Z,et-it,it),S.lineTo(Z,B),S.fill(),M.pi){const st=Math.round(M.Ii*T),at=B,$=Math.round((at+n.C)*w);S.fillStyle=M.R;const ht=Math.max(1,Math.floor(T)),vt=Math.floor(.5*T);S.fillRect(st-vt,at,ht,$-at)}})),t.useMediaCoordinateSpace((({context:S})=>{const T=J(this.Yt),w=0+n.S+n.C+n.A+n.P/2;S.font=n.k,S.textAlign="left",S.textBaseline="middle",S.fillStyle=T.R;const M=n.Gi.Di(S,"Apr0");S.translate(m+r,w+M),S.fillText(T.ri,0,0)}))}}class jw{constructor(t,n,s){this.xt=!0,this.Gt=new sy,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=t,this.ts=n,this.ji=s}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const n=this.Ct.N().vertLine;if(!n.labelVisible)return;const s=this.ts.Et();if(s.Ki())return;t.Qi=s.Qi();const r=this.ji();if(r===null)return;t.Ii=r.Ii;const o=s.ss(this.Ct.It());t.ri=s.ns(J(o)),t.Vt=!0;const f=this.ts.Xi().X(n.labelBackgroundColor);t.Z=f.Z,t.R=f.G,t.pi=s.N().ticksVisible}}class ly{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var f0;(function(a){a[a.Normal=0]="Normal",a[a.Magnet=1]="Magnet",a[a.Hidden=2]="Hidden",a[a.MagnetOHLC=3]="MagnetOHLC"})(f0||(f0={}));class Yw extends ly{constructor(t,n){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=n,this.ys=((r,o)=>f=>{const d=o(),g=r();if(f===J(this.Pt).ks())return{gt:g,Ii:d};{const m=J(f.zt());return{gt:f.Ts(d,m),Ii:d}}})((()=>this.ds),(()=>this.Ss));const s=((r,o)=>()=>{const f=this.ts.Et().Rs(r()),d=o();return f&&Number.isFinite(d)?{wt:f,Ii:d}:null})((()=>this.fs),(()=>this.si()));this.Ds=new jw(this,t,s)}N(){return this.Ps}Vs(t,n){this.xs=t,this.Cs=n}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(t,n,s){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,n,s)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(t){let n=this.gs.get(t);n||(n=new zw(this,t),this.gs.set(t,n));let s=this.Ms.get(t);return s||(s=new Cw(this.ts,this,t),this.Ms.set(t,s)),[n,s]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,n){this.ps&&this.Pt===t||this.vs.clear();const s=[];return this.Pt===t&&s.push(this.Hs(this.vs,n,this.ys)),s}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.yt(),this.Ms.get(t)?.yt()})),this.vs.forEach((t=>t.yt())),this.Ds.yt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,n,s){this.Ys(t,n,s)&&this.Ns()}Ys(t,n,s){const r=this.bs,o=this.Ss,f=this.ds,d=this.fs,g=this.Pt,m=this.qs(s);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=s;const y=m!==null?m.zt():null;return m!==null&&y!==null?(this.ds=n,this.Ss=m.Nt(n,y)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||o!==this.Ss||d!==this.fs||f!==this.ds||g!==this.Pt}Os(){const t=this.ts.js().map((s=>s.Xs().Ks())).filter(Sw),n=t.length===0?null:Math.max(...t);this.fs=n!==null?n:NaN}Hs(t,n,s){let r=t.get(n);return r===void 0&&(r=new Rw(this,n,s),t.set(n,r)),r}}function iu(a){return a==="left"||a==="right"}class ye{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,n){const s=(function(r,o){return r===void 0?o:{tn:Math.max(r.tn,o.tn),sn:r.sn||o.sn}})(this.Zs.get(t),n);this.Zs.set(t,s)}nn(){return this.Js}en(t){const n=this.Zs.get(t);return n===void 0?{tn:this.Js}:{tn:Math.max(this.Js,n.tn),sn:n.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const n of t.Gs)this.mn(n);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach(((n,s)=>{this.Qs(s,n)}))}static wn(){return new ye(2)}static gn(){return new ye(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((n=>n.an===5));t!==-1&&this.Gs.splice(t,1)}}class ay{formatTickmarks(t){return t.map((n=>this.format(n)))}}const d0=".";function Li(a,t){if(!Vn(a))return"n/a";if(!Kl(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?a.toString():("0000000000000000"+a.toString()).slice(-t)}class nu extends ay{constructor(t,n){if(super(),n||(n=1),Vn(t)&&Kl(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=n,this.bn()}format(t){const n=t<0?"":"";return t=Math.abs(t),n+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const n=this.Yi/this.Mn;let s=Math.floor(t),r="";const o=this.xn!==void 0?this.xn:NaN;if(n>1){let f=+(Math.round(t*n)-s*n).toFixed(this.xn);f>=n&&(f-=n,s+=1),r=d0+Li(+f.toFixed(this.xn)*this.Mn,o)}else s=Math.round(s*n)/n,o>0&&(r=d0+Li(0,o));return s.toFixed(0)+r}}class ry extends nu{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class Uw extends ay{constructor(t){super(),this.Cn=t}format(t){let n="";return t<0&&(n="-",t=-t),t<995?n+this.Pn(t):t<999995?n+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),n+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),n+this.Pn(t/1e9)+"B")}Pn(t){let n;const s=Math.pow(10,this.Cn);return n=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),n.replace(/(\.[1-9]*)0+$/,((r,o)=>o))}}const Bw=/[2-9]/g;class $l{constructor(t=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,n,s){return this.In(t,n,s).width}Di(t,n,s){const r=this.In(t,n,s);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}In(t,n,s){const r=s||Bw,o=String(n).replace(r,"0");if(this.Dn.has(o))return Ue(this.Dn.get(o)).En;if(this.yn===this.Vn){const d=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(d),this.Tn++,this.yn--}t.save(),t.textBaseline="middle";const f=t.measureText(o);return t.restore(),f.width===0&&n.length||(this.Dn.set(o,{En:f,An:this.kn}),this.Rn[this.kn]=o,this.yn++,this.kn++),f}}class Lw{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,n,s){this.zn=t,this.M=n,this.Ln=s}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class uy{constructor(t,n,s){this.Fn=t,this.On=new $l(50),this.Wn=n,this.O=s,this.F=-1,this.Gt=new Lw(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const n=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(n===null)return null;const s=t.qn(n);if(s==="overlay")return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),r,s),this.Gt}}class kw extends pn{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,n){if(!this.Yt?.Vt)return null;const{ut:s,ct:r,Kn:o}=this.Yt;return n>=s-r-7&&n<=s+r+7?{Xn:this.Yt,Kn:o}:null}et({context:t,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const o=Math.round(this.Yt.ut*r);o<0||o>n.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*s),Qn(t,this.Yt.Xt),ey(t,o,0,n.width))}}class mh{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new kw,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class qw extends mh{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),n=t.ie().ie;if(n!==2&&n!==3)return;const s=this.Jn.N();if(!s.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Wt,r.Wt),this.Zn.R=s.baseLineColor,this.Zn.ct=s.baseLineWidth,this.Zn.Xt=s.baseLineStyle)}}class Hw extends pn{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:n,verticalPixelRatio:s}){const r=this.Yt;if(r===null)return;const o=Math.max(1,Math.floor(n)),f=o%2/2,d=Math.round(r.ne.x*n)+f,g=r.ne.y*s;t.fillStyle=r.ee,t.beginPath();const m=Math.max(2,1.5*r.re)*n;t.arc(d,g,m,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(d,g,r.ft*n,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=r.ae,t.beginPath(),t.arc(d,g,r.ft*n+o/2,0,2*Math.PI,!1),t.stroke()}}const Qw=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Vw{constructor(t){this.Gt=new Hw,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),n=this.we-t;if(n>0)return void(n<650&&(this.we+=2600));this.me=t,this.we=t+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),n=t.Pe(),s=this.ge.zt();if(n===null||s===null)return;const r=this.ge.ye(!0);if(r.ke||!n.Te(r.Re))return;const o={x:t.qt(r.Re),y:this.ge.Ft().Nt(r.gt,s.Wt)},f=r.R,d=this.ge.N().lineWidth,g=this.De(this.Ve(),f);this.Gt.ht({ee:f,re:d,he:g.he,ae:g.ae,ft:g.ft,ne:o})}Ce(){const t=this.Gt.se();if(t!==null){const n=this.De(this.Ve(),t.ee);t.he=n.he,t.ae=n.ae,t.ft=n.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(t,n,s,r){const o=s+(r-s)*n;return this.ge.Qt().Xi().j(t,o)}De(t,n){const s=t%2600/2600;let r;for(const m of Qw)if(s>=m.le&&s<=m.oe){r=m;break}ve(r!==void 0,"Last price animation internal logic error");const o=(s-r.le)/(r.oe-r.le);return{he:this.Be(n,o,r.ce,r.de),ae:this.Be(n,o,r.fe,r.pe),ft:(f=o,d=r._e,g=r.ue,d+(g-d)*f)};var f,d,g}}class Pw extends mh{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const n=this.Jn.N();if(!n.priceLineVisible||!this.Jn.Vt())return;const s=this.Jn.ye(n.priceLineSource===0);s.ke||(t.Vt=!0,t.ut=s.Ii,t.R=this.Jn.Ie(s.R),t.ct=n.priceLineWidth,t.Xt=n.priceLineStyle)}}class Gw extends eu{constructor(t){super(),this.Jt=t}qi(t,n,s){t.Vt=!1,n.Vt=!1;const r=this.Jt;if(!r.Vt())return;const o=r.N(),f=o.lastValueVisible,d=r.Ee()!=="",g=o.seriesLastValueMode===0,m=r.ye(!1);if(m.ke)return;f&&(t.ri=this.Ae(m,f,g),t.Vt=t.ri.length!==0),(d||g)&&(n.ri=this.ze(m,f,d,g),n.Vt=n.ri.length>0);const y=r.Ie(m.R),v=this.Jt.Qt().Xi().X(y);s.Z=v.Z,s.Ii=m.Ii,n.Ht=r.Qt().Ut(m.Ii/r.Ft().$t()),t.Ht=y,t.R=v.G,n.R=v.G}ze(t,n,s,r){let o="";const f=this.Jt.Ee();return s&&f.length!==0&&(o+=`${f} `),n&&r&&(o+=this.Jt.Ft().Le()?t.Oe:t.Ne),o.trim()}Ae(t,n,s){return n?s?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function m0(a,t,n,s){const r=Number.isFinite(t),o=Number.isFinite(n);return r&&o?a(t,n):r||o?r?t:n:s}class Ee{constructor(t,n){this.Fe=t,this.We=n}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new Ee(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new Ee(m0(Math.min,this.$e(),t.$e(),-1/0),m0(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Vn(t)||this.We-this.Fe===0)return;const n=.5*(this.We+this.Fe);let s=this.We-n,r=this.Fe-n;s*=t,r*=t,this.We=n+s,this.Fe=n+r}Ke(t){Vn(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new Ee(t.minValue,t.maxValue)}}class Vr{constructor(t,n){this.Ge=t,this.Je=n||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new Vr(Ee.Ze(t.priceRange),t.margins)}}class Fw extends mh{constructor(t,n){super(t),this.ir=n}te(){const t=this.Zn;t.Vt=!1;const n=this.ir.N();if(!this.Jn.Vt()||!n.lineVisible)return;const s=this.ir.sr();s!==null&&(t.Vt=!0,t.ut=s,t.R=n.color,t.ct=n.lineWidth,t.Xt=n.lineStyle,t.Kn=this.ir.N().id)}}class Xw extends eu{constructor(t,n){super(),this.ge=t,this.ir=n}qi(t,n,s){t.Vt=!1,n.Vt=!1;const r=this.ir.N(),o=r.axisLabelVisible,f=r.title!=="",d=this.ge;if(!o||!d.Vt())return;const g=this.ir.sr();if(g===null)return;f&&(n.ri=r.title,n.Vt=!0),n.Ht=d.Qt().Ut(g/d.Ft().$t()),t.ri=this.nr(r.price),t.Vt=!0;const m=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);s.Z=m.Z;const y=r.axisLabelTextColor||m.G;t.R=y,n.R=y,s.Ii=g}nr(t){const n=this.ge.zt();return n===null?"":this.ge.Ft().Zi(t,n.Wt)}}class Jw{constructor(t,n){this.ge=t,this.Ps=n,this.er=new Fw(t,this),this.Fn=new Xw(t,this),this.rr=new uy(this.Fn,t,t.Qt())}hr(t){Ge(this.Ps,t),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const t=this.ge,n=t.Ft();if(t.Qt().Et().Ki()||n.Ki())return null;const s=t.zt();return s===null?null:n.Nt(this.Ps.price,s.Wt)}}class Zw extends ly{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Kw={Bar:(a,t,n,s)=>{const r=t.upColor,o=t.downColor,f=J(a(n,s)),d=mn(f.Wt[0])<=mn(f.Wt[3]);return{cr:f.R??(d?r:o)}},Candlestick:(a,t,n,s)=>{const r=t.upColor,o=t.downColor,f=t.borderUpColor,d=t.borderDownColor,g=t.wickUpColor,m=t.wickDownColor,y=J(a(n,s)),v=mn(y.Wt[0])<=mn(y.Wt[3]);return{cr:y.R??(v?r:o),dr:y.Ht??(v?f:d),pr:y.vr??(v?g:m)}},Custom:(a,t,n,s)=>({cr:J(a(n,s)).R??t.color}),Area:(a,t,n,s)=>{const r=J(a(n,s));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(a,t,n,s)=>{const r=J(a(n,s));return{cr:r.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,Pr:r.Pr??t.bottomFillColor2}},Line:(a,t,n,s)=>{const r=J(a(n,s));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(a,t,n,s)=>({cr:J(a(n,s)).R??t.color})};class Ww{constructor(t){this.yr=(n,s)=>s!==void 0?s.Wt:this.ge.Xs().kr(n),this.ge=t,this.Tr=Kw[t.Rr()]}Dr(t,n){return this.Tr(this.yr,this.ge.N(),t,n)}}function oy(a,t,n,s,r=0,o=t.length){let f=o-r;for(;0<f;){const d=f>>1,g=r+d;s(t[g],n)===a?(r=g+1,f-=d+1):f=d}return r}const Ls=oy.bind(null,!0),cy=oy.bind(null,!1);var g0;(function(a){a[a.NearestLeft=-1]="NearestLeft",a[a.None=0]="None",a[a.NearestRight=1]="NearestRight"})(g0||(g0={}));const fn=30;class Iw{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}kr(t){return this.Fr(t)}Fr(t,n=0){const s=this.Nr(t,n);return s===null?null:{...this.Wr(s),Re:this.Or(s)}}Hr(){return this.Vr}Ur(t,n,s){if(this.Ki())return null;let r=null;for(const o of s)r=Cr(r,this.$r(t,n,o));return r}ht(t){this.Ir.clear(),this.Br.clear(),this.Vr=t,this.Er=t.map((n=>n.Re))}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,n){const s=this.Yr(t);if(s===null&&n!==0)switch(n){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return s}jr(t){let n=this.Xr(t);return n>0&&(n-=1),n!==this.Vr.length&&this.Or(n)<t?n:null}Kr(t){const n=this.Zr(t);return n!==this.Vr.length&&t<this.Or(n)?n:null}Yr(t){const n=this.Xr(t);return n===this.Vr.length||t<this.Vr[n].Re?null:n}Xr(t){return Ls(this.Vr,t,((n,s)=>n.Re<s))}Zr(t){return cy(this.Vr,t,((n,s)=>n.Re>s))}Gr(t,n,s){let r=null;for(let o=t;o<n;o++){const f=this.Vr[o].Wt[s];Number.isNaN(f)||(r===null?r={Jr:f,Qr:f}:(f<r.Jr&&(r.Jr=f),f>r.Qr&&(r.Qr=f)))}return r}$r(t,n,s){if(this.Ki())return null;let r=null;const o=J(this.Lr()),f=J(this.Ks()),d=Math.max(t,o),g=Math.min(n,f),m=Math.ceil(d/fn)*fn,y=Math.max(m,Math.floor(g/fn)*fn);{const S=this.Xr(d),T=this.Zr(Math.min(g,m,n));r=Cr(r,this.Gr(S,T,s))}let v=this.Br.get(s);v===void 0&&(v=new Map,this.Br.set(s,v));for(let S=Math.max(m+1,d);S<y;S+=fn){const T=Math.floor(S/fn);let w=v.get(T);if(w===void 0){const M=this.Xr(T*fn),O=this.Zr((T+1)*fn-1);w=this.Gr(M,O,s),v.set(T,w)}r=Cr(r,w)}{const S=this.Xr(y),T=this.Zr(g);r=Cr(r,this.Gr(S,T,s))}return r}}function Cr(a,t){return a===null?t:t===null?a:{Jr:Math.min(a.Jr,t.Jr),Qr:Math.max(a.Qr,t.Qr)}}const Pr={setLineStyle:Qn};class $w{constructor(t){this.th=t}nt(t,n,s){this.th.draw(t,Pr)}ih(t,n,s){this.th.drawBackground?.(t,Pr)}}class t2{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const n=new $w(t);return this.Dn={nh:t,eh:n},n}rh(){return this.sh.zOrder?.()??"normal"}}class hy{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const n=t.map((s=>new t2(s)));return this.hh={nh:t,eh:n},n}jn(t,n){return this.ah.hitTest?.(t,n)??null}}let e2=class extends hy{us(){return[]}};class i2{constructor(t){this.th=t}nt(t,n,s){this.th.draw(t,Pr)}ih(t,n,s){this.th.drawBackground?.(t,Pr)}}class p0{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const n=new i2(t);return this.Dn={nh:t,eh:n},n}rh(){return this.sh.zOrder?.()??"normal"}}function fy(a){return{ri:a.text(),Ii:a.coordinate(),Bi:a.fixedCoordinate?.(),R:a.textColor(),Z:a.backColor(),Vt:a.visible?.()??!0,pi:a.tickVisible?.()??!0}}class n2{constructor(t,n){this.Gt=new sy,this._h=t,this.uh=n}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...fy(this._h)}),this.Gt}}class s2 extends eu{constructor(t,n){super(),this._h=t,this.Yi=n}qi(t,n,s){const r=fy(this._h);s.Z=r.Z,t.R=r.R;const o=2/12*this.Yi.P();s.Ti=o,s.Ri=o,s.Ii=r.Ii,s.Bi=r.Bi,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class l2 extends hy{constructor(t,n){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=n}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const n=this.ge.Qt().Et(),s=t.map((r=>new n2(r,n)));return this.dh={nh:t,eh:s},s}Ws(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const n=this.ge.Ft(),s=t.map((r=>new s2(r,n)));return this.fh={nh:t,eh:s},s}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const n=t.map((s=>new p0(s)));return this.ph={nh:t,eh:n},n}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const n=t.map((s=>new p0(s)));return this.mh={nh:t,eh:n},n}Mh(t,n){return this.ah.autoscaleInfo?.(t,n)??null}}function Dc(a,t,n,s){a.forEach((r=>{t(r).forEach((o=>{o.rh()===n&&s.push(o)}))}))}function Rc(a){return a.Fs()}function a2(a){return a.wh()}function r2(a){return a.gh()}const u2=["Area","Line","Baseline"];class su extends Zw{constructor(t,n,s,r,o){super(t),this.Yt=new Iw,this.er=new Pw(this),this.bh=[],this.Sh=new qw(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=s,this.kh=n;const f=new Gw(this);this.vs=[f],this.rr=new uy(f,this,t),u2.includes(this.kh)&&(this.xh=new Vw(this)),this.Th(),this.sh=r(this,this.Qt(),o)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(t){return this.Ps.priceLineColor||t}ye(t){const n={ke:!0},s=this.Ft();if(this.Qt().Et().Ki()||s.Ki()||this.Yt.Ki())return n;const r=this.Qt().Et().Pe(),o=this.zt();if(r===null||o===null)return n;let f,d;if(t){const v=this.Yt.Ar();if(v===null)return n;f=v,d=v.Re}else{const v=this.Yt.Fr(r.bi(),-1);if(v===null||(f=this.Yt.kr(v.Re),f===null))return n;d=v.Re}const g=f.Wt[3],m=this.Rh().Dr(d,{Wt:f}),y=s.Nt(g,o.Wt);return{ke:!1,gt:g,ri:s.Zi(g,o.Wt),Oe:s.Dh(g),Ne:s.Vh(g,o.Wt),R:m.cr,Ii:y,Re:d}}Rh(){return this.Ch!==null||(this.Ch=new Ww(this)),this.Ch}N(){return this.Ps}hr(t){const n=t.priceScaleId;n!==void 0&&n!==this.Ps.priceScaleId&&this.Qt().Bh(this,n),Ge(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(t,n){this.Yt.ht(t),this.sh.yt("data"),this.xh!==null&&(n&&n.zh?this.xh.be():t.length===0&&this.xh.Me());const s=this.Qt().Hn(this);this.Qt().Lh(s),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const n=new Jw(this,t);return this.bh.push(n),this.Qt().Eh(this),n}Nh(t){const n=this.bh.indexOf(t);n!==-1&&this.bh.splice(n,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const n=t.Uh();return this.Yt.Fr(n,1)}Xs(){return this.Yt}$h(t){const n=this.Yt.kr(t);return n===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:n.Wt[0],Yh:n.Wt[1],jh:n.Wt[2],Kh:n.Wt[3]}:n.Wt[3]}Xh(t){const n=[];Dc(this.yh,Rc,"top",n);const s=this.xh;return s!==null&&s.Vt()&&(this.Ph===null&&s.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),s.Se(),n.unshift(s)),n}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const n=this.bh.map((s=>s.lr()));return t.push(...n),Dc(this.yh,Rc,"normal",t),t}Jh(){return this.Qh(Rc,"bottom")}ta(t){return this.Qh(a2,t)}ia(t){return this.Qh(r2,t)}sa(t,n){return this.yh.map((s=>s.jn(t,n))).filter((s=>s!==null))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Ws(t,n){if(n!==this.es&&!this.Gh())return[];const s=[...this.vs];for(const r of this.bh)s.push(r.ur());return this.yh.forEach((r=>{s.push(...r.Ws())})),s}cs(){const t=[];return this.yh.forEach((n=>{t.push(...n.cs())})),t}Mh(t,n){if(this.Ps.autoscaleInfoProvider!==void 0){const s=this.Ps.autoscaleInfoProvider((()=>{const r=this.na(t,n);return r===null?null:r.Xe()}));return Vr.Ze(s)}return this.na(t,n)}nh(){const t=this.Ps.priceFormat;return t.base??1/t.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const t of this.vs)t.yt();for(const t of this.bh)t.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((t=>t.Ns()))}Ft(){return J(super.Ft())}At(t){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const n=this.Yt.kr(t);return n===null?null:{gt:n.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(t){this.yh.push(new l2(t,this))}ua(t){this.yh=this.yh.filter((n=>n.oh()!==t))}ca(){if(this.kh==="Custom")return t=>this.sh.da(t)}fa(){if(this.kh==="Custom")return t=>this.sh.pa(t)}va(){return this.Yt.qr()}Gh(){return!iu(this.Ft().ma())}na(t,n){if(!Kl(t)||!Kl(n)||this.Yt.Ki())return null;const s=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,n,s);let o=r!==null?new Ee(r.Jr,r.Qr):null,f=null;if(this.Rr()==="Histogram"){const d=this.Ps.base,g=new Ee(d,d);o=o!==null?o.vn(g):g}return this.yh.forEach((d=>{const g=d.Mh(t,n);if(g?.priceRange){const m=new Ee(g.priceRange.minValue,g.priceRange.maxValue);o=o!==null?o.vn(m):m}g?.margins&&(f=g.margins)})),new Vr(o,f)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const n=this.Ps.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ra={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(n=>n.map(t))};break}case"volume":this.ra=new Uw(this.Ps.priceFormat.precision);break;case"percent":this.ra=new ry(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new nu(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.wa()}Qh(t,n){const s=[];return Dc(this.yh,t,n,s),s}}const o2=[3],c2=[0,1,2,3];class h2{constructor(t){this.Ps=t}ga(t,n,s){let r=t;if(this.Ps.mode===0)return r;const o=s.ks(),f=o.zt();if(f===null)return r;const d=o.Nt(t,f),g=s.Ma().filter((y=>y instanceof su)).reduce(((y,v)=>{if(s.Un(v)||!v.Vt())return y;const S=v.Ft(),T=v.Xs();if(S.Ki()||!T.Te(n))return y;const w=T.kr(n);if(w===null)return y;const M=mn(v.zt()),O=this.Ps.mode===3?c2:o2;return y.concat(O.map((B=>S.Nt(w.Wt[B],M.Wt))))}),[]);if(g.length===0)return r;g.sort(((y,v)=>Math.abs(y-d)-Math.abs(v-d)));const m=g[0];return r=o.Ts(m,f),r}}function Pl(a,t,n){return Math.min(Math.max(a,t),n)}function Or(a,t,n){return t-a<=n}function gh(a){const t=Math.ceil(a);return t%2==0?t-1:t}class f2 extends pn{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.Yt===null)return;const o=Math.max(1,Math.floor(s));t.lineWidth=o,(function(f,d){f.save(),f.lineWidth%2&&f.translate(.5,.5),d(),f.restore()})(t,(()=>{const f=J(this.Yt);if(f.ba){t.strokeStyle=f.Sa,Qn(t,f.xa),t.beginPath();for(const d of f.Ca){const g=Math.round(d.Pa*s);t.moveTo(g,-o),t.lineTo(g,n.height+o)}t.stroke()}if(f.ya){t.strokeStyle=f.ka,Qn(t,f.Ta),t.beginPath();for(const d of f.Ra){const g=Math.round(d.Pa*r);t.moveTo(-o,g),t.lineTo(n.width+o,g)}t.stroke()}}))}}class d2{constructor(t){this.Gt=new f2,this.xt=!0,this.Pt=t}yt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,n={ya:t.horzLines.visible,ba:t.vertLines.visible,ka:t.horzLines.color,Sa:t.vertLines.color,Ta:t.horzLines.style,xa:t.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((s=>({Pa:s.coord})))};this.Gt.ht(n),this.xt=!1}return this.Gt}}class m2{constructor(t){this.sh=new d2(t)}lr(){return this.sh}}const Ac={Va:4,Ba:1e-4};function As(a,t){const n=100*(a-t)/t;return t<0?-n:n}function g2(a,t){const n=As(a.$e(),t),s=As(a.qe(),t);return new Ee(n,s)}function Gl(a,t){const n=100*(a-t)/t+100;return t<0?-n:n}function p2(a,t){const n=Gl(a.$e(),t),s=Gl(a.qe(),t);return new Ee(n,s)}function Gr(a,t){const n=Math.abs(a);if(n<1e-15)return 0;const s=Math.log10(n+t.Ba)+t.Va;return a<0?-s:s}function Fl(a,t){const n=Math.abs(a);if(n<1e-15)return 0;const s=Math.pow(10,n-t.Va)-t.Ba;return a<0?-s:s}function ql(a,t){if(a===null)return null;const n=Gr(a.$e(),t),s=Gr(a.qe(),t);return new Ee(n,s)}function js(a,t){if(a===null)return null;const n=Fl(a.$e(),t),s=Fl(a.qe(),t);return new Ee(n,s)}function jc(a){if(a===null)return Ac;const t=Math.abs(a.qe()-a.$e());if(t>=1||t<1e-15)return Ac;const n=Math.ceil(Math.abs(Math.log10(t))),s=Ac.Va+n;return{Va:s,Ba:1/Math.pow(10,s)}}class Yc{constructor(t,n){if(this.Ia=t,this.Ea=n,(function(s){if(s<0)return!1;if(s>1e18)return!0;for(let r=s;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let s=this.Ia;s!==1;){if(s%2==0)this.Aa.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),s/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(t,n,s){const r=this.Ia===0?0:1/this.Ia;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-n)))),f=0,d=this.Ea[0];for(;;){const v=Or(o,r,1e-14)&&o>r+1e-14,S=Or(o,s*d,1e-14),T=Or(o,1,1e-14);if(!(v&&S&&T))break;o/=d,d=this.Ea[++f%this.Ea.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.Aa.length>0&&(g=o,m=1,y=1e-14,Math.abs(g-m)<y))for(f=0,d=this.Aa[0];Or(o,s*d,1e-14)&&o>r+1e-14;)o/=d,d=this.Aa[++f%this.Aa.length];var g,m,y;return o}}class y0{constructor(t,n,s,r){this.La=[],this.Yi=t,this.Ia=n,this.Oa=s,this.Na=r}za(t,n){if(t<n)throw new Error("high < low");const s=this.Yi.$t(),r=(t-n)*this.Fa()/s,o=new Yc(this.Ia,[2,2.5,2]),f=new Yc(this.Ia,[2,2,2.5]),d=new Yc(this.Ia,[2.5,2,2]),g=[];return g.push(o.za(t,n,r),f.za(t,n,r),d.za(t,n,r)),(function(m){if(m.length<1)throw Error("array is empty");let y=m[0];for(let v=1;v<m.length;++v)m[v]<y&&(y=m[v]);return y})(g)}Wa(){const t=this.Yi,n=t.zt();if(n===null)return void(this.La=[]);const s=t.$t(),r=this.Oa(s-1,n),o=this.Oa(0,n),f=this.Yi.N().entireTextOnly?this.Ha()/2:0,d=f,g=s-1-f,m=Math.max(r,o),y=Math.min(r,o);if(m===y)return void(this.La=[]);const v=this.za(m,y);if(this.Ua(n,v,m,y,d,g),t.$a()&&this.qa(v,y,m)){const w=this.Yi.Ya();this.ja(n,v,d,g,w,2*w)}const S=this.La.map((w=>w.Ka)),T=this.Yi.Xa(S);for(let w=0;w<this.La.length;w++)this.La[w].Za=T[w]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(t,n,s,r,o,f){const d=this.La,g=this.Yi;let m=s%n;m+=m<0?n:0;const y=s>=r?1:-1;let v=null,S=0;for(let T=s-m;T>r;T-=n){const w=this.Na(T,t,!0);v!==null&&Math.abs(w-v)<this.Fa()||w<o||w>f||(S<d.length?(d[S].Pa=w,d[S].Za=g.Ga(T),d[S].Ka=T):d.push({Pa:w,Za:g.Ga(T),Ka:T}),S++,v=w,g.Ja()&&(n=this.za(T*y,r)))}d.length=S}ja(t,n,s,r,o,f){const d=this.La,g=this.Qa(t,s,o,f),m=this.Qa(t,r,-f,-o),y=this.Na(0,t,!0)-this.Na(n,t,!0);d.length>0&&d[0].Pa-g.Pa<y/2&&d.shift(),d.length>0&&m.Pa-d[d.length-1].Pa<y/2&&d.pop(),d.unshift(g),d.push(m)}Qa(t,n,s,r){const o=(s+r)/2,f=this.Oa(n+s,t),d=this.Oa(n+r,t),g=Math.min(f,d),m=Math.max(f,d),y=Math.max(.1,this.za(m,g)),v=this.Oa(n+o,t),S=v-v%y,T=this.Na(S,t,!0);return{Za:this.Yi.Ga(S),Pa:T,Ka:S}}qa(t,n,s){let r=mn(this.Yi.Qe());return this.Yi.Ja()&&(r=js(r,this.Yi.tl())),r.$e()-n<t&&s-r.qe()<t}}function dy(a){return a.slice().sort(((t,n)=>J(t.hs())-J(n.hs())))}var v0;(function(a){a[a.Normal=0]="Normal",a[a.Logarithmic=1]="Logarithmic",a[a.Percentage=2]="Percentage",a[a.IndexedTo100=3]="IndexedTo100"})(v0||(v0={}));const b0=new ry,x0=new nu(100,1);class y2{constructor(t,n,s,r,o){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new ie,this.ul=new ie,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=x0,this.wl=jc(null),this.gl=t,this.Ps=n,this.Ml=s,this.bl=r,this.Sl=o,this.xl=new y0(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(t){if(Ge(this.Ps,t),this.wa(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const n=Ue(t.scaleMargins.top),s=Ue(t.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(n+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+s}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const n=this.ie();let s=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),n.ie===1&&t.ie!==n.ie&&((function(o,f){if(o===null)return!1;const d=Fl(o.$e(),f),g=Fl(o.qe(),f);return isFinite(d)&&isFinite(g)})(this.Ge,this.wl)?(s=js(this.Ge,this.wl),s!==null&&this.Bl(s)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==n.ie&&(s=ql(this.Ge,this.wl),s!==null&&this.Bl(s));const r=n.ie!==this.Ps.mode;r&&(n.ie===2||this.Le())&&this.wa(),r&&(n.ie===3||this.Dl())&&this.wa(),t.Vl!==void 0&&n.Vl!==t.Vl&&(this.Ps.invertScale=t.Vl,this.Il()),this.ul.p(n,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(t){this.il!==t&&(this.il=t,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const t=this.$t()-this.Ll()-this.Ol();return this.sl=t,t}Qe(){return this.Nl(),this.Ge}Bl(t,n){const s=this.Ge;(n||s===null&&t!==null||s!==null&&!s.He(t))&&(this.pl=null,this.Ge=t)}Fl(t){this.Bl(t),this.Wl(t!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(t){return this.Vl()?t:this.$t()-1-t}Nt(t,n){return this.Le()?t=As(t,n):this.Dl()&&(t=Gl(t,n)),this.Pl(t,n)}Ul(t,n,s){this.Nl();const r=this.Ol(),o=J(this.Qe()),f=o.$e(),d=o.qe(),g=this.zl()-1,m=this.Vl(),y=g/(d-f),v=s===void 0?0:s.from,S=s===void 0?t.length:s.to,T=this.$l();for(let w=v;w<S;w++){const M=t[w],O=M.gt;if(isNaN(O))continue;let B=O;T!==null&&(B=T(M.gt,n));const Z=r+y*(B-f),et=m?Z:this.il-1-Z;M.ut=et}}ql(t,n,s){this.Nl();const r=this.Ol(),o=J(this.Qe()),f=o.$e(),d=o.qe(),g=this.zl()-1,m=this.Vl(),y=g/(d-f),v=s===void 0?0:s.from,S=s===void 0?t.length:s.to,T=this.$l();for(let w=v;w<S;w++){const M=t[w];let O=M.qh,B=M.Yh,Z=M.jh,et=M.Kh;T!==null&&(O=T(M.qh,n),B=T(M.Yh,n),Z=T(M.jh,n),et=T(M.Kh,n));let it=r+y*(O-f),st=m?it:this.il-1-it;M.Yl=st,it=r+y*(B-f),st=m?it:this.il-1-it,M.jl=st,it=r+y*(Z-f),st=m?it:this.il-1-it,M.Kl=st,it=r+y*(et-f),st=m?it:this.il-1-it,M.Xl=st}}Ts(t,n){const s=this.Cl(t,n);return this.Zl(s,n)}Zl(t,n){let s=t;return this.Le()?s=(function(r,o){return o<0&&(r=-r),r/100*o+o})(s,n):this.Dl()&&(s=(function(r,o){return r-=100,o<0&&(r=-r),r/100*o+o})(s,n)),s}Ma(){return this.cl}Dt(){return this.fl||(this.fl=dy(this.cl)),this.fl}Gl(t){this.cl.indexOf(t)===-1&&(this.cl.push(t),this.wa(),this.Jl())}Ql(t){const n=this.cl.indexOf(t);if(n===-1)throw new Error("source is not attached to scale");this.cl.splice(n,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let t=null;for(const n of this.cl){const s=n.zt();s!==null&&(t===null||s.Hh<t.Hh)&&(t=s)}return t===null?null:t.Wt}Vl(){return this.Ps.invertScale}Da(){const t=this.zt()===null;if(this.pl!==null&&(t||this.pl.io===t))return this.pl.Da;this.xl.Wa();const n=this.xl.Da();return this.pl={Da:n,io:t},this._l.p(),n}so(){return this._l}no(t){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-t,this.nl=J(this.Qe()).Ue()))}eo(t){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(t=this.il-t)<0&&(t=0);let n=(this.vl+.2*(this.il-1))/(t+.2*(this.il-1));const s=J(this.nl).Ue();n=Math.max(n,.1),s.je(n),this.Bl(s)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(t){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=t,this.nl=J(this.Qe()).Ue()))}ao(t){if(this.Tl()||this.ml===null)return;const n=J(this.Qe()).Ye()/(this.zl()-1);let s=t-this.ml;this.Vl()&&(s*=-1);const r=s*n,o=J(this.nl).Ue();o.Ke(r),this.Bl(o,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(t,n){switch(this.Ps.mode){case 2:return this.oo(As(t,n));case 3:return this.ea().format(Gl(t,n));default:return this.nr(t)}}Ga(t){switch(this.Ps.mode){case 2:return this.oo(t);case 3:return this.ea().format(t);default:return this.nr(t)}}Xa(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ea().formatTickmarks(t);default:return this.uo(t)}}Dh(t){return this.nr(t,J(this.dl).ea())}Vh(t,n){return t=As(t,n),this.oo(t,b0)}co(){return this.cl}do(t){this.el={hl:t,rl:!1}}Ns(){this.cl.forEach((t=>t.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let t=1/0;this.dl=null;for(const s of this.cl)s.hs()<t&&(t=s.hs(),this.dl=s);let n=100;this.dl!==null&&(n=Math.round(this.dl.nh())),this.ra=x0,this.Le()?(this.ra=b0,n=100):this.Dl()?(this.ra=new nu(100,1),n=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new y0(this,n,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(t){this.al=t}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(t,n){if(this.Nl(),this.Ki())return 0;t=this.Ja()&&t?Gr(t,this.wl):t;const s=J(this.Qe()),r=this.Ol()+(this.zl()-1)*(t-s.$e())/s.Ye();return this.Hl(r)}Cl(t,n){if(this.Nl(),this.Ki())return 0;const s=this.Hl(t),r=J(this.Qe()),o=r.$e()+r.Ye()*((s-this.Ol())/(this.zl()-1));return this.Ja()?Fl(o,this.wl):o}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const t=this.el.hl;if(t===null)return;let n=null;const s=this.co();let r=0,o=0;for(const g of s){if(!g.Vt())continue;const m=g.zt();if(m===null)continue;const y=g.Mh(t.Uh(),t.bi());let v=y&&y.Qe();if(v!==null){switch(this.Ps.mode){case 1:v=ql(v,this.wl);break;case 2:v=g2(v,m.Wt);break;case 3:v=p2(v,m.Wt)}if(n=n===null?v:n.vn(J(v)),y!==null){const S=y.tr();S!==null&&(r=Math.max(r,S.above),o=Math.max(o,S.below))}}}if(this.$a()&&(r=Math.max(r,this.Ya()),o=Math.max(o,this.Ya())),r===this.ll&&o===this.ol||(this.ll=r,this.ol=o,this.pl=null,this.kl()),n!==null){if(n.$e()===n.qe()){const g=5*this.fo();this.Ja()&&(n=js(n,this.wl)),n=new Ee(n.$e()-g,n.qe()+g),this.Ja()&&(n=ql(n,this.wl))}if(this.Ja()){const g=js(n,this.wl),m=jc(g);if(f=m,d=this.wl,f.Va!==d.Va||f.Ba!==d.Ba){const y=this.nl!==null?js(this.nl,this.wl):null;this.wl=m,n=ql(g,m),y!==null&&(this.nl=ql(y,m))}}this.Bl(n)}else this.Ge===null&&(this.Bl(new Ee(-.5,.5)),this.wl=jc(null));var f,d}$l(){return this.Le()?As:this.Dl()?Gl:this.Ja()?t=>Gr(t,this.wl):null}vo(t,n,s){return n===void 0?(s===void 0&&(s=this.ea()),s.format(t)):n(t)}mo(t,n,s){return n===void 0?(s===void 0&&(s=this.ea()),s.formatTickmarks(t)):n(t)}nr(t,n){return this.vo(t,this.bl.priceFormatter,n)}uo(t,n){const s=this.bl.priceFormatter;return this.mo(t,this.bl.tickmarksPriceFormatter??(s?r=>r.map(s):void 0),n)}oo(t,n){return this.vo(t,this.bl.percentageFormatter,n)}_o(t,n){const s=this.bl.percentageFormatter;return this.mo(t,this.bl.tickmarksPercentageFormatter??(s?r=>r.map(s):void 0),n)}}function S0(a){return a instanceof su}class w0{constructor(t,n){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new ie,this.yh=[],this.uh=t,this.ts=n,this.Co=new m2(this);const s=n.N();this.Po=this.yo("left",s.leftPriceScale),this.ko=this.yo("right",s.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(s)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.ko.hr(t.rightPriceScale),t.localization&&(this.Po.wa(),this.ko.wa()),t.overlayPriceScales){const n=Array.from(this.wo.values());for(const s of n){const r=J(s[0].Ft());r.hr(t.overlayPriceScales),t.localization&&r.wa()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.ko}return this.wo.has(t)?Ue(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((t=>{t.m&&t.m()})),this.yh=this.yh.filter((t=>{const n=t.oh();return n.detached&&n.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(t){this.Mo=t,this.Ao()}Al(t){this.il=t,this.Po.Al(t),this.ko.Al(t),this.cl.forEach((n=>{if(this.Un(n)){const s=n.Ft();s!==null&&s.Al(t)}})),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.cl.filter(S0)}Ma(){return this.cl}Un(t){const n=t.Ft();return n===null||this.Po!==n&&this.ko!==n}Gl(t,n,s){this.No(t,n,s?t.hs():this.cl.length)}Ql(t,n){const s=this.cl.indexOf(t);ve(s!==-1,"removeDataSource: invalid data source"),this.cl.splice(s,1),n||this.cl.forEach(((f,d)=>f.ls(d)));const r=J(t.Ft()).ma();if(this.wo.has(r)){const f=Ue(this.wo.get(r)),d=f.indexOf(t);d!==-1&&(f.splice(d,1),f.length===0&&this.wo.delete(r))}const o=t.Ft();o&&o.Ma().indexOf(t)>=0&&(o.Ql(t),this.Fo(o)),this.fl=null}qn(t){return t===this.Po?"left":t===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(t,n){t.no(n)}$o(t,n){t.eo(n),this.Ao()}qo(t){t.ro()}Yo(t,n){t.ho(n)}jo(t,n){t.ao(n),this.Ao()}Ko(t){t.lo()}Ao(){this.cl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?t=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?t=this.Po:this.cl.length!==0&&(t=this.cl[0].Ft()),t===null&&(t=this.ko),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.ko:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Tl()&&this.Xo(t)}Zo(t){const n=this.uh.Pe();t.yl({sn:!0}),n!==null&&t.do(n),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((t=>{this.Un(t)&&this.Fo(t.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=dy(this.cl)),this.fl}Qo(t,n){n=Pl(n,0,this.cl.length-1);const s=this.cl.indexOf(t);ve(s!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(s,1),this.cl.splice(n,0,t),this.cl.forEach(((r,o)=>r.ls(o))),this.fl=null;for(const r of[this.Po,this.ko])r.Jl(),r.wa();this.ts.ar()}Bt(){return this.Dt().filter(S0)}t_(){return this.xo}i_(){return this.Co}_a(t){this.yh.push(new e2(t))}ua(t){this.yh=this.yh.filter((n=>n.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}s_(){return this.yh}sa(t,n){return this.yh.map((s=>s.jn(t,n))).filter((s=>s!==null))}Xo(t){const n=t.co();if(n&&n.length>0&&!this.uh.Ki()){const s=this.uh.Pe();s!==null&&t.do(s)}t.Ns()}No(t,n,s){let r=this.Do(n);if(r===null&&(r=this.yo(n,this.ts.N().overlayPriceScales)),this.cl.splice(s,0,t),!iu(n)){const o=this.wo.get(n)||[];o.push(t),this.wo.set(n,o)}t.ls(s),r.Gl(t),t._s(r),this.Fo(r),this.fl=null}To(t,n,s){n.ie!==s.ie&&this.Xo(t)}yo(t,n){const s={visible:!0,autoScale:!0,...Bi(n)},r=new y2(t,s,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function zr(a){return{n_:a.n_,e_:{Kn:a.r_.externalId},h_:a.r_.cursorStyle}}function v2(a,t,n,s){for(const r of a){const o=r.Tt(s);if(o!==null&&o.jn){const f=o.jn(t,n);if(f!==null)return{a_:r,e_:f}}}return null}function b2(a){return a.Fs!==void 0}function my(a,t,n){const s=[a,...a.Dt()],r=(function(o,f,d){let g,m;for(const S of o){const T=S.sa?.(f,d)??[];for(const w of T)y=w.zOrder,v=g?.zOrder,(!v||y==="top"&&v!=="top"||y==="normal"&&v==="bottom")&&(g=w,m=S)}var y,v;return g&&m?{r_:g,n_:m}:null})(s,t,n);if(r?.r_.zOrder==="top")return zr(r);for(const o of s){if(r&&r.n_===o&&r.r_.zOrder!=="bottom"&&!r.r_.isBackground)return zr(r);if(b2(o)){const f=v2(o.Fs(a),t,n,a);if(f!==null)return{n_:o,a_:f.a_,e_:f.e_}}if(r&&r.n_===o&&r.r_.zOrder!=="bottom"&&r.r_.isBackground)return zr(r)}return r?.r_?zr(r):null}class x2{constructor(t,n,s=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=n,this.Vn=s}__(t){const n=t.time,s=this.o_.cacheKey(n),r=this.Dn.get(s);if(r!==void 0)return r.u_;if(this.yn===this.Vn){const f=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Ue(f)),this.Tn++,this.yn--}const o=this.l_(t);return this.Dn.set(s,{u_:o,An:this.kn}),this.Rn.set(this.kn,s),this.yn++,this.kn++,o}}class Ys{constructor(t,n){ve(t<=n,"right should be >= left"),this.c_=t,this.d_=n}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function E0(a,t){return a===null||t===null?a===t:a.He(t)}class S2{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,n){this.g_(n),this.Dn=null;for(let s=n;s<t.length;++s){const r=t[s];let o=this.p_.get(r.timeWeight);o===void 0&&(o=[],this.p_.set(r.timeWeight,o)),o.push({index:s,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}M_(t,n,s,r,o){const f=Math.ceil(n/t);return this.Dn!==null&&this.Dn.b_===f&&o===this.Dn.S_&&s===this.Dn.x_||(this.Dn={S_:o,x_:s,Da:this.C_(f,s,r),b_:f}),this.Dn.Da}g_(t){if(t===0)return void this.p_.clear();const n=[];this.p_.forEach(((s,r)=>{t<=s[0].index?n.push(r):s.splice(Ls(s,t,(o=>o.index<t)),1/0)}));for(const s of n)this.p_.delete(s)}C_(t,n,s){let r=[];const o=f=>!n||s.has(f.index);for(const f of Array.from(this.p_.keys()).sort(((d,g)=>g-d))){if(!this.p_.get(f))continue;const d=r;r=[];const g=d.length;let m=0;const y=Ue(this.p_.get(f)),v=y.length;let S=1/0,T=-1/0;for(let w=0;w<v;w++){const M=y[w],O=M.index;for(;m<g;){const B=d[m],Z=B.index;if(!(Z<O&&o(B))){S=Z;break}m++,r.push(B),T=Z,S=1/0}if(S-O>=t&&O-T>=t&&o(M))r.push(M),T=O;else if(this.v_)return d}for(;m<g;m++)o(d[m])&&r.push(d[m])}return r}}class Us{constructor(t){this.P_=t}y_(){return this.P_===null?null:new Ys(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Us(null)}}function w2(a,t){return a.weight>t.weight?a:t}class E2{constructor(t,n,s,r){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new S2,this.B_=new Map,this.I_=Us.T_(),this.E_=!0,this.A_=new ie,this.z_=new ie,this.L_=new ie,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=n,this.bl=s,this.U_=n.rightOffset,this.q_=n.barSpacing,this.ts=t,this.Y_(n),this.o_=r,this.j_(),this.V_.m_(n.uniformDistribution),this.K_()}N(){return this.Ps}X_(t){Ge(this.bl,t),this.Z_(),this.j_()}hr(t,n){Ge(this.Ps,t),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),this.Y_(t),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}Q_(t,n){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return n?this.D_.length-1:null;const s=Ls(this.D_,this.o_.key(t),((r,o)=>this.o_.key(r.time)<o));return this.o_.key(t)<this.o_.key(this.D_[s].time)?n?s:null:s}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const t=this.Pe();if(t===null)return null;const n={from:t.Uh(),to:t.bi()};return this.eu(n)}eu(t){const n=Math.round(t.from),s=Math.round(t.to),r=J(this.ru()),o=J(this.hu());return{from:J(this.ss(Math.max(r,n))),to:J(this.ss(Math.min(o,s)))}}au(t){return{from:J(this.Q_(t.from,!0)),to:J(this.Q_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const n=this.su(),s=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&s!==0){const r=this.q_*t/s;this.q_=r}if(this.Ps.fixLeftEdge&&n!==null&&n.Uh()<=0){const r=s-t;this.U_-=Math.round(r/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(t){if(this.Ki()||!Kl(t))return 0;const n=this._u()+this.U_-t;return this.Mo-(n+.5)*this.q_-1}uu(t,n){const s=this._u(),r=n===void 0?0:n.from,o=n===void 0?t.length:n.to;for(let f=r;f<o;f++){const d=t[f].wt,g=s+this.U_-d,m=this.Mo-(g+.5)*this.q_-1;t[f]._t=m}}cu(t,n){const s=Math.ceil(this.du(t));return n&&this.Ps.ignoreWhitespaceIndices&&!this.fu(s)?this.pu(s):s}fn(t){this.E_=!0,this.U_=t,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(t){const n=this.q_;if(this.wu(t),this.Ps.rightOffsetPixels!==void 0&&n!==0){const s=this.U_*n/this.q_;this.U_=s}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,n=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),s=Math.round(n/t),r=J(this.Pe()),o=Math.max(r.Uh(),r.Uh()-s),f=Math.max(r.bi(),r.bi()-s),d=this.V_.M_(t,n,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),g=this.ru()+s,m=this.hu()-s,y=this.Mu(),v=this.Ps.fixLeftEdge||y,S=this.Ps.fixRightEdge||y;let T=0;for(const w of d){if(!(o<=w.index&&w.index<=f))continue;let M;T<this.H_.length?(M=this.H_[T],M.coord=this.qt(w.index),M.label=this.bu(w),M.weight=w.weight):(M={needAlignCoordinate:!1,coord:this.qt(w.index),label:this.bu(w),weight:w.weight},this.H_.push(M)),this.q_>n/2&&!y?M.needAlignCoordinate=!1:M.needAlignCoordinate=v&&w.index<=g||S&&w.index>=m,T++}return this.H_.length=T,this.N_=this.H_,this.H_}Su(){let t;this.E_=!0,this.dn(this.Ps.barSpacing),t=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(t)}xu(t){this.E_=!0,this.R_=t,this.ou(),this.G_()}Cu(t,n){const s=this.du(t),r=this.mu(),o=r+n*(r/10);this.dn(o),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(s-this.du(t)))}no(t){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=t,this.Pu()))}eo(t){if(this.O_===null)return;const n=Pl(this.Mo-t,0,this.Mo),s=Pl(this.Mo-J(this.vl),0,this.Mo);n!==0&&s!==0&&this.dn(this.O_.mu*n/s)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(t){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Pu()))}ao(t){if(this.ml===null)return;const n=(this.ml-t)/this.mu();this.U_=J(this.O_).gu+n,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(t,n=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.U_,r=performance.now();this.ts._n({Ru:o=>(o-r)/n>=1,Du:o=>{const f=(o-r)/n;return f>=1?t:s+(t-s)*f}})}yt(t,n){this.E_=!0,this.D_=t,this.V_.w_(t,n),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(t,n){const s=t.f_(),r=n&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-r)/s),this.U_=t.bi()-this._u(),n&&(this.U_=r?r/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const t=this.ru(),n=this.hu();t!==null&&n!==null&&this.Eu(new Ys(t,n),!0)}zu(t){const n=new Ys(t.from,t.to);this.Eu(n)}ns(t){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const n of t)for(const s of n.va())this.F_.set(s,!0);this.W_++}Mu(){const t=this.ts.N().handleScroll,n=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(t){return(this.Mo-1-t)/this.q_}du(t){const n=this.Lu(t),s=this._u()+this.U_-n;return Math.round(1e6*s)/1e6}wu(t){const n=this.q_;this.q_=t,this.lu(),n!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Us.T_());const t=this._u(),n=this.Mo/this.q_,s=this.U_+t,r=new Ys(s-n+1,s);this.Nu(new Us(r))}lu(){const t=Pl(this.q_,this.Fu(),this.Wu());this.q_!==t&&(this.q_=t,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const t=this.Hu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const n=this.Uu();this.U_>n&&(this.U_=n,this.E_=!0)}Hu(){const t=this.ru(),n=this.R_;return t===null||n===null?null:t-n-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(t){let n=this.B_.get(t.weight);return n===void 0&&(n=new x2((s=>this.$u(s)),this.o_),this.B_.set(t.weight,n)),n.__(t)}$u(t){return this.o_.formatTickmark(t,this.bl)}Nu(t){const n=this.I_;this.I_=t,E0(n.y_(),this.I_.y_())||this.A_.p(),E0(n.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const t=this.ru();if(t===null)return;const n=this.Pe();if(n===null)return;const s=n.Uh()-t;if(s<0){const r=this.U_-s-1;this.fn(r)}this.lu()}J_(){this.ou(),this.lu()}fu(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}pu(t){const n=(function*(r){const o=Math.round(r),f=o<r;let d=1;for(;;)f?(yield o+d,yield o-d):(yield o-d,yield o+d),d++})(t),s=this.hu();for(;s;){const r=n.next().value;if(this.F_.get(r))return r;if(r<0||r>s)break}return t}Y_(t){if(t.rightOffsetPixels!==void 0){const n=t.rightOffsetPixels/(t.barSpacing||this.q_);this.ts.fn(n)}}}var M0,_0,T0,ih,N0;(function(a){a[a.OnTouchEnd=0]="OnTouchEnd",a[a.OnNextTap=1]="OnNextTap"})(M0||(M0={}));class M2{constructor(t,n,s){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new ie,this.Xu=new ie,this.Zu=null,this.Gu=t,this.Ps=n,this.o_=s,this.Sl=new Ew(this.Ps.layout.colorParsers),this.Ju=new ww(this),this.uh=new E2(this,n.timeScale,this.Ps.localization,s),this.Ct=new Yw(this,n.crosshair),this.Qu=new h2(n.crosshair),n.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(ye.gn())}ar(){this.rc(ye.wn())}Zh(){this.rc(new ye(1))}Eh(t){const n=this.hc(t);this.rc(n)}ac(){return this.ju}lc(t){if(this.ju?.n_===t?.n_&&this.ju?.e_?.Kn===t?.e_?.Kn)return;const n=this.ju;this.ju=t,n!==null&&this.Eh(n.n_),t!==null&&t.n_!==n?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){Ge(this.Ps,t),this.qu.forEach((n=>n.Ro(t))),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.X_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(t,n,s=0){const r=this.qu[s];if(r===void 0)return;if(t==="left")return Ge(this.Ps,{leftPriceScale:n}),r.Ro({leftPriceScale:n}),this.Ku.p(),void this.Ih();if(t==="right")return Ge(this.Ps,{rightPriceScale:n}),r.Ro({rightPriceScale:n}),this.Ku.p(),void this.Ih();const o=this._c(t,s);o!==null&&(o.Ft.hr(n),this.Ku.p())}_c(t,n){const s=this.qu[n];if(s===void 0)return null;const r=s.Do(t);return r!==null?{Us:s,Ft:r}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(t,n){t.Al(n),this.vu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.qu.forEach((n=>n.Eo(t))),this.vu()}fc(t){this.qu.length!==1&&(ve(t>=0&&t<this.qu.length,"Invalid pane index"),this.qu.splice(t,1),this.Ih())}vc(t,n){if(this.qu.length<2)return;ve(t>=0&&t<this.qu.length,"Invalid pane index");const s=this.qu[t],r=this.qu.reduce(((v,S)=>v+S.Bo()),0),o=this.qu.reduce(((v,S)=>v+S.$t()),0),f=o-30*(this.qu.length-1);n=Math.min(f,Math.max(30,n));const d=r/o,g=s.$t();s.Io(n*d);let m=n-g,y=this.qu.length-1;for(const v of this.qu)if(v!==s){const S=Math.min(f,Math.max(30,v.$t()-m/y));m-=v.$t()-S,y-=1;const T=S*d;v.Io(T)}this.Ih()}mc(t,n){ve(t>=0&&t<this.qu.length&&n>=0&&n<this.qu.length,"Invalid pane index");const s=this.qu[t],r=this.qu[n];this.qu[t]=r,this.qu[n]=s,this.Ih()}wc(t,n){if(ve(t>=0&&t<this.qu.length&&n>=0&&n<this.qu.length,"Invalid pane index"),t===n)return;const[s]=this.qu.splice(t,1);this.qu.splice(n,0,s),this.Ih()}Uo(t,n,s){t.Uo(n,s)}$o(t,n,s){t.$o(n,s),this.Ah(),this.rc(this.gc(t,2))}qo(t,n){t.qo(n),this.rc(this.gc(t,2))}Yo(t,n,s){n.Tl()||t.Yo(n,s)}jo(t,n,s){n.Tl()||(t.jo(n,s),this.Ah(),this.rc(this.gc(t,2)))}Ko(t,n){n.Tl()||(t.Ko(n),this.rc(this.gc(t,2)))}Zo(t,n){t.Zo(n),this.rc(this.gc(t,2))}Mc(t){this.uh.no(t)}bc(t,n){const s=this.Et();if(s.Ki()||n===0)return;const r=s.Qi();t=Math.max(1,Math.min(t,r)),s.Cu(t,n),this.vu()}Sc(t){this.xc(0),this.Cc(t),this.Pc()}yc(t){this.uh.eo(t),this.vu()}kc(){this.uh.ro(),this.ar()}xc(t){this.uh.ho(t)}Cc(t){this.uh.ao(t),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(t,n,s,r,o){this.Ct.Vs(t,n);let f=NaN,d=this.uh.cu(t,!0);const g=this.uh.Pe();g!==null&&(d=Math.min(Math.max(g.Uh(),d),g.bi()));const m=r.ks(),y=m.zt();if(y!==null&&(f=m.Ts(n,y)),f=this.Qu.ga(f,d,r),this.Ct.As(d,f,r),this.Zh(),!o){const v=my(r,t,n);this.lc(v&&{n_:v.n_,e_:v.e_,h_:v.h_||null}),this.Xu.p(this.Ct.It(),{x:t,y:n},s)}}Rc(t,n,s){const r=s.ks(),o=r.zt(),f=r.Nt(t,J(o)),d=this.uh.Q_(n,!0),g=this.uh.qt(J(d));this.Tc(g,f,null,s,!0)}Dc(t){this.uc().Ls(),this.Zh(),t||this.Xu.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const n=this.Ct.Is(),s=this.Ct.Es();this.Tc(n,s,null,t)}this.Ct.Ns()}Vc(t,n,s){const r=this.uh.Rs(0);n!==void 0&&s!==void 0&&this.uh.yt(n,s);const o=this.uh.Rs(0),f=this.uh._u(),d=this.uh.Pe();if(d!==null&&r!==null&&o!==null){const g=d.Te(f),m=this.o_.key(r)>this.o_.key(o),y=t!==null&&t>f&&!m,v=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,S=g&&(s!==void 0||v)&&this.uh.N().shiftVisibleRangeOnNewBar;if(y&&!S){const T=t-f;this.uh.fn(this.uh.gu()-T)}}this.uh.xu(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if((function(s){return s instanceof w0})(t))return t;const n=this.qu.find((s=>s.Dt().includes(t)));return n===void 0?null:n}vu(){this.qu.forEach((t=>t.Jo())),this.Ah()}m(){this.qu.forEach((t=>t.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(t,n){const s=this.tc(n);this.Ec(t,s),this.Yu.push(t),this.Yu.length===1?this.Ih():this.ar()}Ac(t){const n=this.Hn(t),s=this.Yu.indexOf(t);ve(s!==-1,"Series not found");const r=J(n);this.Yu.splice(s,1),r.Ql(t),t.m&&t.m(),this.uh.K_(),this.zc(r)}Bh(t,n){const s=J(this.Hn(t));s.Ql(t,!0),s.Gl(t,n,!0)}Au(){const t=ye.wn();t.rn(),this.rc(t)}Lc(t){const n=ye.wn();n.ln(t),this.rc(n)}cn(){const t=ye.wn();t.cn(),this.rc(t)}dn(t){const n=ye.wn();n.dn(t),this.rc(n)}fn(t){const n=ye.wn();n.fn(t),this.rc(n)}_n(t){const n=ye.wn();n._n(t),this.rc(n)}hn(){const t=ye.wn();t.hn(),this.rc(t)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(t,n){if(ve(n>=0,"Index should be greater or equal to 0"),n===this.Fc(t))return;const s=J(this.Hn(t));s.Ql(t);const r=this.tc(n);this.Ec(t,r),s.Ma().length===0&&this.zc(s),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(t){const n=this.ec,s=this.sc;if(n===s)return n;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Zu===null||this.Zu.mr!==s||this.Zu.wr!==n)this.Zu={mr:s,wr:n,Hc:new Map};else{const o=this.Zu.Hc.get(t);if(o!==void 0)return o}const r=this.Sl.tt(s,n,t/100);return this.Zu.Hc.set(t,r),r}Uc(t){return this.qu.indexOf(t)}Xi(){return this.Sl}$c(){return this.qc()}qc(t){const n=new w0(this.uh,this);this.qu.push(n);const s=t??this.qu.length-1,r=ye.gn();return r.Qs(s,{tn:0,sn:!0}),this.rc(r),n}tc(t){return ve(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.qu.length,t))<this.qu.length?this.qu[t]:this.qc(t)}Fc(t){return this.qu.findIndex((n=>n.Oo().includes(t)))}gc(t,n){const s=new ye(n);if(t!==null){const r=this.qu.indexOf(t);s.Qs(r,{tn:n})}return s}hc(t,n){return n===void 0&&(n=2),this.gc(this.Hn(t),n)}rc(t){this.Gu&&this.Gu(t),this.qu.forEach((n=>n.i_().lr().yt()))}Ec(t,n){const s=t.N().priceScaleId,r=s!==void 0?s:this.Oc();n.Gl(t,r),iu(r)||t.hr(t.N())}nc(t){const n=this.Ps.layout;return n.background.type==="gradient"?t===0?n.background.topColor:n.background.bottomColor:n.background.color}zc(t){!t.Lo()&&t.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(t),1)}}function gy(a){if(a>=1)return 0;let t=0;for(;t<8;t++){const n=Math.round(a);if(Math.abs(n-a)<1e-8)return t;a*=10}return t}function nh(a){return!Vn(a)&&!la(a)}function py(a){return Vn(a)}(function(a){a[a.Disabled=0]="Disabled",a[a.Continuous=1]="Continuous",a[a.OnDataUpdate=2]="OnDataUpdate"})(_0||(_0={})),(function(a){a[a.LastBar=0]="LastBar",a[a.LastVisible=1]="LastVisible"})(T0||(T0={})),(function(a){a.Solid="solid",a.VerticalGradient="gradient"})(ih||(ih={})),(function(a){a[a.Year=0]="Year",a[a.Month=1]="Month",a[a.DayOfMonth=2]="DayOfMonth",a[a.Time=3]="Time",a[a.TimeWithSeconds=4]="TimeWithSeconds"})(N0||(N0={}));const C0=a=>a.getUTCFullYear();function _2(a,t,n){return t.replace(/yyyy/g,(s=>Li(C0(s),4))(a)).replace(/yy/g,(s=>Li(C0(s)%100,2))(a)).replace(/MMMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(a,n)).replace(/MMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(a,n)).replace(/MM/g,(s=>Li((r=>r.getUTCMonth()+1)(s),2))(a)).replace(/dd/g,(s=>Li((r=>r.getUTCDate())(s),2))(a))}class yy{constructor(t="yyyy-MM-dd",n="default"){this.Yc=t,this.jc=n}__(t){return _2(t,this.Yc,this.jc)}}class T2{constructor(t){this.Kc=t||"%h:%m:%s"}__(t){return this.Kc.replace("%h",Li(t.getUTCHours(),2)).replace("%m",Li(t.getUTCMinutes(),2)).replace("%s",Li(t.getUTCSeconds(),2))}}const N2={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class C2{constructor(t={}){const n={...N2,...t};this.Qc=new yy(n.Xc,n.Jc),this.td=new T2(n.Zc),this.sd=n.Gc}__(t){return`${this.Qc.__(t)}${this.sd}${this.td.__(t)}`}}function Dr(a){return 60*a*60*1e3}function Uc(a){return 60*a*1e3}const Rr=[{nd:(O0=1,1e3*O0),ed:10},{nd:Uc(1),ed:20},{nd:Uc(5),ed:21},{nd:Uc(30),ed:22},{nd:Dr(1),ed:30},{nd:Dr(3),ed:31},{nd:Dr(6),ed:32},{nd:Dr(12),ed:33}];var O0;function z0(a,t){if(a.getUTCFullYear()!==t.getUTCFullYear())return 70;if(a.getUTCMonth()!==t.getUTCMonth())return 60;if(a.getUTCDate()!==t.getUTCDate())return 50;for(let n=Rr.length-1;n>=0;--n)if(Math.floor(t.getTime()/Rr[n].nd)!==Math.floor(a.getTime()/Rr[n].nd))return Rr[n].ed;return 0}function Bc(a){let t=a;if(la(a)&&(t=ph(a)),!nh(t))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{rd:Math.round(n.getTime()/1e3),hd:t}}function D0(a){if(!py(a))throw new Error("time must be of type isUTCTimestamp");return{rd:a}}function ph(a){const t=new Date(a);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${a}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function R0(a){la(a.time)&&(a.time=ph(a.time))}class A0{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?(function(n){n.forEach(R0)})(t):R0(t)}createConverterToInternalObj(t){return J((function(n){return n.length===0?null:nh(n[0].time)||la(n[0].time)?Bc:D0})(t))}key(t){return typeof t=="object"&&"rd"in t?t.rd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const n=t;return n.hd===void 0?new Date(1e3*n.rd).getTime():new Date(Date.UTC(n.hd.year,n.hd.month-1,n.hd.day)).getTime()}convertHorzItemToInternal(t){return py(n=t)?D0(n):nh(n)?Bc(n):Bc(ph(n));var n}updateFormatter(t){if(!this.Ps)return;const n=t.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new C2({Xc:n,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:t.locale}):this.ad=new yy(n,t.locale)}formatHorzItem(t){const n=t;return this.ad.__(new Date(1e3*n.rd))}formatTickmark(t,n){const s=(function(o,f,d){switch(o){case 0:case 10:return f?d?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return f?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const o=r.tickMarkFormatter(t.originalTime,s,n.locale);if(o!==null)return o}return(function(o,f,d){const g={};switch(f){case 0:g.year="numeric";break;case 1:g.month="short";break;case 2:g.day="numeric";break;case 3:g.hour12=!1,g.hour="2-digit",g.minute="2-digit";break;case 4:g.hour12=!1,g.hour="2-digit",g.minute="2-digit",g.second="2-digit"}const m=o.hd===void 0?new Date(1e3*o.rd):new Date(Date.UTC(o.hd.year,o.hd.month-1,o.hd.day));return new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()).toLocaleString(d,g)})(t.time,s,n.locale)}maxTickMarkWeight(t){let n=t.reduce(w2,t[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(t,n){(function(s,r=0){if(s.length===0)return;let o=r===0?null:s[r-1].time.rd,f=o!==null?new Date(1e3*o):null,d=0;for(let g=r;g<s.length;++g){const m=s[g],y=new Date(1e3*m.time.rd);f!==null&&(m.timeWeight=z0(y,f)),d+=m.time.rd-(o||m.time.rd),o=m.time.rd,f=y}if(r===0&&s.length>1){const g=Math.ceil(d/(s.length-1)),m=new Date(1e3*(s[0].time.rd-g));s[0].timeWeight=z0(new Date(1e3*s[0].time.rd),m)}})(t,n)}static ld(t){return Ge({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ks=typeof window<"u";function j0(){return!!ks&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Lc(){return!!ks&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function sh(a){return a+a%2}function O2(a){ks&&window.chrome!==void 0&&a.addEventListener("mousedown",(t=>{if(t.button===1)return t.preventDefault(),!1}))}class lu{constructor(t,n,s){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!Lc(),this.Ld=r=>{this.Od(r)},this.Nd=r=>{if(this.Fd(r)){const o=this.Wd(r);if(++this.dd,this.fd&&this.dd>1){const{Hd:f}=this.Ud(yi(r),this.pd);f<30&&!this.Sd&&this.$d(o,this.Yd.qd),this.jd()}}else{const o=this.Wd(r);if(++this.od,this._d&&this.od>1){const{Hd:f}=this.Ud(yi(r),this.ud);f<5&&!this.bd&&this.Kd(o,this.Yd.Xd),this.Zd()}}},this.Gd=t,this.Yd=n,this.Ps=s,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(t){this.yd&&this.yd();const n=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",n)},this.Gd.addEventListener("mousemove",n),this.Fd(t))return;const s=this.Wd(t);this.Kd(s,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(t){if(this.Id||this.gd!==null||this.Fd(t))return;const n=this.Wd(t);this.Kd(n,this.Yd.nf),this.zd=!0}ef(t){const n=kc(t.changedTouches,J(this.Ad));if(n===null||(this.Ed=Ar(t),this.Rd!==null)||this.Bd)return;this.Vd=!0;const s=this.Ud(yi(n),J(this.gd)),{rf:r,hf:o,Hd:f}=s;if(this.Md||!(f<5)){if(!this.Md){const d=.5*r,g=o>=d&&!this.Ps.af(),m=d>o&&!this.Ps.lf();g||m||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const d=this.Wd(t,n);this.$d(d,this.Yd._f),Ds(t)}}}uf(t){if(t.button!==0)return;const n=this.Ud(yi(t),J(this.wd)),{Hd:s}=n;if(s>=5&&(this.bd=!0,this.Zd()),this.bd){const r=this.Wd(t);this.Kd(r,this.Yd.cf)}}Ud(t,n){const s=Math.abs(n._t-t._t),r=Math.abs(n.ut-t.ut);return{rf:s,hf:r,Hd:s+r}}df(t){let n=kc(t.changedTouches,J(this.Ad));if(n===null&&t.touches.length===0&&(n=t.changedTouches[0]),n===null)return;this.Ad=null,this.Ed=Ar(t),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const s=this.Wd(t,n);if(this.$d(s,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:r}=this.Ud(yi(n),this.pd);r<30&&!this.Sd&&this.$d(s,this.Yd.qd),this.jd()}else this.Sd||(this.$d(s,this.Yd.pf),this.Yd.pf&&Ds(t));this.dd===0&&Ds(t),t.touches.length===0&&this.md&&(this.md=!1,Ds(t))}Od(t){if(t.button!==0)return;const n=this.Wd(t);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),j0()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(t))if(this.Kd(n,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:s}=this.Ud(yi(t),this.ud);s<5&&!this.bd&&this.Kd(n,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(n,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(t){if(this.Ad!==null)return;const n=t.changedTouches[0];this.Ad=n.identifier,this.Ed=Ar(t);const s=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=yi(n),this.Td&&(this.Td(),this.Td=null);{const o=this.ef.bind(this),f=this.df.bind(this);this.Td=()=>{s.removeEventListener("touchmove",o),s.removeEventListener("touchend",f)},s.addEventListener("touchmove",o,{passive:!1}),s.addEventListener("touchend",f,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,t),240)}const r=this.Wd(t,n);this.$d(r,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=yi(n))}bf(t){if(t.button!==0)return;const n=this.Gd.ownerDocument.documentElement;j0()&&n.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=yi(t),this.kd&&(this.kd(),this.kd=null);{const r=this.uf.bind(this),o=this.Od.bind(this);this.kd=()=>{n.removeEventListener("mousemove",r),n.removeEventListener("mouseup",o)},n.addEventListener("mousemove",r),n.addEventListener("mouseup",o)}if(this.Id=!0,this.Fd(t))return;const s=this.Wd(t);this.Kd(s,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=yi(t))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const t=this.Gd.ownerDocument,n=s=>{this.Yd.xf&&(s.composed&&this.Gd.contains(s.composedPath()[0])||s.target&&this.Gd.contains(s.target)||this.Yd.xf())};this.Cd=()=>{t.removeEventListener("touchstart",n)},this.xd=()=>{t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0})}Lc()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),O2(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(t=>this.Rf(t.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(t=>{if(t.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const n=Y0(t.touches[0],t.touches[1])/this.Dd;this.Yd.kf(this.Rd,n),Ds(t)}}),{passive:!1}),this.Gd.addEventListener("touchend",(t=>{this.Rf(t.touches)})))}Rf(t){t.length===1&&(this.Vd=!1),t.length!==2||this.Vd||this.md?this.Df():this.Vf(t)}Vf(t){const n=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(t[0].clientX-n.left+(t[1].clientX-n.left))/2,ut:(t[0].clientY-n.top+(t[1].clientY-n.top))/2},this.Dd=Y0(t[0],t[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(t){if(this.yd&&this.yd(),this.Fd(t)||!this.zd)return;const n=this.Wd(t);this.Kd(n,this.Yd.Bf),this.zd=!Lc()}gf(t){const n=kc(t.touches,J(this.Ad));if(n===null)return;const s=this.Wd(t,n);this.$d(s,this.Yd.If),this.Sd=!0,this.md=!0}Fd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Ar(t)<this.Ed+500}$d(t,n){n&&n.call(this.Yd,t)}Kd(t,n){n&&n.call(this.Yd,t)}Wd(t,n){const s=n||t,r=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-r.left,localY:s.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Ef:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Af:t.type,zf:s.target,a_:t.view,Lf:()=>{t.type!=="touchstart"&&Ds(t)}}}}function Y0(a,t){const n=a.clientX-t.clientX,s=a.clientY-t.clientY;return Math.sqrt(n*n+s*s)}function Ds(a){a.cancelable&&a.preventDefault()}function yi(a){return{_t:a.pageX,ut:a.pageY}}function Ar(a){return a.timeStamp||performance.now()}function kc(a,t){for(let n=0;n<a.length;++n)if(a[n].identifier===t)return a[n];return null}class z2{constructor(t,n,s){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=t,this.Uf=t.$f()[n],this.qf=t.$f()[s],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return Ft({width:this.Uf.Gf().width,height:1})}Jf(){return Ft({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(t,n,s){const r=this.Jf();t.fillStyle=this.Hf.N().layout.panes.separatorColor,t.fillRect(n,s,r.width,r.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const t=document.createElement("div"),n=t.style;n.position="fixed",n.display="none",n.zIndex="49",n.top="0",n.left="0",n.width="100%",n.height="100%",n.cursor="row-resize",this.jf.appendChild(t);const s=document.createElement("div"),r=s.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.jf.appendChild(s);const o={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new lu(s,o,{af:()=>!1,lf:()=>!0}),this.Of={ip:s,tp:t}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(t){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(t){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(t){if(this.Of===null)return;const n=this.Uf.ap().Bo()+this.qf.ap().Bo(),s=n/(this.Uf.Gf().height+this.qf.Gf().height),r=30*s;n<=2*r||(this.Wf={lp:t.pageY,op:this.Uf.ap().Bo(),_p:n-r,up:n,cp:s,dp:r},this.Of.tp.style.display="block")}rp(t){const n=this.Wf;if(n===null)return;const s=(t.pageY-n.lp)*n.cp,r=Pl(n.op+s,n.dp,n._p);this.Uf.ap().Io(r),this.qf.ap().Io(n.up-r),this.Hf.Qt().Ih()}hp(t){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function qc(a,t){return a.fp-t.fp}function Hc(a,t,n){const s=(a.fp-t.fp)/(a.wt-t.wt);return Math.sign(s)*Math.min(Math.abs(s),n)}class D2{constructor(t,n,s,r){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=t,this.xp=n,this.Cp=s,this.Mn=r}Pp(t,n){if(this.pp!==null){if(this.pp.wt===n)return void(this.pp.fp=t);if(Math.abs(this.pp.fp-t)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:n,fp:t}}le(t,n){if(this.pp===null||this.vp===null||n-this.pp.wt>50)return;let s=0;const r=Hc(this.pp,this.vp,this.xp),o=qc(this.pp,this.vp),f=[r],d=[o];if(s+=o,this.mp!==null){const m=Hc(this.vp,this.mp,this.xp);if(Math.sign(m)===Math.sign(r)){const y=qc(this.vp,this.mp);if(f.push(m),d.push(y),s+=y,this.wp!==null){const v=Hc(this.mp,this.wp,this.xp);if(Math.sign(v)===Math.sign(r)){const S=qc(this.mp,this.wp);f.push(v),d.push(S),s+=S}}}}let g=0;for(let m=0;m<f.length;++m)g+=d[m]/s*f[m];Math.abs(g)<this.Sp||(this.gp={fp:t,wt:n},this.bp=g,this.Mp=(function(m,y){const v=Math.log(y);return Math.log(1*v/-m)/v})(Math.abs(g),this.Cp))}Du(t){const n=J(this.gp),s=t-n.wt;return n.fp+this.bp*(Math.pow(this.Cp,s)-1)/Math.log(this.Cp)}Ru(t){return this.gp===null||this.yp(t)===this.Mp}yp(t){const n=t-J(this.gp).wt;return Math.min(n,this.Mp)}}class R2{constructor(t,n){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=t,this.Vp=n,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Pn(a,t){const n=J(a.ownerDocument).createElement("canvas");a.appendChild(n);const s=yw(n,{options:{allowResizeObserver:!0},transform:(r,o)=>({width:Math.max(r.width,o.width),height:Math.max(r.height,o.height)})});return s.resizeCanvasElement(t),s}function Gn(a){a.width=1,a.height=1,a.getContext("2d")?.clearRect(0,0,1,1)}function lh(a,t,n,s){a.ih&&a.ih(t,n,s)}function Lr(a,t,n,s){a.nt(t,n,s)}function ah(a,t,n,s){const r=a(n,s);for(const o of r){const f=o.Tt(s);f!==null&&t(f)}}function Qc(a,t){return n=>(function(s){return s.Ft!==void 0})(n)?(n.Ft()?.ma()??"")!==t?[]:n.ta?.(a)??[]:[]}function U0(a,t,n,s){if(!a.length)return;let r=0;const o=a[0].$t(s,!0);let f=t===1?n/2-(a[0].Fi()-o/2):a[0].Fi()-o/2-n/2;f=Math.max(0,f);for(let d=1;d<a.length;d++){const g=a[d],m=a[d-1],y=m.$t(s,!1),v=g.Fi(),S=m.Fi();if(t===1?v>S-y:v<S+y){const T=S-y*t;g.Wi(T);const w=T-t*y/2;if((t===1?w<0:w>n)&&f>0){const M=t===1?-1-w:w-n,O=Math.min(M,f);for(let B=r;B<a.length;B++)a[B].Wi(a[B].Fi()+t*O);f-=O}}else r=d,f=t===1?S-y-v:v-(S+y)}}class B0{constructor(t,n,s,r){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new $l(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=t,this.Ps=n,this.Ml=n.layout,this.Ju=s,this.jp=r==="left",this.Kp=Qc("normal",r),this.Xp=Qc("top",r),this.Zp=Qc("bottom",r),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Pn(this.jf,Ft({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const o=this.Gp.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.Jp=Pn(this.jf,Ft({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const f=this.Jp.canvasElement;f.style.position="absolute",f.style.zIndex="2",f.style.left="0",f.style.top="0";const d={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new lu(this.Jp.canvasElement,d,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Gn(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gn(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const t=this.Ju.N();return this.Wp!==t.k&&(this.Fp.Bn(),this.Wp=t.k),t}nv(){if(this.Yi===null)return 0;let t=0;const n=this.sv(),s=J(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));s.save();const r=this.Yi.Da();s.font=this.ev(),r.length>0&&(t=Math.max(this.Fp.Vi(s,r[0].Za),this.Fp.Vi(s,r[r.length-1].Za)));const o=this.rv();for(let m=o.length;m--;){const y=this.Fp.Vi(s,o[m].ri());y>t&&(t=y)}const f=this.Yi.zt();if(f!==null&&this.Op!==null&&(d=this.Ps.crosshair).mode!==2&&d.horzLine.visible&&d.horzLine.labelVisible){const m=this.Yi.Ts(1,f),y=this.Yi.Ts(this.Op.height-2,f);t=Math.max(t,this.Fp.Vi(s,this.Yi.Zi(Math.floor(Math.min(m,y))+.11111111111111,f)),this.Fp.Vi(s,this.Yi.Zi(Math.ceil(Math.max(m,y))-.11111111111111,f)))}var d;s.restore();const g=t||34;return sh(Math.ceil(n.S+n.C+n.B+n.I+5+g))}hv(t){this.Op!==null&&kn(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`)}av(){return J(this.Op).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=t,t.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const t=this.Pt.ap();this.Pt.qp().Qt().Zo(t,J(this.Ft()))}lv(t){if(this.Op===null)return;const n={colorSpace:this.Pt.qp().N().layout.colorSpace};if(t!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const r=Hn(this.Gp,n);r!==null&&(r.useBitmapCoordinateSpace((o=>{this._v(o),this.uv(o)})),this.Pt.cv(r,this.Zp),this.dv(r),this.Pt.cv(r,this.Kp),this.fv(r))}this.Jp.applySuggestedBitmapSize();const s=Hn(this.Jp,n);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.pv(s),this.Pt.cv(s,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(t,n,s,r){const o=this.Jf();if(o.width>0&&o.height>0&&(t.drawImage(this.Gp.canvasElement,n,s),r)){const f=this.Jp.canvasElement;t.drawImage(f,n,s)}}yt(){this.Yi?.Da()}ep(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const n=this.Pt.qp().Qt(),s=this.Pt.ap();this.Np=!0,n.Uo(s,this.Yi,t.localY)}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const n=this.Pt.qp().Qt(),s=this.Pt.ap(),r=this.Yi;n.$o(s,r,t.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.qp().Qt(),n=this.Pt.ap(),s=this.Yi;this.Np&&(this.Np=!1,t.qo(n,s))}hp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const n=this.Pt.qp().Qt(),s=this.Pt.ap();this.Np=!1,n.qo(s,this.Yi)}tv(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(t){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(t){this.vv(0)}rv(){const t=[],n=this.Yi===null?void 0:this.Yi;return(s=>{for(let r=0;r<s.length;++r){const o=s[r].Ws(this.Pt.ap(),n);for(let f=0;f<o.length;f++)t.push(o[f])}})(this.Pt.ap().Dt()),t}_v({context:t,bitmapSize:n}){const{width:s,height:r}=n,o=this.Pt.ap().Qt(),f=o.$(),d=o.Wc();f===d?tu(t,0,0,s,r,f):ny(t,0,0,s,r,f,d)}uv({context:t,bitmapSize:n,horizontalPixelRatio:s}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.sv().S*s));let o;o=this.jp?n.width-r:0,t.fillRect(o,0,r,n.height)}dv(t){if(this.Op===null||this.Yi===null)return;const n=this.Yi.Da(),s=this.Yi.N(),r=this.sv(),o=this.jp?this.Op.width-r.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((({context:f,horizontalPixelRatio:d,verticalPixelRatio:g})=>{f.fillStyle=s.borderColor;const m=Math.max(1,Math.floor(g)),y=Math.floor(.5*g),v=Math.round(r.C*d);f.beginPath();for(const S of n)f.rect(Math.floor(o*d),Math.round(S.Pa*g)-y,v,m);f.fill()})),t.useMediaCoordinateSpace((({context:f})=>{f.font=this.ev(),f.fillStyle=s.textColor??this.Ml.textColor,f.textAlign=this.jp?"right":"left",f.textBaseline="middle";const d=this.jp?Math.round(o-r.B):Math.round(o+r.C+r.B),g=n.map((m=>this.Fp.Di(f,m.Za)));for(let m=n.length;m--;){const y=n[m];f.fillText(y.Za,d,y.Pa+g[m])}}))}ov(){if(this.Op===null||this.Yi===null)return;let t=this.Op.height/2;const n=[],s=this.Yi.Dt().slice(),r=this.Pt.ap(),o=this.sv();this.Yi===r.$n()&&this.Pt.ap().Dt().forEach((g=>{r.Un(g)&&s.push(g)}));const f=this.Yi.Ma()[0],d=this.Yi;s.forEach((g=>{const m=g.Ws(r,d);m.forEach((y=>{y.Wi(null),y.Hi()&&n.push(y)})),f===g&&m.length>0&&(t=m[0].Ii())})),n.forEach((g=>g.Wi(g.Ii()))),this.Yi.N().alignLabels&&this.mv(n,o,t)}mv(t,n,s){if(this.Op===null)return;const r=t.filter((f=>f.Ii()<=s)),o=t.filter((f=>f.Ii()>s));r.sort(((f,d)=>d.Ii()-f.Ii())),r.length&&o.length&&o.push(r[0]),o.sort(((f,d)=>f.Ii()-d.Ii()));for(const f of t){const d=Math.floor(f.$t(n)/2),g=f.Ii();g>-d&&g<d&&f.Wi(d),g>this.Op.height-d&&g<this.Op.height+d&&f.Wi(this.Op.height-d)}U0(r,1,this.Op.height,n),U0(o,-1,this.Op.height,n)}fv(t){if(this.Op===null)return;const n=this.rv(),s=this.sv(),r=this.jp?"right":"left";n.forEach((o=>{o.Ui()&&o.Tt(J(this.Yi)).nt(t,s,this.Fp,r)}))}pv(t){if(this.Op===null||this.Yi===null)return;const n=this.Pt.qp().Qt(),s=[],r=this.Pt.ap(),o=n.uc().Ws(r,this.Yi);o.length&&s.push(o);const f=this.sv(),d=this.jp?"right":"left";s.forEach((g=>{g.forEach((m=>{m.Tt(J(this.Yi)).nt(t,f,this.Fp,d)}))}))}vv(t){this.jf.style.cursor=t===1?"ns-resize":"default"}_l(){const t=this.nv();this.Hp<t&&this.Pt.qp().Qt().Ih(),this.Hp=t}ev(){return Il(this.Ml.fontSize,this.Ml.fontFamily)}}function A2(a,t){return a.Jh?.(t)??[]}function L0(a,t){return a.Fs?.(t)??[]}function k0(a,t){return a.us?.(t)??[]}function j2(a,t){return a.Xh?.(t)??[]}class yh{constructor(t,n){this.Op=Ft({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new ie,this.Cv=new ie,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=t,this.Vv=n,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(s),this.Gp=Pn(s,Ft({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=Pn(s,Ft({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const o=this.Jp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new lu(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Gn(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gn(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return J(this.Vv)}Lv(t){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=t,this.Vv!==null&&this.Vv.t_().i(yh.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new R2(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const t=this.Vv.Wo();this.wv._s(J(t))}if(this.gv!==null){const t=this.Vv.Ho();this.gv._s(J(t))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(t){this.Vv&&this.Vv.Io(t)}sf(t){if(!this.Vv)return;this.Fv();const n=t.localX,s=t.localY;this.Wv(n,s,t)}Sf(t){this.Fv(),this.Hv(),this.Wv(t.localX,t.localY,t)}nf(t){if(!this.Vv)return;this.Fv();const n=t.localX,s=t.localY;this.Wv(n,s,t)}mf(t){this.Vv!==null&&(this.Fv(),this.Uv(t))}Xd(t){this.Vv!==null&&this.$v(this.Cv,t)}qd(t){this.Xd(t)}cf(t){this.Fv(),this.qv(t),this.Wv(t.localX,t.localY,t)}vf(t){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(t))}pf(t){this.Vv!==null&&this.Uv(t)}If(t){if(this.yv=!0,this.kv===null){const n={x:t.localX,y:t.localY};this.jv(n,n,t)}}Bf(t){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(t,n){if(!this.Vp.N().handleScale.pinch)return;const s=5*(n-this.Pv);this.Pv=n,this.ts().bc(t._t,s)}Mf(t){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const n=this.ts().uc();this.kv!==null&&n.Vt()&&(this.Rv={x:n.si(),y:n.ni()},this.kv={x:t.localX,y:t.localY})}_f(t){if(this.Vv===null)return;const n=t.localX,s=t.localY;if(this.kv===null)this.qv(t);else{this.Tv=!1;const r=J(this.Rv),o=r.x+(n-this.kv.x),f=r.y+(s-this.kv.y);this.Wv(o,f,t)}}ff(t){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(t)}jn(t,n){const s=this.Vv;return s===null?null:my(s,t,n)}Jv(t,n){J(n==="left"?this.wv:this.gv).hv(Ft({width:t,height:this.Op.height}))}Gf(){return this.Op}hv(t){kn(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Qv(){const t=J(this.Vv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const n of t.Ma())if(t.Un(n)){const s=n.Ft();s!==null&&t.Fo(s),n.Ns()}for(const n of t.s_())n.Ns()}Jf(){return this.Gp.bitmapSize}Qf(t,n,s,r){const o=this.Jf();if(o.width>0&&o.height>0&&(t.drawImage(this.Gp.canvasElement,n,s),r)){const f=this.Jp.canvasElement;t!==null&&t.drawImage(f,n,s)}}lv(t){if(t===0||this.Vv===null)return;t>1&&this.Qv(),this.wv!==null&&this.wv.lv(t),this.gv!==null&&this.gv.lv(t);const n={colorSpace:this.Vp.N().layout.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=Hn(this.Gp,n);r!==null&&(r.useBitmapCoordinateSpace((o=>{this._v(o)})),this.Vv&&(this.tm(r,A2),this.im(r),this.tm(r,L0),this.tm(r,k0)))}this.Jp.applySuggestedBitmapSize();const s=Hn(this.Jp,n);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.sm(s),this.tm(s,j2),this.tm(s,k0))}nm(){return this.wv}rm(){return this.gv}cv(t,n){this.tm(t,n)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(t){this.$v(this.xv,t)}$v(t,n){const s=n.localX,r=n.localY;t.v()&&t.p(this.ts().Et().cu(s),{x:s,y:r},n)}_v({context:t,bitmapSize:n}){const{width:s,height:r}=n,o=this.ts(),f=o.$(),d=o.Wc();f===d?tu(t,0,0,s,r,d):ny(t,0,0,s,r,f,d)}im(t){const n=J(this.Vv),s=n.i_().lr().Tt(n);s!==null&&s.nt(t,!1)}sm(t){this.hm(t,L0,Lr,this.ts().uc())}tm(t,n){const s=J(this.Vv),r=s.Dt(),o=s.s_();for(const f of o)this.hm(t,n,lh,f);for(const f of r)this.hm(t,n,lh,f);for(const f of o)this.hm(t,n,Lr,f);for(const f of r)this.hm(t,n,Lr,f)}hm(t,n,s,r){const o=J(this.Vv),f=o.Qt().ac(),d=f!==null&&f.n_===r,g=f!==null&&d&&f.e_!==void 0?f.e_.Xn:void 0;ah(n,(m=>s(m,t,d,g)),r,o)}Ov(){if(this.Vv===null)return;const t=this.Vp,n=this.Vv.Wo().N().visible,s=this.Vv.Ho().N().visible;n||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),s||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const r=t.Qt().Bc();n&&this.wv===null&&(this.wv=new B0(this,t.N(),r,"left"),this.Ev.appendChild(this.wv.Zf())),s&&this.gv===null&&(this.gv=new B0(this,t.N(),r,"right"),this.Av.appendChild(this.gv.Zf()))}am(t){return t.Ef&&this.yv||this.kv!==null}lm(t){return Math.max(0,Math.min(t,this.Op.width-1))}om(t){return Math.max(0,Math.min(t,this.Op.height-1))}Wv(t,n,s){this.ts().Tc(this.lm(t),this.om(n),s,J(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(t,n,s){this.kv=t,this.Tv=!1,this.Wv(n.x,n.y,s);const r=this.ts().uc();this.Rv={x:r.si(),y:r.ni()}}ts(){return this.Vp.Qt()}Yv(t){if(!this.Sv)return;const n=this.ts(),s=this.ap();if(n.Ko(s,s.ks()),this.bv=null,this.Sv=!1,n.Pc(),this.Dv!==null){const r=performance.now(),o=n.Et();this.Dv.le(o.gu(),r),this.Dv.Ru(r)||n._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)J(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(t){if(this.Vv===null)return;const n=this.ts(),s=n.Et();if(s.Ki())return;const r=this.Vp.N(),o=r.handleScroll,f=r.kineticScroll;if((!o.pressedMouseMove||t.Ef)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!t.Ef))return;const d=this.Vv.ks(),g=performance.now();if(this.bv!==null||this.am(t)||(this.bv={x:t.clientX,y:t.clientY,rd:g,_m:t.localX,um:t.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==t.clientX||this.bv.y!==t.clientY)){if(t.Ef&&f.touch||!t.Ef&&f.mouse){const m=s.mu();this.Dv=new D2(.2/m,7/m,.997,15/m),this.Dv.Pp(s.gu(),this.bv.rd)}else this.Dv=null;d.Ki()||n.Yo(this.Vv,d,t.localY),n.xc(t.localX),this.Sv=!0}this.Sv&&(d.Ki()||n.jo(this.Vv,d,t.localY),n.Cc(t.localX),this.Dv!==null&&this.Dv.Pp(s.gu(),g))}}class q0{constructor(t,n,s,r,o){this.xt=!0,this.Op=Ft({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=t==="left",this.Ju=s.Bc,this.Ps=n,this.dm=r,this.fm=o,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Pn(this.jf,Ft({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gn(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(t){kn(this.Op,t)||(this.Op=t,this.Gp.resizeCanvasElement(t),this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.xt=!0)}lv(t){if(t<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const n=Hn(this.Gp,{colorSpace:this.Ps.layout.colorSpace});n!==null&&n.useBitmapCoordinateSpace((s=>{this._v(s),this.uv(s)}))}Jf(){return this.Gp.bitmapSize}Qf(t,n,s){const r=this.Jf();r.width>0&&r.height>0&&t.drawImage(this.Gp.canvasElement,n,s)}uv({context:t,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:r}){if(!this.dm())return;t.fillStyle=this.Ps.timeScale.borderColor;const o=Math.floor(this.Ju.N().S*s),f=Math.floor(this.Ju.N().S*r),d=this.jp?n.width-o:0;t.fillRect(d,0,o,f)}_v({context:t,bitmapSize:n}){tu(t,0,0,n.width,n.height,this.fm())}}function vh(a){return t=>t.ia?.(a)??[]}const Y2=vh("normal"),U2=vh("top"),B2=vh("bottom");class L2{constructor(t,n){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=Ft({width:0,height:0}),this.gm=new ie,this.Fp=new $l(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=t,this.o_=n,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Pn(this.Sm,Ft({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const s=this.Gp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jp=Pn(this.Sm,Ft({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new lu(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Gn(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gn(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(t){if(this.wm)return;this.wm=!0;const n=this.Vp.Qt();!n.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&n.Mc(t.localX)}Mf(t){this.Sf(t)}xf(){const t=this.Vp.Qt();!t.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&t.kc())}cf(t){const n=this.Vp.Qt();!n.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&n.yc(t.localX)}_f(t){this.cf(t)}vf(){this.wm=!1;const t=this.Vp.Qt();t.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||t.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(t,n,s){kn(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.gm.p(t)),this.pm!==null&&this.pm.hv(Ft({width:n,height:t.height})),this.vm!==null&&this.vm.hv(Ft({width:s,height:t.height}))}Tm(){const t=this.Rm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(t,n,s,r){const o=this.Jf();if(o.width>0&&o.height>0&&(t.drawImage(this.Gp.canvasElement,n,s),r)){const f=this.Jp.canvasElement;t.drawImage(f,n,s)}}lv(t){if(t===0)return;const n={colorSpace:this.Ps.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=Hn(this.Gp,n);r!==null&&(r.useBitmapCoordinateSpace((o=>{this._v(o),this.uv(o),this.Vm(r,B2)})),this.dv(r),this.Vm(r,Y2)),this.pm!==null&&this.pm.lv(t),this.vm!==null&&this.vm.lv(t)}this.Jp.applySuggestedBitmapSize();const s=Hn(this.Jp,n);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],s),this.Vm(s,U2))}Vm(t,n){const s=this.Vp.Qt().js();for(const r of s)ah(n,(o=>lh(o,t,!1,void 0)),r,void 0);for(const r of s)ah(n,(o=>Lr(o,t,!1,void 0)),r,void 0)}_v({context:t,bitmapSize:n}){tu(t,0,0,n.width,n.height,this.Vp.Qt().Wc())}uv({context:t,bitmapSize:n,verticalPixelRatio:s}){if(this.Vp.N().timeScale.borderVisible){t.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Rm().S*s));t.fillRect(0,0,n.width,r)}}dv(t){const n=this.Vp.Qt().Et(),s=n.Da();if(!s||s.length===0)return;const r=this.o_.maxTickMarkWeight(s),o=this.Rm(),f=n.N();f.borderVisible&&f.ticksVisible&&t.useBitmapCoordinateSpace((({context:d,horizontalPixelRatio:g,verticalPixelRatio:m})=>{d.strokeStyle=this.Im(),d.fillStyle=this.Im();const y=Math.max(1,Math.floor(g)),v=Math.floor(.5*g);d.beginPath();const S=Math.round(o.C*m);for(let T=s.length;T--;){const w=Math.round(s[T].coord*g);d.rect(w-v,0,y,S)}d.fill()})),t.useMediaCoordinateSpace((({context:d})=>{const g=o.S+o.C+o.A+o.P/2;d.textAlign="center",d.textBaseline="middle",d.fillStyle=this.H(),d.font=this.ev();for(const m of s)if(m.weight<r){const y=m.needAlignCoordinate?this.Em(d,m.coord,m.label):m.coord;d.fillText(m.label,y,g)}this.Vp.N().timeScale.allowBoldLabels&&(d.font=this.Am());for(const m of s)if(m.weight>=r){const y=m.needAlignCoordinate?this.Em(d,m.coord,m.label):m.coord;d.fillText(m.label,y,g)}}))}Em(t,n,s){const r=this.Fp.Vi(t,s),o=r/2,f=Math.floor(n-o)+.5;return f<0?n+=Math.abs(0-f):f+r>this.Op.width&&(n-=Math.abs(this.Op.width-(f+r))),n}Bm(t,n){const s=this.Rm();for(const r of t)for(const o of r.cs())o.Tt().nt(n,s)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return Il(this.F(),this.Ps.fontFamily)}Am(){return Il(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new $l,Dm:0});const t=this.M,n=this.ev();if(t.k!==n){const s=this.F();t.P=s,t.k=n,t.A=3*s/12,t.V=3*s/12,t.Ji=9*s/12,t.L=0,t.Dm=4*s/12,t.Gi.Bn()}return this.M}vv(t){this.jf.style.cursor=t===1?"ew-resize":"default"}xm(){const t=this.Vp.Qt(),n=t.N();n.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),n.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const s={Bc:this.Vp.Qt().Bc()},r=()=>n.leftPriceScale.borderVisible&&t.Et().N().borderVisible,o=()=>t.Wc();n.leftPriceScale.visible&&this.pm===null&&(this.pm=new q0("left",n,s,r,o),this.Mm.appendChild(this.pm.Zf())),n.rightPriceScale.visible&&this.vm===null&&(this.vm=new q0("right",n,s,r,o),this.bm.appendChild(this.vm.Zf()))}}const k2=!!ks&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((a=>a.brand.includes("Chromium")))&&!!ks&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class q2{constructor(t,n,s){var r;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new ie,this.Cv=new ie,this.Xu=new ie,this.Um=null,this.$m=null,this.Dp=t,this.Ps=n,this.o_=s,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),Vc(this.Ps)&&this.Km(!0),this.ts=new M2(this.Gu.bind(this),this.Ps,s),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new L2(this,this.o_),this.qm.appendChild(this.Zm.Zf());const o=n.autoSize&&this.Gm();let f=this.Ps.width,d=this.Ps.height;if(o||f===0||d===0){const g=t.getBoundingClientRect();f=f||g.width,d=d||g.height}this.Jm(f,d),this.Qm(),t.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.zm)this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();this.zm=[];for(const t of this.Lm)this.sw(t);this.Lm=[],J(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(t,n,s=!1){if(this.il===n&&this.Mo===t)return;const r=(function(d){const g=Math.floor(d.width),m=Math.floor(d.height);return Ft({width:g-g%2,height:m-m%2})})(Ft({width:t,height:n}));this.il=r.height,this.Mo=r.width;const o=this.il+"px",f=this.Mo+"px";J(this.kp).style.height=o,J(this.kp).style.width=f,this.qm.style.height=o,this.qm.style.width=f,s?this.ew(ye.gn(),performance.now()):this.ts.Ih()}lv(t){t===void 0&&(t=ye.gn());for(let n=0;n<this.zm.length;n++)this.zm[n].lv(t.en(n).tn);this.Ps.timeScale.visible&&this.Zm.lv(t.nn())}hr(t){const n=Vc(this.Ps);this.ts.hr(t);const s=Vc(this.Ps);s!==n&&this.Km(s),t.layout?.panes&&this.rw(),this.tw(),this.hw(t)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(t=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const n=this.lw(null),s=document.createElement("canvas");s.width=n.width,s.height=n.height;const r=J(s.getContext("2d"));return this.lw(r,t),s}ow(t){return t==="left"&&!this._w()||t==="right"&&!this.uw()||this.zm.length===0?0:J(t==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(t){this.$m=t,this.$m?this.ip().style.setProperty("cursor",t):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(t){return Ue(this.zm[t]).Gf()}rw(){this.Lm.forEach((t=>{t.yt()}))}hw(t){(t.autoSize!==void 0||!this.Um||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Um&&this.Gm(),t.autoSize===!1&&this.Um!==null&&this.nw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Jm(t.width||this.Mo,t.height||this.il))}lw(t,n){let s=0,r=0;const o=this.zm[0],f=(g,m)=>{let y=0;for(let v=0;v<this.zm.length;v++){const S=this.zm[v],T=J(g==="left"?S.nm():S.rm()),w=T.Jf();if(t!==null&&T.Qf(t,m,y,n),y+=w.height,v<this.zm.length-1){const M=this.Lm[v],O=M.Jf();t!==null&&M.Qf(t,m,y),y+=O.height}}};this._w()&&(f("left",0),s+=J(o.nm()).Jf().width);for(let g=0;g<this.zm.length;g++){const m=this.zm[g],y=m.Jf();if(t!==null&&m.Qf(t,s,r,n),r+=y.height,g<this.zm.length-1){const v=this.Lm[g],S=v.Jf();t!==null&&v.Qf(t,s,r),r+=S.height}}s+=o.Jf().width,this.uw()&&(f("right",s),s+=J(o.rm()).Jf().width);const d=(g,m,y)=>{J(g==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(J(t),m,y)};if(this.Ps.timeScale.visible){const g=this.Zm.Jf();if(t!==null){let m=0;this._w()&&(d("left",m,r),m=J(o.nm()).Jf().width),this.Zm.Qf(t,m,r,n),m+=g.width,this.uw()&&d("right",m,r)}r+=g.height}return Ft({width:s,height:r})}mw(){let t=0,n=0,s=0;for(const O of this.zm)this._w()&&(n=Math.max(n,J(O.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(s=Math.max(s,J(O.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),t+=O.Bo();n=sh(n),s=sh(s);const r=this.Mo,o=this.il,f=Math.max(r-n-s,0),d=1*this.Lm.length,g=this.Ps.timeScale.visible;let m=g?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var y;m=(y=m)+y%2;const v=d+m,S=o<v?0:o-v,T=S/t;let w=0;const M=window.devicePixelRatio||1;for(let O=0;O<this.zm.length;++O){const B=this.zm[O];B.Lv(this.ts.$s()[O]);let Z=0,et=0;et=O===this.zm.length-1?Math.ceil((S-w)*M)/M:Math.round(B.Bo()*T*M)/M,Z=Math.max(et,2),w+=Z,B.hv(Ft({width:f,height:Z})),this._w()&&B.Jv(n,"left"),this.uw()&&B.Jv(s,"right"),B.ap()&&this.ts.dc(B.ap(),Z)}this.Zm.km(Ft({width:g?f:0,height:m}),g?n:0,g?s:0),this.ts.Eo(f),this.Nm!==n&&(this.Nm=n),this.Fm!==s&&(this.Fm=s)}Km(t){t?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return k2?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const n=this.ww(t),s=n*t.deltaX/100,r=-n*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const o=Math.sign(r)*Math.min(1,Math.abs(r)),f=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(f,o)}s!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*s)}ew(t,n){const s=t.nn();s===3&&this.gw(),s!==3&&s!==2||(this.Mw(t),this.bw(t,n),this.Zm.yt(),this.zm.forEach((r=>{r.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(t),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,n),t=this.Wm,this.Wm=null)),this.lv(t)}bw(t,n){for(const s of t.pn())this.mn(s,n)}Mw(t){const n=this.ts.$s();for(let s=0;s<n.length;s++)t.en(s).sn&&n[s].Go()}mn(t,n){const s=this.ts.Et();switch(t.an){case 0:s.Au();break;case 1:s.zu(t.Wt);break;case 2:s.dn(t.Wt);break;case 3:s.fn(t.Wt);break;case 4:s.Su();break;case 5:t.Wt.Ru(n)||s.fn(t.Wt.Du(n))}}Gu(t){this.Wm!==null?this.Wm.vn(t):this.Wm=t,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((n=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const s=this.Wm;this.Wm=null,this.ew(s,n);for(const r of s.pn())if(r.an===5&&!r.Wt.Ru(n)){this.Qt()._n(r.Wt);break}}})))}gw(){this.Qm()}sw(t){this.qm.removeChild(t.Zf()),t.m()}Qm(){const t=this.ts.$s(),n=t.length,s=this.zm.length;for(let r=n;r<s;r++){const o=Ue(this.zm.pop());this.qm.removeChild(o.Zf()),o.Xv().u(this),o.Zv().u(this),o.m();const f=this.Lm.pop();f!==void 0&&this.sw(f)}for(let r=s;r<n;r++){const o=new yh(this,t[r]);if(o.Xv().i(this.Sw.bind(this,o),this),o.Zv().i(this.xw.bind(this,o),this),this.zm.push(o),r>0){const f=new z2(this,r-1,r);this.Lm.push(f),this.qm.insertBefore(f.Zf(),this.Zm.Zf())}this.qm.insertBefore(o.Zf(),this.Zm.Zf())}for(let r=0;r<n;r++){const o=t[r],f=this.zm[r];f.ap()!==o?f.Lv(o):f.zv()}this.tw(),this.mw()}Cw(t,n,s,r){const o=new Map;t!==null&&this.ts.js().forEach((v=>{const S=v.Xs().Fr(t);S!==null&&o.set(v,S)}));let f;if(t!==null){const v=this.ts.Et().ss(t)?.originalTime;v!==void 0&&(f=v)}const d=this.Qt().ac(),g=d!==null&&d.n_ instanceof su?d.n_:void 0,m=d!==null&&d.e_!==void 0?d.e_.Kn:void 0,y=this.Pw(r);return{yw:f,Re:t??void 0,kw:n??void 0,Tw:y!==-1?y:void 0,Rw:g,Dw:o,Vw:m,Bw:s??void 0}}Pw(t){let n=-1;if(t)n=this.zm.indexOf(t);else{const s=this.Qt().uc().Us();s!==null&&(n=this.Qt().$s().indexOf(s))}return n}Sw(t,n,s,r){this.xv.p((()=>this.Cw(n,s,r,t)))}xw(t,n,s,r){this.Cv.p((()=>this.Cw(n,s,r,t)))}Xm(t,n,s){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(t,n,s)))}tw(){const t=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=t}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((t=>{const n=t[t.length-1];n&&this.Jm(n.contentRect.width,n.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function Vc(a){return!!(a.handleScroll.mouseWheel||a.handleScale.mouseWheel)}function H2(a){return a.open===void 0&&a.value===void 0}function Q2(a){return(function(t){return t.open!==void 0})(a)||(function(t){return t.value!==void 0})(a)}function H0(a,t,n,s){const r=n.value,o={Re:t,wt:a,Wt:[r,r,r,r],yw:s};return n.color!==void 0&&(o.R=n.color),o}function V2(a,t,n,s){const r=n.value,o={Re:t,wt:a,Wt:[r,r,r,r],yw:s};return n.lineColor!==void 0&&(o.vt=n.lineColor),n.topColor!==void 0&&(o.mr=n.topColor),n.bottomColor!==void 0&&(o.wr=n.bottomColor),o}function P2(a,t,n,s){const r=n.value,o={Re:t,wt:a,Wt:[r,r,r,r],yw:s};return n.topLineColor!==void 0&&(o.gr=n.topLineColor),n.bottomLineColor!==void 0&&(o.Mr=n.bottomLineColor),n.topFillColor1!==void 0&&(o.br=n.topFillColor1),n.topFillColor2!==void 0&&(o.Sr=n.topFillColor2),n.bottomFillColor1!==void 0&&(o.Cr=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(o.Pr=n.bottomFillColor2),o}function G2(a,t,n,s){const r={Re:t,wt:a,Wt:[n.open,n.high,n.low,n.close],yw:s};return n.color!==void 0&&(r.R=n.color),r}function F2(a,t,n,s){const r={Re:t,wt:a,Wt:[n.open,n.high,n.low,n.close],yw:s};return n.color!==void 0&&(r.R=n.color),n.borderColor!==void 0&&(r.Ht=n.borderColor),n.wickColor!==void 0&&(r.vr=n.wickColor),r}function X2(a,t,n,s,r){const o=Ue(r)(n),f=Math.max(...o),d=Math.min(...o),g=o[o.length-1],m=[g,f,d,g],{time:y,color:v,...S}=n;return{Re:t,wt:a,Wt:m,yw:s,se:S,R:v}}function Hl(a){return a.Wt!==void 0}function Q0(a,t){return t.customValues!==void 0&&(a.Iw=t.customValues),a}function Yn(a){return(t,n,s,r,o,f)=>(function(d,g){return g?g(d):H2(d)})(s,f)?Q0({wt:t,Re:n,yw:r},s):Q0(a(t,n,s,r,o),s)}function V0(a){return{Candlestick:Yn(F2),Bar:Yn(G2),Area:Yn(V2),Baseline:Yn(P2),Histogram:Yn(H0),Line:Yn(H0),Custom:Yn(X2)}[a]}function P0(a){return{Re:0,Ew:new Map,Hh:a}}function G0(a,t){if(a!==void 0&&a.length!==0)return{Aw:t.key(a[0].wt),zw:t.key(a[a.length-1].wt)}}function F0(a){let t;return a.forEach((n=>{t===void 0&&(t=n.yw)})),Ue(t)}class J2{constructor(t){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=t}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(t,n){let s=this.Lw.size!==0,r=!1;const o=this.Ow.get(t);if(o!==void 0)if(this.Ow.size===1)s=!1,r=!0,this.Lw.clear();else for(const g of this.Fw)g.pointData.Ew.delete(t)&&(r=!0);let f=[];if(n.length!==0){const g=n.map((T=>T.time)),m=this.o_.createConverterToInternalObj(n),y=V0(t.Rr()),v=t.ca(),S=t.fa();f=n.map(((T,w)=>{const M=m(T.time),O=this.o_.key(M);let B=this.Lw.get(O);B===void 0&&(B=P0(M),this.Lw.set(O,B),r=!0);const Z=y(M,B.Re,T,g[w],v,S);return B.Ew.set(t,Z),Z}))}s&&this.Hw(),this.Uw(t,f);let d=-1;if(r){const g=[];this.Lw.forEach((m=>{g.push({timeWeight:0,time:m.Hh,pointData:m,originalTime:F0(m.Ew)})})),g.sort(((m,y)=>this.o_.key(m.time)-this.o_.key(y.time))),d=this.$w(g)}return this.qw(t,d,(function(g,m,y){const v=G0(g,y),S=G0(m,y);if(v!==void 0&&S!==void 0)return{Yw:!1,zh:v.zw>=S.zw&&v.Aw>=S.Aw}})(this.Ow.get(t),o,this.o_))}Ac(t){return this.Ww(t,[])}jw(t,n,s){const r=n;(function(O){O.yw===void 0&&(O.yw=O.time)})(r),this.o_.preprocessData(n);const o=this.o_.createConverterToInternalObj([n])(n.time),f=this.Nw.get(t);if(!s&&f!==void 0&&this.o_.key(o)<this.o_.key(f))throw new Error(`Cannot update oldest data, last time=${f}, new time=${o}`);let d=this.Lw.get(this.o_.key(o));if(s&&d===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const g=d===void 0;d===void 0&&(d=P0(o),this.Lw.set(this.o_.key(o),d));const m=V0(t.Rr()),y=t.ca(),v=t.fa(),S=m(o,d.Re,n,r.yw,y,v);d.Ew.set(t,S),s?this.Kw(t,S,d.Re):this.Xw(t,S);const T={zh:Hl(S),Yw:s};if(!g)return this.qw(t,-1,T);const w={timeWeight:0,time:d.Hh,pointData:d,originalTime:F0(d.Ew)},M=Ls(this.Fw,this.o_.key(w.time),((O,B)=>this.o_.key(O.time)<B));this.Fw.splice(M,0,w);for(let O=M;O<this.Fw.length;++O)jr(this.Fw[O].pointData,O);return this.o_.fillWeightsForPoints(this.Fw,M),this.qw(t,M,T)}Zw(t,n){const s=this.Ow.get(t);if(s===void 0||n<=0)return[[],this.Gw()];n=Math.min(n,s.length);const r=s.splice(-n).reverse();s.length===0?this.Nw.delete(t):this.Nw.set(t,s[s.length-1].wt);for(const o of r){const f=this.Lw.get(this.o_.key(o.wt));if(f&&(f.Ew.delete(t),f.Ew.size===0)){this.Lw.delete(this.o_.key(f.Hh)),this.Fw.splice(f.Re,1);for(let d=f.Re;d<this.Fw.length;++d)jr(this.Fw[d].pointData,d)}}return[r,this.qw(t,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(t,n){let s=this.Ow.get(t);s===void 0&&(s=[],this.Ow.set(t,s));const r=s.length!==0?s[s.length-1]:null;r===null||this.o_.key(n.wt)>this.o_.key(r.wt)?Hl(n)&&s.push(n):Hl(n)?s[s.length-1]=n:s.splice(-1,1),this.Nw.set(t,n.wt)}Kw(t,n,s){const r=this.Ow.get(t);if(r===void 0)return;const o=Ls(r,s,((f,d)=>f.Re<d));Hl(n)?r[o]=n:r.splice(o,1)}Uw(t,n){n.length!==0?(this.Ow.set(t,n.filter(Hl)),this.Nw.set(t,n[n.length-1].wt)):(this.Ow.delete(t),this.Nw.delete(t))}Hw(){for(const t of this.Fw)t.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(t.time))}$w(t){let n=-1;for(let s=0;s<this.Fw.length&&s<t.length;++s){const r=this.Fw[s],o=t[s];if(this.o_.key(r.time)!==this.o_.key(o.time)){n=s;break}o.timeWeight=r.timeWeight,jr(o.pointData,s)}if(n===-1&&this.Fw.length!==t.length&&(n=Math.min(this.Fw.length,t.length)),n===-1)return-1;for(let s=n;s<t.length;++s)jr(t[s].pointData,s);return this.o_.fillWeightsForPoints(t,n),this.Fw=t,n}Jw(){if(this.Ow.size===0)return null;let t=0;return this.Ow.forEach((n=>{n.length!==0&&(t=Math.max(t,n[n.length-1].Re))})),t}qw(t,n,s){const r=this.Gw();if(n!==-1)this.Ow.forEach(((o,f)=>{r.Oo.set(f,{se:o,Qw:f===t?s:void 0})})),this.Ow.has(t)||r.Oo.set(t,{se:[],Qw:s}),r.Et.tg=this.Fw,r.Et.ig=n;else{const o=this.Ow.get(t);r.Oo.set(t,{se:o||[],Qw:s})}return r}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function jr(a,t){a.Re=t,a.Ew.forEach((n=>{n.Re=t}))}function Z2(a,t){return a.wt<t}function K2(a,t){return t<a.wt}function vy(a,t,n){const s=t.Uh(),r=t.bi(),o=Ls(a,s,Z2),f=cy(a,r,K2);if(!n)return{from:o,to:f};let d=o,g=f;return o>0&&o<a.length&&a[o].wt>=s&&(d=o-1),f>0&&f<a.length&&a[f-1].wt<=r&&(g=f+1),{from:d,to:g}}class bh{constructor(t,n,s){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=t,this.Qn=n,this.ag=s}yt(t){this.sg=!0,t==="data"&&(this.ng=!0),t==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const t=this.Jn.Ft(),n=this.Qn.Et();if(this.ug(),n.Ki()||t.Ki())return;const s=n.Pe();if(s===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.hg=vy(this.rg,s,this.ag),this.fg(t,n,r.Wt),this.pg())}}class W2{constructor(t,n){this.vg=t,this.Yi=n}nt(t,n,s){this.vg.draw(t,this.Yi,n,s)}}class I2 extends bh{constructor(t,n,s){super(t,n,!1),this.sh=s,this.og=new W2(this.sh.renderer(),(r=>{const o=t.zt();return o===null?null:t.Ft().Nt(r,o.Wt)}))}da(t){return this.sh.priceValueBuilder(t)}pa(t){return this.sh.isWhitespace(t)}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((n=>({wt:n.Re,_t:NaN,...t.Dr(n.Re),mg:n.se})))}fg(t,n){n.uu(this.rg,Wl(this.hg))}pg(){this.sh.update({bars:this.rg.map($2),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function $2(a){return{x:a._t,time:a.wt,originalData:a.mg,barColor:a.cr}}const tE={color:"#2196f3"},eE=(a,t,n)=>{const s=mn(n);return new I2(a,t,s)};function xh(a){const t={value:a.Wt[3],time:a.yw};return a.Iw!==void 0&&(t.customValues=a.Iw),t}function X0(a){const t=xh(a);return a.R!==void 0&&(t.color=a.R),t}function iE(a){const t=xh(a);return a.vt!==void 0&&(t.lineColor=a.vt),a.mr!==void 0&&(t.topColor=a.mr),a.wr!==void 0&&(t.bottomColor=a.wr),t}function nE(a){const t=xh(a);return a.gr!==void 0&&(t.topLineColor=a.gr),a.Mr!==void 0&&(t.bottomLineColor=a.Mr),a.br!==void 0&&(t.topFillColor1=a.br),a.Sr!==void 0&&(t.topFillColor2=a.Sr),a.Cr!==void 0&&(t.bottomFillColor1=a.Cr),a.Pr!==void 0&&(t.bottomFillColor2=a.Pr),t}function by(a){const t={open:a.Wt[0],high:a.Wt[1],low:a.Wt[2],close:a.Wt[3],time:a.yw};return a.Iw!==void 0&&(t.customValues=a.Iw),t}function sE(a){const t=by(a);return a.R!==void 0&&(t.color=a.R),t}function lE(a){const t=by(a),{R:n,Ht:s,vr:r}=a;return n!==void 0&&(t.color=n),s!==void 0&&(t.borderColor=s),r!==void 0&&(t.wickColor=r),t}function kr(a){return{Area:iE,Line:X0,Baseline:nE,Histogram:X0,Bar:sE,Candlestick:lE,Custom:aE}[a]}function aE(a){const t=a.yw;return{...a.se,time:t}}const rE={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},uE={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},oE={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:iy,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Pc={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},cE={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function J0(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:oE,crosshair:rE,grid:uE,overlayPriceScales:{...Pc},leftPriceScale:{...Pc,visible:!1},rightPriceScale:{...Pc,visible:!0},timeScale:cE,localization:{locale:ks?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class xy{constructor(t,n,s){this.Hf=t,this.wg=n,this.gg=s??0}applyOptions(t){this.Hf.Qt().oc(this.wg,t,this.gg)}options(){return this.Yi().N()}width(){return iu(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Fl(new Ee(t.from,t.to))}getVisibleRange(){let t,n,s=this.Yi().Qe();if(s===null)return null;if(this.Yi().Ja()){const r=this.Yi().fo(),o=gy(r);s=js(s,this.Yi().tl()),t=Number((Math.round(s.$e()/r)*r).toFixed(o)),n=Number((Math.round(s.qe()/r)*r).toFixed(o))}else t=s.$e(),n=s.qe();return{from:t,to:n}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return J(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class hE{constructor(t,n,s,r){this.Hf=t,this.Pt=s,this.Mg=n,this.bg=r}getHeight(){return this.Pt.$t()}setHeight(t){const n=this.Hf.Qt(),s=n.Uc(this.Pt);n.vc(s,t)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(t){this.Pt.Io(t),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(t){const n=this.paneIndex();n!==t&&(ve(t>=0&&t<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(n,t))}getSeries(){return this.Pt.Oo().map((t=>this.Mg(t)))??[]}getHTMLElement(){const t=this.Hf.$f();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Zf():null}attachPrimitive(t){this.Pt._a(t),t.attached&&t.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(t){this.Pt.ua(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new xy(this.Hf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,n={},s=0){return this.bg.addCustomSeries(t,n,s)}addSeries(t,n={}){return this.bg.addSeries(t,n,this.paneIndex())}}const fE={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Z0{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Sg(){return this.ir}}class dE{constructor(t,n,s,r,o,f){this.xg=new ie,this.Jn=t,this.Cg=n,this.Pg=s,this.o_=o,this.bg=r,this.yg=f}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(t){const n=this.Jn.zt();return n===null?null:this.Jn.Ft().Nt(t,n.Wt)}coordinateToPrice(t){const n=this.Jn.zt();return n===null?null:this.Jn.Ft().Ts(t,n.Wt)}barsInLogicalRange(t){if(t===null)return null;const n=new Us(new Ys(t.from,t.to)).y_(),s=this.Jn.Xs();if(s.Ki())return null;const r=s.Fr(n.Uh(),1),o=s.Fr(n.bi(),-1),f=J(s.Lr()),d=J(s.Ks());if(r!==null&&o!==null&&r.Re>o.Re)return{barsBefore:t.from-f,barsAfter:d-t.to};const g={barsBefore:r===null||r.Re===f?t.from-f:r.Re-f,barsAfter:o===null||o.Re===d?d-t.to:d-o.Re};return r!==null&&o!==null&&(g.from=r.yw,g.to=o.yw),g}setData(t){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,t),this.Tg("full")}update(t,n=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,t,n),this.Tg("update")}pop(t=1){const n=this.Cg.Dg(this.Jn,t);n.length!==0&&this.Tg("update");const s=kr(this.seriesType());return n.map((r=>s(r)))}dataByIndex(t,n){const s=this.Jn.Xs().Fr(t,n);return s===null?null:kr(this.seriesType())(s)}data(){const t=kr(this.seriesType());return this.Jn.Xs().Hr().map((n=>t(n)))}subscribeDataChanged(t){this.xg.i(t)}unsubscribeDataChanged(t){this.xg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Bi(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(t){const n=Ge(Bi(fE),t),s=this.Jn.Oh(n);return new Z0(s)}removePriceLine(t){this.Jn.Nh(t.Sg())}priceLines(){return this.Jn.Fh().map((t=>new Z0(t)))}seriesType(){return this.Jn.Rr()}lastValueData(t){const n=this.Jn.ye(t);return n.ke?{noData:!0}:{noData:!1,price:n.gt,color:n.R}}attachPrimitive(t){this.Jn._a(t),t.attached&&t.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ua(t),t.detached&&t.detached(),this.Jn.Qt().Ih()}getPane(){const t=this.Jn,n=J(this.Jn.Qt().Hn(t));return this.yg(n)}moveToPane(t){this.Jn.Qt().Nc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const n=this.Jn.Qt().Hn(this.Jn);n!==null&&n.Qo(this.Jn,t)}Tg(t){this.xg.v()&&this.xg.p(t)}}class mE{constructor(t,n,s){this.Vg=new ie,this.z_=new ie,this.gm=new ie,this.ts=t,this.uh=t.Et(),this.Zm=n,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=s}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(t,n){n?this.uh.Tu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.nu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const n={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},s=this.uh.au(n);this.ts.Lc(s)}getVisibleLogicalRange(){const t=this.uh.su();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){ve(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Lc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(t){const n=this.ts.Et();return n.Ki()?null:n.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.cu(t)}timeToIndex(t,n){const s=this.o_.convertHorzItemToInternal(t);return this.uh.Q_(s,n)}timeToCoordinate(t){const n=this.timeToIndex(t,!1);return n===null?null:this.uh.qt(n)}coordinateToTime(t){const n=this.ts.Et(),s=n.cu(t),r=n.ss(s);return r===null?null:r.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(t){this.Vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.Vg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.gm.i(t)}unsubscribeSizeChange(t){this.gm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Bi(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(t){this.gm.p(t.width,t.height)}}function K0(a){return(function(t){if(Nr(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:r}=t.handleScale;Nr(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),Nr(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const n=t.handleScroll;Nr(n)&&(t.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})})(a),a}class gE{constructor(t,n,s){this.Ag=new Map,this.zg=new Map,this.Lg=new ie,this.Og=new ie,this.Ng=new ie,this.qu=new WeakMap,this.Fg=new J2(n);const r=s===void 0?Bi(J0()):Ge(Bi(J0()),K0(s));this.Wg=n,this.Hf=new q2(t,r,n),this.Hf.Xv().i((f=>{this.Lg.v()&&this.Lg.p(this.Hg(f()))}),this),this.Hf.Zv().i((f=>{this.Og.v()&&this.Og.p(this.Hg(f()))}),this),this.Hf.cc().i((f=>{this.Ng.v()&&this.Ng.p(this.Hg(f()))}),this);const o=this.Hf.Qt();this.Ug=new mE(o,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(t,n,s){this.autoSizeActive()||this.Hf.Jm(t,n,s)}addCustomSeries(t,n={},s=0){const r=(o=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...tE,...o.defaultOptions()},$g:eE,qg:o}))(mn(t));return this.Yg(r,n,s)}addSeries(t,n={},s=0){return this.Yg(t,n,s)}removeSeries(t){const n=Ue(this.Ag.get(t)),s=this.Fg.Ac(n);this.Hf.Qt().Ac(n),this.jg(s),this.Ag.delete(t),this.zg.delete(n)}kg(t,n){this.jg(this.Fg.Ww(t,n))}Rg(t,n,s){this.jg(this.Fg.jw(t,n,s))}Dg(t,n){const[s,r]=this.Fg.Zw(t,n);return s.length!==0&&this.jg(r),s}subscribeClick(t){this.Lg.i(t)}unsubscribeClick(t){this.Lg._(t)}subscribeCrosshairMove(t){this.Ng.i(t)}unsubscribeCrosshairMove(t){this.Ng._(t)}subscribeDblClick(t){this.Og.i(t)}unsubscribeDblClick(t){this.Og._(t)}priceScale(t,n=0){return new xy(this.Hf,t,n)}timeScale(){return this.Ug}applyOptions(t){this.Hf.hr(K0(t))}options(){return this.Hf.N()}takeScreenshot(t=!1,n=!1){let s,r;try{n||(s=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),r=this.Hf.aw(t)}finally{n||s===void 0||this.Hf.Qt().hr({crosshair:{mode:s}})}return r}addPane(t=!1){const n=this.Hf.Qt().$c();return n.zo(t),this.Kg(n)}removePane(t){this.Hf.Qt().fc(t)}swapPanes(t,n){this.Hf.Qt().mc(t,n)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((t=>this.Kg(t)))}paneSize(t=0){const n=this.Hf.pw(t);return{height:n.height,width:n.width}}setCrosshairPosition(t,n,s){const r=this.Ag.get(s);if(r===void 0)return;const o=this.Hf.Qt().Hn(r);o!==null&&this.Hf.Qt().Rc(t,n,o)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(t,n={},s=0){ve(t.$g!==void 0),(function(g){if(g===void 0||g.type==="custom")return;const m=g;m.minMove!==void 0&&m.precision===void 0&&(m.precision=gy(m.minMove))})(n.priceFormat),t.type==="Candlestick"&&(function(g){g.borderColor!==void 0&&(g.borderUpColor=g.borderColor,g.borderDownColor=g.borderColor),g.wickColor!==void 0&&(g.wickUpColor=g.wickColor,g.wickDownColor=g.wickColor)})(n);const r=Ge(Bi(ty),Bi(t.defaultOptions),n),o=t.$g,f=new su(this.Hf.Qt(),t.type,r,o,t.qg);this.Hf.Qt().Ic(f,s);const d=new dE(f,this,this,this,this.Wg,(g=>this.Kg(g)));return this.Ag.set(d,f),this.zg.set(f,d),d}jg(t){const n=this.Hf.Qt();n.Vc(t.Et._u,t.Et.tg,t.Et.ig),t.Oo.forEach(((s,r)=>r.ht(s.se,s.Qw))),n.Et().K_(),n.vu()}Xg(t){return Ue(this.zg.get(t))}Hg(t){const n=new Map;t.Dw.forEach(((r,o)=>{const f=o.Rr(),d=kr(f)(r);if(f!=="Custom")ve(Q2(d));else{const g=o.fa();ve(!g||g(d)===!1)}n.set(this.Xg(o),d)}));const s=t.Rw!==void 0&&this.zg.has(t.Rw)?this.Xg(t.Rw):void 0;return{time:t.yw,logical:t.Re,point:t.kw,paneIndex:t.Tw,hoveredSeries:s,hoveredObjectId:t.Vw,seriesData:n,sourceEvent:t.Bw}}Kg(t){let n=this.qu.get(t);return n||(n=new hE(this.Hf,(s=>this.Xg(s)),t,this),this.qu.set(t,n)),n}}function pE(a){if(la(a)){const t=document.getElementById(a);return ve(t!==null,`Cannot find element in DOM with id=${a}`),t}return a}function yE(a,t,n){const s=pE(a),r=new gE(s,t,n);return t.setOptions(r.options()),r}function vE(a,t){return yE(a,new A0,A0.ld(t))}class Sy extends bh{constructor(t,n){super(t,n,!0)}fg(t,n,s){n.uu(this.rg,Wl(this.hg)),t.Ul(this.rg,s,Wl(this.hg))}Zg(t,n){return{wt:t,gt:n,_t:NaN,ut:NaN}}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((n=>{const s=n.Wt[3];return this.Gg(n.Re,s,t)}))}}function bE(a,t,n,s,r,o,f){if(t.length===0||s.from>=t.length||s.to<=0)return;const{context:d,horizontalPixelRatio:g,verticalPixelRatio:m}=a,y=t[s.from];let v=o(a,y),S=y;if(s.to-s.from<2){const T=r/2;d.beginPath();const w={_t:y._t-T,ut:y.ut},M={_t:y._t+T,ut:y.ut};d.moveTo(w._t*g,w.ut*m),d.lineTo(M._t*g,M.ut*m),f(a,v,w,M)}else{const T=(M,O)=>{f(a,v,S,O),d.beginPath(),v=M,S=O};let w=S;d.beginPath(),d.moveTo(y._t*g,y.ut*m);for(let M=s.from+1;M<s.to;++M){w=t[M];const O=o(a,w);switch(n){case 0:d.lineTo(w._t*g,w.ut*m);break;case 1:d.lineTo(w._t*g,t[M-1].ut*m),O!==v&&(T(O,w),d.lineTo(w._t*g,t[M-1].ut*m)),d.lineTo(w._t*g,w.ut*m);break;case 2:{const[B,Z]=xE(t,M-1,M);d.bezierCurveTo(B._t*g,B.ut*m,Z._t*g,Z.ut*m,w._t*g,w.ut*m);break}}n!==1&&O!==v&&(T(O,w),d.moveTo(w._t*g,w.ut*m))}(S!==w||S===w&&n===1)&&f(a,v,S,w)}}const W0=6;function Gc(a,t){return{_t:a._t-t._t,ut:a.ut-t.ut}}function I0(a,t){return{_t:a._t/t,ut:a.ut/t}}function xE(a,t,n){const s=Math.max(0,t-1),r=Math.min(a.length-1,n+1);var o,f;return[(o=a[t],f=I0(Gc(a[n],a[s]),W0),{_t:o._t+f._t,ut:o.ut+f.ut}),Gc(a[n],I0(Gc(a[r],a[t]),W0))]}function SE(a,t){const n=a.context;n.strokeStyle=t,n.stroke()}class wE extends pn{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(this.rt===null)return;const{ot:n,lt:s,Jg:r,Qg:o,ct:f,Xt:d,tM:g}=this.rt;if(s===null)return;const m=t.context;m.lineCap="butt",m.lineWidth=f*t.verticalPixelRatio,Qn(m,d),m.lineJoin="round";const y=this.iM.bind(this);o!==void 0&&bE(t,n,o,s,r,y,SE),g&&(function(v,S,T,w,M){if(w.to-w.from<=0)return;const{horizontalPixelRatio:O,verticalPixelRatio:B,context:Z}=v;let et=null;const it=Math.max(1,Math.floor(O))%2/2,st=T*B+it;for(let at=w.to-1;at>=w.from;--at){const $=S[at];if($){const ht=M(v,$);ht!==et&&(Z.beginPath(),et!==null&&Z.fill(),Z.fillStyle=ht,et=ht);const vt=Math.round($._t*O)+it,Rt=$.ut*B;Z.moveTo(vt,Rt),Z.arc(vt,Rt,st,0,2*Math.PI)}}Z.fill()})(t,n,g,s,y)}}class EE extends wE{iM(t,n){return n.vt}}class ME extends Sy{constructor(){super(...arguments),this.og=new EE}Gg(t,n,s){return{...this.Zg(t,n),...s.Dr(t)}}pg(){const t=this.Jn.N(),n={ot:this.rg,Xt:t.lineStyle,Qg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,tM:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.hg,Jg:this.Qn.Et().mu()};this.og.ht(n)}}const _E={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(a,t)=>new ME(a,t)};class TE extends bh{constructor(t,n){super(t,n,!1)}fg(t,n,s){n.uu(this.rg,Wl(this.hg)),t.ql(this.rg,s,Wl(this.hg))}VM(t,n,s){return{wt:t,qh:n.Wt[0],Yh:n.Wt[1],jh:n.Wt[2],Kh:n.Wt[3],_t:NaN,Yl:NaN,jl:NaN,Kl:NaN,Xl:NaN}}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((n=>this.Gg(n.Re,n,t)))}}class NE extends pn{constructor(){super(...arguments),this.Yt=null,this.yM=0}ht(t){this.Yt=t}et(t){if(this.Yt===null||this.Yt.Xs.length===0||this.Yt.lt===null)return;const{horizontalPixelRatio:n}=t;this.yM=(function(o,f){if(o>=2.5&&o<=4)return Math.floor(3*f);const d=1-.2*Math.atan(Math.max(4,o)-4)/(.5*Math.PI),g=Math.floor(o*d*f),m=Math.floor(o*f),y=Math.min(g,m);return Math.max(Math.floor(f),y)})(this.Yt.mu,n),this.yM>=2&&Math.floor(n)%2!=this.yM%2&&this.yM--;const s=this.Yt.Xs;this.Yt.BM&&this.IM(t,s,this.Yt.lt),this.Yt.Mi&&this.uv(t,s,this.Yt.lt);const r=this.EM(n);(!this.Yt.Mi||this.yM>2*r)&&this.AM(t,s,this.Yt.lt)}IM(t,n,s){if(this.Yt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:f}=t;let d="",g=Math.min(Math.floor(o),Math.floor(this.Yt.mu*o));g=Math.max(Math.floor(o),Math.min(g,this.yM));const m=Math.floor(.5*g);let y=null;for(let v=s.from;v<s.to;v++){const S=n[v];S.pr!==d&&(r.fillStyle=S.pr,d=S.pr);const T=Math.round(Math.min(S.Yl,S.Xl)*f),w=Math.round(Math.max(S.Yl,S.Xl)*f),M=Math.round(S.jl*f),O=Math.round(S.Kl*f);let B=Math.round(o*S._t)-m;const Z=B+g-1;y!==null&&(B=Math.max(y+1,B),B=Math.min(B,Z));const et=Z-B+1;r.fillRect(B,M,et,T-M),r.fillRect(B,w+1,et,O-w),y=Z}}EM(t){let n=Math.floor(1*t);this.yM<=2*n&&(n=Math.floor(.5*(this.yM-1)));const s=Math.max(Math.floor(t),n);return this.yM<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}uv(t,n,s){if(this.Yt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:f}=t;let d="";const g=this.EM(o);let m=null;for(let y=s.from;y<s.to;y++){const v=n[y];v.dr!==d&&(r.fillStyle=v.dr,d=v.dr);let S=Math.round(v._t*o)-Math.floor(.5*this.yM);const T=S+this.yM-1,w=Math.round(Math.min(v.Yl,v.Xl)*f),M=Math.round(Math.max(v.Yl,v.Xl)*f);if(m!==null&&(S=Math.max(m+1,S),S=Math.min(S,T)),this.Yt.mu*o>2*g)Dw(r,S,w,T-S+1,M-w+1,g);else{const O=T-S+1;r.fillRect(S,w,O,M-w+1)}m=T}}AM(t,n,s){if(this.Yt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:f}=t;let d="";const g=this.EM(o);for(let m=s.from;m<s.to;m++){const y=n[m];let v=Math.round(Math.min(y.Yl,y.Xl)*f),S=Math.round(Math.max(y.Yl,y.Xl)*f),T=Math.round(y._t*o)-Math.floor(.5*this.yM),w=T+this.yM-1;if(y.cr!==d){const M=y.cr;r.fillStyle=M,d=M}this.Yt.Mi&&(T+=g,v+=g,w-=g,S-=g),v>S||r.fillRect(T,v,w-T+1,S-v+1)}}}class CE extends TE{constructor(){super(...arguments),this.og=new NE}Gg(t,n,s){return{...this.VM(t,n,s),...s.Dr(t)}}pg(){const t=this.Jn.N();this.og.ht({Xs:this.rg,mu:this.Qn.Et().mu(),BM:t.wickVisible,Mi:t.borderVisible,lt:this.hg})}}const OE={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$g:(a,t)=>new CE(a,t)};class zE extends pn{constructor(){super(...arguments),this.Yt=null,this.zM=[]}ht(t){this.Yt=t,this.zM=[]}et({context:t,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return;this.zM.length||this.LM(n);const r=Math.max(1,Math.floor(s)),o=Math.round(this.Yt.OM*s)-Math.floor(r/2),f=o+r;for(let d=this.Yt.lt.from;d<this.Yt.lt.to;d++){const g=this.Yt.ot[d],m=this.zM[d-this.Yt.lt.from],y=Math.round(g.ut*s);let v,S;t.fillStyle=g.cr,y<=o?(v=y,S=f):(v=o,S=y-Math.floor(r/2)+r),t.fillRect(m.Uh,v,m.bi-m.Uh+1,S-v)}}LM(t){if(this.Yt===null||this.Yt.ot.length===0||this.Yt.lt===null)return void(this.zM=[]);const n=Math.ceil(this.Yt.mu*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.Yt.mu*t)-n;this.zM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let o=this.Yt.lt.from;o<this.Yt.lt.to;o++){const f=this.Yt.ot[o],d=Math.round(f._t*t);let g,m;if(s%2){const y=(s-1)/2;g=d-y,m=d+y}else{const y=s/2;g=d-y,m=d+y-1}this.zM[o-this.Yt.lt.from]={Uh:g,bi:m,NM:d,ne:f._t*t,wt:f.wt}}for(let o=this.Yt.lt.from+1;o<this.Yt.lt.to;o++){const f=this.zM[o-this.Yt.lt.from],d=this.zM[o-this.Yt.lt.from-1];f.wt===d.wt+1&&f.Uh-d.bi!==n+1&&(d.NM>d.ne?d.bi=f.Uh-n-1:f.Uh=d.bi+n+1)}let r=Math.ceil(this.Yt.mu*t);for(let o=this.Yt.lt.from;o<this.Yt.lt.to;o++){const f=this.zM[o-this.Yt.lt.from];f.bi<f.Uh&&(f.bi=f.Uh);const d=f.bi-f.Uh+1;r=Math.min(d,r)}if(n>0&&r<4)for(let o=this.Yt.lt.from;o<this.Yt.lt.to;o++){const f=this.zM[o-this.Yt.lt.from];f.bi-f.Uh+1>r&&(f.NM>f.ne?f.bi-=1:f.Uh+=1)}}}class DE extends Sy{constructor(){super(...arguments),this.og=new zE}Gg(t,n,s){return{...this.Zg(t,n),...s.Dr(t)}}pg(){const t={ot:this.rg,mu:this.Qn.Et().mu(),lt:this.hg,OM:this.Jn.Ft().Nt(this.Jn.N().base,J(this.Jn.zt()).Wt)};this.og.ht(t)}}const RE={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},$g:(a,t)=>new DE(a,t)};class AE{constructor(t,n){this.Jn=t,this.ah=n,this.WM()}detach(){this.Jn.detachPrimitive(this.ah)}getSeries(){return this.Jn}applyOptions(t){this.ah&&this.ah.hr&&this.ah.hr(t)}WM(){this.Jn.attachPrimitive(this.ah)}}const jE={autoScale:!0,zOrder:"normal"};function Xl(a,t){return gh(Math.min(Math.max(a,12),30)*t)}function qs(a,t){switch(a){case"arrowDown":case"arrowUp":return Xl(t,1);case"circle":return Xl(t,.8);case"square":return Xl(t,.7)}}function wy(a){return(function(t){const n=Math.ceil(t);return n%2!=0?n-1:n})(Xl(a,1))}function Ey(a){return Math.max(Xl(a,.1),3)}function $0(a,t,n){return t?a:n?Math.ceil(a/2):0}function tp(a,t,n,s){const r=(qs("arrowUp",s)-1)/2*n._b,o=(gh(s/2)-1)/2*n._b;t.beginPath(),a?(t.moveTo(n._t-r,n.ut),t.lineTo(n._t,n.ut-r),t.lineTo(n._t+r,n.ut),t.lineTo(n._t+o,n.ut),t.lineTo(n._t+o,n.ut+r),t.lineTo(n._t-o,n.ut+r),t.lineTo(n._t-o,n.ut)):(t.moveTo(n._t-r,n.ut),t.lineTo(n._t,n.ut+r),t.lineTo(n._t+r,n.ut),t.lineTo(n._t+o,n.ut),t.lineTo(n._t+o,n.ut-r),t.lineTo(n._t-o,n.ut-r),t.lineTo(n._t-o,n.ut)),t.fill()}function ep(a,t,n,s,r,o){const f=(qs("arrowUp",s)-1)/2,d=(gh(s/2)-1)/2;return r>=t-d-2&&r<=t+d+2&&o>=(a?n:n-f)-2&&o<=(a?n+f:n)+2?!0:(()=>{if(r<t-f-3||r>t+f+3||o<(a?n-f-3:n)||o>(a?n:n+f+3))return!1;const g=Math.abs(r-t);return Math.abs(o-n)+3>=g/2})()}class YE{constructor(){this.Yt=null,this.On=new $l,this.F=-1,this.W="",this.Wp="",this.ub="normal"}ht(t){this.Yt=t}Nn(t,n,s){this.F===t&&this.W===n||(this.F=t,this.W=n,this.Wp=Il(t,n),this.On.Bn()),this.ub=s}jn(t,n){if(this.Yt===null||this.Yt.lt===null)return null;for(let s=this.Yt.lt.from;s<this.Yt.lt.to;s++){const r=this.Yt.ot[s];if(r&&BE(r,t,n))return{zOrder:"normal",externalId:r.Kn??""}}return null}draw(t){this.ub!=="aboveSeries"&&t.useBitmapCoordinateSpace((n=>{this.et(n)}))}drawBackground(t){this.ub==="aboveSeries"&&t.useBitmapCoordinateSpace((n=>{this.et(n)}))}et({context:t,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.Yt!==null&&this.Yt.lt!==null){t.textBaseline="middle",t.font=this.Wp;for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const o=this.Yt.ot[r];o.ri!==void 0&&(o.ri.Qi=this.On.Vi(t,o.ri.cb),o.ri.$t=this.F,o.ri._t=o._t-o.ri.Qi/2),UE(o,t,n,s)}}}}function UE(a,t,n,s){t.fillStyle=a.R,a.ri!==void 0&&(function(r,o,f,d,g,m){r.save(),r.scale(g,m),r.fillText(o,f,d),r.restore()})(t,a.ri.cb,a.ri._t,a.ri.ut,n,s),(function(r,o,f){if(r.zr!==0){switch(r.fb){case"arrowDown":return void tp(!1,o,f,r.zr);case"arrowUp":return void tp(!0,o,f,r.zr);case"circle":return void(function(d,g,m){const y=(qs("circle",m)-1)/2;d.beginPath(),d.arc(g._t,g.ut,y*g._b,0,2*Math.PI,!1),d.fill()})(o,f,r.zr);case"square":return void(function(d,g,m){const y=qs("square",m),v=(y-1)*g._b/2,S=g._t-v,T=g.ut-v;d.fillRect(S,T,y*g._b,y*g._b)})(o,f,r.zr)}r.fb}})(a,t,(function(r,o,f){const d=Math.max(1,Math.floor(o))%2/2;return{_t:Math.round(r._t*o)+d,ut:r.ut*f,_b:o}})(a,n,s))}function BE(a,t,n){return!(a.ri===void 0||!(function(s,r,o,f,d,g){const m=f/2;return d>=s&&d<=s+o&&g>=r-m&&g<=r+m})(a.ri._t,a.ri.ut,a.ri.Qi,a.ri.$t,t,n))||(function(s,r,o){if(s.zr===0)return!1;switch(s.fb){case"arrowDown":return ep(!0,s._t,s.ut,s.zr,r,o);case"arrowUp":return ep(!1,s._t,s.ut,s.zr,r,o);case"circle":return(function(f,d,g,m,y){const v=2+qs("circle",g)/2,S=f-m,T=d-y;return Math.sqrt(S*S+T*T)<=v})(s._t,s.ut,s.zr,r,o);case"square":return(function(f,d,g,m,y){const v=qs("square",g),S=(v-1)/2,T=f-S,w=d-S;return m>=T&&m<=T+v&&y>=w&&y<=w+v})(s._t,s.ut,s.zr,r,o)}})(a,t,n)}function ip(a){return a==="atPriceTop"||a==="atPriceBottom"||a==="atPriceMiddle"}function LE(a,t,n,s,r,o,f,d){const g=(function(w,M,O){if(ip(M.position)&&M.price!==void 0)return M.price;if("value"in(B=w)&&typeof B.value=="number")return w.value;var B;if((function(Z){return"open"in Z&&"high"in Z&&"low"in Z&&"close"in Z})(w)){if(M.position==="inBar")return w.close;if(M.position==="aboveBar")return O?w.low:w.high;if(M.position==="belowBar")return O?w.high:w.low}})(n,t,f.priceScale().options().invertScale);if(g===void 0)return;const m=ip(t.position),y=d.timeScale(),v=Vn(t.size)?Math.max(t.size,0):1,S=wy(y.options().barSpacing)*v,T=S/2;switch(a.zr=S,t.position){case"inBar":case"atPriceMiddle":return a.ut=J(f.priceToCoordinate(g)),void(a.ri!==void 0&&(a.ri.ut=a.ut+T+o+.6*r));case"aboveBar":case"atPriceTop":{const w=m?0:s.pb;return a.ut=J(f.priceToCoordinate(g))-T-w,a.ri!==void 0&&(a.ri.ut=a.ut-T-.6*r,s.pb+=1.2*r),void(m||(s.pb+=S+o))}case"belowBar":case"atPriceBottom":{const w=m?0:s.mb;return a.ut=J(f.priceToCoordinate(g))+T+w,a.ri!==void 0&&(a.ri.ut=a.ut+T+o+.6*r,s.mb+=1.2*r),void(m||(s.mb+=S+o))}}}class kE{constructor(t,n,s){this.wb=[],this.xt=!0,this.gb=!0,this.Gt=new YE,this.ge=t,this.Vp=n,this.Yt={ot:[],lt:null},this.Ps=s}renderer(){if(!this.ge.options().visible)return null;this.xt&&this.Mb();const t=this.Vp.options().layout;return this.Gt.Nn(t.fontSize,t.fontFamily,this.Ps.zOrder),this.Gt.ht(this.Yt),this.Gt}bb(t){this.wb=t,this.yt("data")}yt(t){this.xt=!0,t==="data"&&(this.gb=!0)}Sb(t){this.xt=!0,this.Ps=t}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}Mb(){const t=this.Vp.timeScale(),n=this.wb;this.gb&&(this.Yt.ot=n.map((m=>({wt:m.time,_t:0,ut:0,zr:0,fb:m.shape,R:m.color,Kn:m.id,xb:m.xb,ri:void 0}))),this.gb=!1);const s=this.Vp.options().layout;this.Yt.lt=null;const r=t.getVisibleLogicalRange();if(r===null)return;const o=new Ys(Math.floor(r.from),Math.ceil(r.to));if(this.ge.data()[0]===null||this.Yt.ot.length===0)return;let f=NaN;const d=Ey(t.options().barSpacing),g={pb:d,mb:d};this.Yt.lt=vy(this.Yt.ot,o,!0);for(let m=this.Yt.lt.from;m<this.Yt.lt.to;m++){const y=n[m];y.time!==f&&(g.pb=d,g.mb=d,f=y.time);const v=this.Yt.ot[m];v._t=J(t.logicalToCoordinate(y.time)),y.text!==void 0&&y.text.length>0&&(v.ri={cb:y.text,_t:0,ut:0,Qi:0,$t:0});const S=this.ge.dataByIndex(y.time,0);S!==null&&LE(v,y,S,g,s.fontSize,d,this.ge,this.Vp)}this.xt=!1}}function np(a){return{...jE,...a}}class qE{constructor(t){this.sh=null,this.wb=[],this.Cb=[],this.Pb=null,this.ge=null,this.Vp=null,this.yb=!0,this.kb=null,this.Tb=null,this.Rb=null,this.Db=!0,this.Ps=np(t)}attached(t){this.Vb(),this.Vp=t.chart,this.ge=t.series,this.sh=new kE(this.ge,J(this.Vp),this.Ps),this.lb=t.requestUpdate,this.ge.subscribeDataChanged((n=>this.Tg(n))),this.Db=!0,this.jM()}jM(){this.lb&&this.lb()}detached(){this.ge&&this.Pb&&this.ge.unsubscribeDataChanged(this.Pb),this.Vp=null,this.ge=null,this.sh=null,this.Pb=null}bb(t){this.Db=!0,this.wb=t,this.Vb(),this.yb=!0,this.Tb=null,this.jM()}Bb(){return this.wb}paneViews(){return this.sh?[this.sh]:[]}updateAllViews(){this.Ib()}hitTest(t,n){return this.sh?this.sh.renderer()?.jn(t,n)??null:null}autoscaleInfo(t,n){if(this.Ps.autoScale&&this.sh){const s=this.Eb();if(s)return{priceRange:null,margins:s}}return null}hr(t){this.Ps=np({...this.Ps,...t}),this.jM&&this.jM()}Eb(){const t=J(this.Vp).timeScale().options().barSpacing;if(this.yb||t!==this.Rb){if(this.Rb=t,this.wb.length>0){const n=Ey(t),s=1.5*wy(t)+2*n,r=this.Ab();this.kb={above:$0(s,r.aboveBar,r.inBar),below:$0(s,r.belowBar,r.inBar)}}else this.kb=null;this.yb=!1}return this.kb}Ab(){return this.Tb===null&&(this.Tb=this.wb.reduce(((t,n)=>(t[n.position]||(t[n.position]=!0),t)),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.Tb}Vb(){if(!this.Db||!this.Vp||!this.ge)return;const t=this.Vp.timeScale(),n=this.ge?.data();if(t.getVisibleLogicalRange()==null||!this.ge||n.length===0)return void(this.Cb=[]);const s=t.timeToIndex(J(n[0].time),!0);this.Cb=this.wb.map(((r,o)=>{const f=t.timeToIndex(r.time,!0),d=f<s?1:-1,g=J(this.ge).dataByIndex(f,d),m={time:t.timeToIndex(J(g).time,!1),position:r.position,shape:r.shape,color:r.color,id:r.id,xb:o,text:r.text,size:r.size,price:r.price,yw:r.time};if(r.position==="atPriceTop"||r.position==="atPriceBottom"||r.position==="atPriceMiddle"){if(r.price===void 0)throw new Error(`Price is required for position ${r.position}`);return{...m,position:r.position,price:r.price}}return{...m,position:r.position,price:r.price}})),this.Db=!1}Ib(t){this.sh&&(this.Vb(),this.sh.bb(this.Cb),this.sh.Sb(this.Ps),this.sh.yt(t))}Tg(t){this.Db=!0,this.jM()}}class HE extends AE{constructor(t,n,s){super(t,n),s&&this.setMarkers(s)}setMarkers(t){this.ah.bb(t)}markers(){return this.ah.Bb()}}function QE(a,t,n){const s=new HE(a,new qE({}));return t&&s.setMarkers(t),s}({...ty});function VE({activeTool:a,onToolChange:t,activeIndicators:n,onIndicatorToggle:s,onClearDrawings:r,onDeleteSelected:o,onTakeScreenshot:f,hasSelection:d}){const[g,m]=F.useState(!1),y=[{id:"select",icon:ax,label:"Select",shortcut:"V or 1"},{id:"freehand",icon:cx,label:"Free Draw",shortcut:"2"},{id:"trendline",icon:Sx,label:"Trend Line",shortcut:"3"},{id:"horizontal",icon:sx,label:"Horizontal Line",shortcut:"4"},{id:"rectangle",icon:yx,label:"Rectangle",shortcut:"5"},{id:"fibonacci",icon:J1,label:"Fibonacci",shortcut:"6"},{id:"riskReward",icon:bx,label:"Risk/Reward",shortcut:"7"},{id:"text",icon:Ex,label:"Text",shortcut:"8"},{id:"callout",icon:ix,label:"Callout",shortcut:"9"}],v=[{id:"sma21",label:"SMA 21",color:"#2962FF"},{id:"sma60",label:"SMA 60",color:"#FF6D00"},{id:"ema21",label:"EMA 21",color:"#00897B"},{id:"ema60",label:"EMA 60",color:"#D81B60"},{id:"pivotPoints",label:"Pivot Points",color:"#6A1B9A"}];return x.jsxs("div",{className:"bg-white border-b p-3 flex items-center gap-2 flex-wrap",children:[x.jsxs("div",{className:"flex items-center gap-1 border-r pr-3",children:[x.jsx("span",{className:"text-xs font-medium text-gray-600 mr-2",children:"Drawing Tools:"}),y.map(S=>{const T=S.icon,w=a===S.id;return x.jsx("button",{onClick:()=>t(w?"none":S.id),className:`p-2 rounded hover:bg-gray-100 transition-colors ${w?"bg-blue-100 text-blue-600":"text-gray-700"}`,title:`${S.label} (${S.shortcut})`,children:x.jsx(T,{size:18})},S.id)}),x.jsx("button",{onClick:o,disabled:!d,className:`ml-2 px-3 py-1 text-xs rounded ${d?"bg-orange-50 text-orange-600 hover:bg-orange-100":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,title:d?"Delete selected drawing (Delete/Backspace)":"No drawing selected",children:"Delete Selected"}),x.jsx("button",{onClick:r,className:"px-3 py-1 text-xs bg-red-50 text-red-600 rounded hover:bg-red-100",children:"Clear All"})]}),x.jsx("div",{className:"flex items-center gap-1 border-r pr-3",children:x.jsx("button",{onClick:f,className:"p-2 rounded hover:bg-gray-100 transition-colors text-gray-700",title:"Take Chart Screenshot",children:x.jsx(Q1,{size:18})})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Indicators:"}),x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>m(!g),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 rounded hover:bg-gray-200 text-sm",children:[x.jsx(B1,{size:16}),n.filter(S=>S!=="none").length>0&&x.jsxs("span",{className:"text-xs font-semibold text-blue-600",children:["(",n.filter(S=>S!=="none").length,")"]}),x.jsx(wp,{size:14})]}),g&&x.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border rounded-lg shadow-lg p-2 z-10 min-w-[150px]",children:v.map(S=>{const T=n.includes(S.id);return x.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-gray-50 rounded cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:T,onChange:()=>s(S.id),className:"rounded"}),x.jsx("span",{className:"w-3 h-3 rounded",style:{backgroundColor:S.color}}),x.jsx("span",{className:"text-sm",children:S.label})]},S.id)})})]})]}),x.jsxs("div",{className:"ml-auto text-xs text-gray-500",children:[a==="select"&&x.jsx("span",{className:"text-blue-600 font-medium",children:"Click on a drawing to select it"}),a!=="none"&&a!=="select"&&x.jsxs("span",{className:"text-blue-600 font-medium",children:["Click on chart to draw ",y.find(S=>S.id===a)?.label]})]})]})}function sp(a,t){const n=[];if(!a||a.length<t)return console.warn(`Not enough candles for SMA calculation. Need ${t}, have ${a?.length||0}`),n;for(let s=t-1;s<a.length;s++){let r=0;for(let o=0;o<t;o++){if(!a[s-o]||typeof a[s-o].close!="number")return console.warn(`Invalid candle data at index ${s-o}`),n;r+=a[s-o].close}n.push({time:a[s].timestamp,value:r/t})}return n}function lp(a,t){const n=[];if(!a||a.length<t)return console.warn(`Not enough candles for EMA calculation. Need ${t}, have ${a?.length||0}`),n;const s=2/(t+1);let r=0;for(let f=0;f<t;f++){if(!a[f]||typeof a[f].close!="number")return console.warn(`Invalid candle data at index ${f}`),n;r+=a[f].close}let o=r/t;n.push({time:a[t-1].timestamp,value:o});for(let f=t;f<a.length;f++){if(!a[f]||typeof a[f].close!="number"){console.warn(`Invalid candle data at index ${f}`);break}o=(a[f].close-o)*s+o,n.push({time:a[f].timestamp,value:o})}return n}function PE(a){const t=[];if(!a||a.length<5)return console.warn(`Not enough candles for pivot point calculation. Need 5, have ${a?.length||0}`),t;for(let n=4;n<a.length;n++){if(!a[n]||!a[n-1]||!a[n-2]||!a[n-3]){console.warn(`Invalid candle data at index ${n}`);continue}const s=a[n],r=a[n-1],o=a[n-2],f=a[n-3],d=r.close>o.high&&r.close>r.open&&f.close<f.open,g=s.close>r.high&&s.close>s.open,m=s.close>s.open&&r.close>r.open&&r.close<s.close&&o.close<o.open&&(r.low<o.low||o.close<f.low)&&!d,y=o.close<o.open&&(r.low<o.low||o.close<f.low);(m||g)&&y&&t.push({time:s.timestamp,type:"bullish",price:s.low});const S=r.close<o.low&&r.close<r.open&&f.close>f.open,T=s.close<r.low&&s.close<s.open,w=s.close<s.open&&r.close<r.open&&r.close>s.close&&o.close>o.open&&(r.high>o.high||o.close>f.high)&&!S,M=o.close>o.open&&(r.high>o.high||o.close>f.high);(w||T&&M)&&t.push({time:s.timestamp,type:"bearish",price:s.high})}return t}function GE({canvasRef:a,activeTool:t,onToolComplete:n,chartApi:s,seriesApi:r,onTextToolTrigger:o,onCalloutTrigger:f}){const[d,g]=F.useState([]),[m,y]=F.useState([]),[v,S]=F.useState(!1),[T,w]=F.useState(null),[M,O]=F.useState(!1),[B,Z]=F.useState({x:0,y:0}),[et,it]=F.useState(!1),st=F.useRef(t),at=F.useRef(v),$=F.useRef(m),ht=F.useRef(M),vt=F.useRef(B),Rt=F.useRef(T);F.useEffect(()=>{st.current=t},[t]),F.useEffect(()=>{at.current=v},[v]),F.useEffect(()=>{$.current=m},[m]),F.useEffect(()=>{ht.current=M},[M]),F.useEffect(()=>{vt.current=B},[B]),F.useEffect(()=>{Rt.current=T},[T]);const Yt=F.useCallback((N,q)=>{const G=q.getBoundingClientRect(),I=N.clientX-G.left,tt=N.clientY-G.top,ut={x:I,y:tt};if(s&&r){const Mt=s.timeScale().coordinateToLogical(I),Ot=r.coordinateToPrice(tt);Mt!==null&&(ut.time=Mt),Ot!==null&&(ut.price=Ot)}return ut},[s,r]),St=F.useCallback(N=>{if(!s||!r)return N;const q=s.timeScale();let G=N.x;if(N.time!==void 0){const tt=q.logicalToCoordinate(N.time);if(tt!==null)G=tt;else{const ut=q.getVisibleLogicalRange();ut&&(N.time<ut.from?G=-1e4:N.time>ut.to&&(G=1e4))}}let I=N.y;if(N.price!==void 0){const tt=r.priceToCoordinate(N.price);tt!==null&&(I=tt)}return{...N,x:G,y:I}},[s,r]),Ht=(N,q,G,I=8)=>{const tt=G.x-q.x,ut=G.y-q.y,xt=tt*tt+ut*ut;if(xt===0)return Math.hypot(N.x-q.x,N.y-q.y)<=I;let Mt=((N.x-q.x)*tt+(N.y-q.y)*ut)/xt;Mt=Math.max(0,Math.min(1,Mt));const Ot=q.x+Mt*tt,Wt=q.y+Mt*ut;return Math.hypot(N.x-Ot,N.y-Wt)<=I},At=(N,q,G=8)=>Math.abs(N.y-q.y)<=G,Ut=(N,q,G,I=8)=>{const tt=Math.min(q.x,G.x),ut=Math.max(q.x,G.x),xt=Math.min(q.y,G.y),Mt=Math.max(q.y,G.y);if(N.x>=tt&&N.x<=ut&&N.y>=xt&&N.y<=Mt)return!0;const Ot=Math.abs(N.x-tt)<=I&&N.y>=xt&&N.y<=Mt,Wt=Math.abs(N.x-ut)<=I&&N.y>=xt&&N.y<=Mt,_e=Math.abs(N.y-xt)<=I&&N.x>=tt&&N.x<=ut,ni=Math.abs(N.y-Mt)<=I&&N.x>=tt&&N.x<=ut;return Ot||Wt||_e||ni},z=(N,q,G,I=8)=>{const tt=[0,.236,.382,.5,.618,.786,1],ut=Math.min(q.x,G.x),xt=Math.max(q.x,G.x);if(N.x<ut||N.x>xt)return!1;for(const Mt of tt){const Ot=q.y+(G.y-q.y)*Mt;if(Math.abs(N.y-Ot)<=I)return!0}return!1},X=(N,q,G,I=8)=>{const tt=q.y,ut=G.y,xt=ut-tt,Mt=Math.min(q.x,G.x),Ot=Math.max(q.x,G.x);if(N.x<Mt-I||N.x>Ot+I)return!1;if(Math.abs(N.y-tt)<=I||Math.abs(N.y-ut)<=I)return!0;const Wt=[1,2,3];for(const _e of Wt){const ni=tt-xt*_e;if(Math.abs(N.y-ni)<=I)return!0}return!1},nt=(N,q,G=8)=>{for(let I=0;I<q.length-1;I++)if(Ht(N,q[I],q[I+1],G))return!0;return!1},dt=(N,q,G)=>{const I=a.current;if(!I)return!1;const tt=I.getContext("2d");if(!tt)return!1;tt.font="bold 14px Inter, system-ui, sans-serif";const xt=tt.measureText(G).width+10;return N.x>=q.x-5&&N.x<=q.x+xt&&N.y>=q.y-24+5&&N.y<=q.y+5},gt=(N,q,G,I,tt=8)=>{if(Ht(N,q,G,tt))return!0;const ut=a.current;if(!ut)return!1;const xt=ut.getContext("2d");if(!xt)return!1;xt.font="bold 12px Inter, system-ui, sans-serif";const Ot=xt.measureText(I||"Note").width+16,Wt=24;return N.x>=G.x-Ot/2&&N.x<=G.x+Ot/2&&N.y>=G.y-Wt/2&&N.y<=G.y+Wt/2},E=(N,q)=>{if(q.points.length===0||q.type!=="text"&&q.points.length<2)return!1;const G=q.points.map(ut=>St(ut)),I=G[0],tt=G[1]||I;switch(q.type){case"trendline":return Ht(N,I,tt);case"horizontal":return At(N,I);case"rectangle":return Ut(N,I,tt);case"fibonacci":return z(N,I,tt);case"riskReward":return X(N,I,tt);case"freehand":return nt(N,G);case"text":return dt(N,I,q.text||"");case"callout":return gt(N,I,tt,q.text||"");default:return!1}},Y=(N,q)=>{for(let G=q.length-1;G>=0;G--)if(E(N,q[G]))return q[G];return null},K=F.useCallback(()=>{T&&(g(N=>N.filter(q=>q.id!==T)),w(null))},[T]),L=F.useCallback(N=>{switch(N){case"freehand":return"#E91E63";case"trendline":return"#2962FF";case"horizontal":return"#FF6D00";case"rectangle":return"#00897B40";case"fibonacci":return"#9C27B0";case"riskReward":return"#F44336";case"text":return"#212121";case"callout":return"#673AB7";default:return"#000000"}},[]),V=F.useCallback((N,q)=>{const G=`drawing-${Date.now()}-${Math.random()}`,I={id:G,type:"text",points:[N],text:q,color:L("text")};g(tt=>[...tt,I]),w(G)},[L,n]),W=F.useCallback((N,q,G)=>{const I=`drawing-${Date.now()}-${Math.random()}`,tt={id:I,type:"callout",points:[N,q],text:G,color:L("callout")};g(ut=>[...ut,tt]),w(I)},[L,n]),ct=F.useCallback(N=>{if(!a.current||N.button!==0)return!1;const q=Yt(N,a.current);if(st.current==="none")return!1;const G=Y(q,d);if(G){if(G.id===Rt.current){if(st.current==="select"){const tt=G.points.map(ut=>St(ut))[0];Z({x:q.x-tt.x,y:q.y-tt.y}),O(!0)}}else w(G.id),O(!1);return!0}if(st.current==="select")return w(null),O(!1),!1;if(st.current==="text"){if(o)o(q);else{const I=prompt("Enter text:");I&&V(q,I)}return!0}return w(null),O(!1),y([q]),S(!0),!0},[d,Yt,St,o,V]),Bt=F.useCallback(N=>{if(!a.current||!s||!r)return;const q=Yt(N,a.current);if(ht.current&&st.current==="select"&&Rt.current){g(G=>G.map(I=>{if(I.id===Rt.current){const tt=I.points.map(Wt=>St(Wt)),ut={x:q.x-vt.current.x,y:q.y-vt.current.y},xt=ut.x-tt[0].x,Mt=ut.y-tt[0].y,Ot=tt.map(Wt=>{const _e={x:Wt.x+xt,y:Wt.y+Mt},hi=s.timeScale().coordinateToLogical(_e.x),se=r.coordinateToPrice(_e.y);return{..._e,time:hi!==null?hi:Wt.time,price:se!==null?se:Wt.price}});return{...I,points:Ot}}return I}));return}if(st.current==="select"&&Rt.current&&!ht.current){const G=d.find(I=>I.id===Rt.current);G&&E(q,G)?it(!0):it(!1)}!at.current||st.current==="none"||y(G=>G.length===0?[q]:st.current==="freehand"?[...G,q]:["trendline","horizontal","rectangle","fibonacci","riskReward","callout"].includes(st.current)?[G[0],q]:[...G,q])},[d,Yt,St,s,r]),Ct=F.useCallback(()=>{if(ht.current){O(!1);return}if(!(!at.current||st.current==="none")){if($.current.length>=2){if(st.current==="callout"){const G=$.current[0],I=$.current[1];if(f)f(G,I);else{const tt=prompt("Enter text:");tt&&W(G,I,tt)}y([]),S(!1);return}const N=`drawing-${Date.now()}-${Math.random()}`,q={id:N,type:st.current,points:$.current,color:L(st.current)};g(G=>[...G,q]),w(N)}y([]),S(!1),st.current}},[n,L]),Me=(N,q,G,I,tt=2)=>{N.strokeStyle=I,N.lineWidth=tt,N.beginPath(),N.moveTo(q.x,q.y),N.lineTo(G.x,G.y),N.stroke()},ci=(N,q,G,I)=>{N.fillStyle=I,N.strokeStyle=I.replace("40",""),N.lineWidth=2;const tt=G.x-q.x,ut=G.y-q.y;N.fillRect(q.x,q.y,tt,ut),N.strokeRect(q.x,q.y,tt,ut)},Vs=(N,q,G,I)=>{const tt=[0,.236,.382,.5,.618,.786,1],ut=["0%","23.6%","38.2%","50%","61.8%","78.6%","100%"];N.font="12px sans-serif",N.fillStyle=I,tt.forEach((xt,Mt)=>{const Ot=q.y+(G.y-q.y)*xt;N.strokeStyle=I,N.lineWidth=1,N.setLineDash([5,5]),N.beginPath(),N.moveTo(q.x,Ot),N.lineTo(G.x,Ot),N.stroke(),N.setLineDash([]),N.fillText(ut[Mt],G.x+5,Ot+4)})},aa=(N,q,G,I)=>{const tt=q.y,ut=G.y,xt=ut-tt,Mt=Math.min(q.x,G.x),Ot=Math.max(q.x,G.x);N.strokeStyle="#FFC107",N.lineWidth=2,N.setLineDash([]),N.beginPath(),N.moveTo(Mt,tt),N.lineTo(Ot,tt),N.stroke(),N.font="bold 12px Inter, sans-serif",N.fillStyle="#FFC107",N.textAlign="left",N.fillText("ENTRY",Ot+5,tt+4),N.strokeStyle="#F44336",N.lineWidth=2,N.beginPath(),N.moveTo(Mt,ut),N.lineTo(Ot,ut),N.stroke(),N.fillStyle="#F44336",N.fillText("STOP",Ot+5,ut+4),[{ratio:1,color:"#4CAF50",label:"1:1"},{ratio:2,color:"#4CAF50",label:"1:2"},{ratio:3,color:"#2E7D32",label:"1:3"}].forEach(({ratio:_e,color:ni,label:hi})=>{const se=tt-xt*_e;N.strokeStyle=ni,N.lineWidth=1.5,N.setLineDash([5,5]),N.beginPath(),N.moveTo(Mt,se),N.lineTo(Ot,se),N.stroke(),N.setLineDash([]),N.fillStyle=ni,N.fillText(`TP ${hi}`,Ot+5,se+4)}),N.textAlign="start"},vi=(N,q,G,I=2)=>{if(!(q.length<2)){N.strokeStyle=G,N.lineWidth=I,N.lineCap="round",N.lineJoin="round",N.beginPath(),N.moveTo(q[0].x,q[0].y);for(let tt=1;tt<q.length;tt++)N.lineTo(q[tt].x,q[tt].y);N.stroke()}},Ps=(N,q,G,I,tt)=>{N.font="bold 14px Inter, system-ui, sans-serif";const xt=N.measureText(G).width;tt&&(N.fillStyle="#2196F320",N.fillRect(q.x-5,q.y-20,xt+10,25),N.strokeStyle="#2196F3",N.lineWidth=1,N.strokeRect(q.x-5,q.y-20,xt+10,25)),N.fillStyle=I,N.fillText(G,q.x,q.y)},Gs=(N,q,G,I,tt,ut)=>{N.strokeStyle=ut?"#2196F3":tt,N.lineWidth=1.5,N.beginPath(),N.moveTo(q.x,q.y),N.lineTo(G.x,G.y),N.stroke(),N.fillStyle=N.strokeStyle,N.beginPath(),N.arc(q.x,q.y,4,0,Math.PI*2),N.fill(),N.font="bold 12px Inter, system-ui, sans-serif";const Ot=N.measureText(I||"Note").width+8*2,Wt=24;N.fillStyle=ut?"#2196F3":tt;const _e=G.x-Ot/2,ni=G.y-Wt/2;N.beginPath(),N.roundRect(_e,ni,Ot,Wt,4),N.fill(),N.fillStyle="#FFFFFF",N.textAlign="center",N.textBaseline="middle",N.fillText(I||"Note",G.x,G.y),N.textAlign="start",N.textBaseline="alphabetic"},ru=(N,q)=>{N.fillStyle="#2196F3",q.forEach(G=>{G.x<0||G.x>N.canvas.width||G.y<0||G.y>N.canvas.height||(N.beginPath(),N.arc(G.x,G.y,5,0,2*Math.PI),N.fill())})},Fn=F.useCallback((N,q,G=!1)=>{if(q.points.length===0)return;const I=q.points.map(Ot=>St(Ot)),tt=I[0],ut=I[1]||tt,xt=q.color||"#000000",Mt=G?4:2;switch(q.type){case"freehand":vi(N,I,xt,Mt);break;case"trendline":Me(N,tt,ut,xt,Mt);break;case"horizontal":Me(N,{...tt,x:0},{...tt,x:N.canvas.width},xt,Mt);break;case"rectangle":ci(N,tt,ut,xt);break;case"fibonacci":Vs(N,tt,ut,xt);break;case"riskReward":aa(N,tt,ut);break;case"text":Ps(N,tt,q.text||"",xt,G);break;case"callout":Gs(N,tt,ut,q.text||"",xt,G);break}G&&q.type!=="text"&&ru(N,I)},[St]),ki=F.useCallback(()=>{if(!a.current||!s||!r)return;const N=a.current,q=N.getContext("2d");q&&(q.clearRect(0,0,N.width,N.height),d.forEach(G=>{Fn(q,G,G.id===T)}),m.length>=2&&Fn(q,{id:"temp",type:t,points:m,color:L(t)},!1))},[s,r,d,m,T,t,L,Fn,a]);return F.useEffect(()=>{ki()},[ki]),F.useEffect(()=>{if(!s||!r)return;const N=s.timeScale(),q=()=>requestAnimationFrame(()=>ki());return N.subscribeVisibleLogicalRangeChange(q),()=>N.unsubscribeVisibleLogicalRangeChange(q)},[s,r,ki]),{drawings:d,clearDrawings:()=>{g([]),y([]),w(null)},addTextDrawing:V,addCalloutDrawing:W,deleteSelectedDrawing:K,selectedDrawingId:T,isHoveringSelected:et,handleMouseDown:ct,handleMouseMove:Bt,handleMouseUp:Ct}}const My=6048e5,FE=864e5,ap=Symbol.for("constructDateFrom");function gn(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&ap in a?a[ap](t):a instanceof Date?new a.constructor(t):new Date(t)}function oi(a,t){return gn(t||a,a)}let XE={};function au(){return XE}function ta(a,t){const n=au(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=oi(a,t?.in),o=r.getDay(),f=(o<s?7:0)+o-s;return r.setDate(r.getDate()-f),r.setHours(0,0,0,0),r}function Fr(a,t){return ta(a,{...t,weekStartsOn:1})}function _y(a,t){const n=oi(a,t?.in),s=n.getFullYear(),r=gn(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const o=Fr(r),f=gn(n,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const d=Fr(f);return n.getTime()>=o.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function rp(a){const t=oi(a),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+a-+n}function JE(a,...t){const n=gn.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function up(a,t){const n=oi(a,t?.in);return n.setHours(0,0,0,0),n}function ZE(a,t,n){const[s,r]=JE(n?.in,a,t),o=up(s),f=up(r),d=+o-rp(o),g=+f-rp(f);return Math.round((d-g)/FE)}function KE(a,t){const n=_y(a,t),s=gn(a,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Fr(s)}function WE(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function IE(a){return!(!WE(a)&&typeof a!="number"||isNaN(+oi(a)))}function $E(a,t){const n=oi(a,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const tM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eM=(a,t,n)=>{let s;const r=tM[a];return typeof r=="string"?s=r:t===1?s=r.one:s=r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Fc(a){return(t={})=>{const n=t.width?String(t.width):a.defaultWidth;return a.formats[n]||a.formats[a.defaultWidth]}}const iM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lM={date:Fc({formats:iM,defaultWidth:"full"}),time:Fc({formats:nM,defaultWidth:"full"}),dateTime:Fc({formats:sM,defaultWidth:"full"})},aM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rM=(a,t,n,s)=>aM[a];function Ql(a){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let r;if(s==="formatting"&&a.formattingValues){const f=a.defaultFormattingWidth||a.defaultWidth,d=n?.width?String(n.width):f;r=a.formattingValues[d]||a.formattingValues[f]}else{const f=a.defaultWidth,d=n?.width?String(n.width):a.defaultWidth;r=a.values[d]||a.values[f]}const o=a.argumentCallback?a.argumentCallback(t):t;return r[o]}}const uM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mM=(a,t)=>{const n=Number(a),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gM={ordinalNumber:mM,era:Ql({values:uM,defaultWidth:"wide"}),quarter:Ql({values:oM,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Ql({values:cM,defaultWidth:"wide"}),day:Ql({values:hM,defaultWidth:"wide"}),dayPeriod:Ql({values:fM,defaultWidth:"wide",formattingValues:dM,defaultFormattingWidth:"wide"})};function Vl(a){return(t,n={})=>{const s=n.width,r=s&&a.matchPatterns[s]||a.matchPatterns[a.defaultMatchWidth],o=t.match(r);if(!o)return null;const f=o[0],d=s&&a.parsePatterns[s]||a.parsePatterns[a.defaultParseWidth],g=Array.isArray(d)?yM(d,v=>v.test(f)):pM(d,v=>v.test(f));let m;m=a.valueCallback?a.valueCallback(g):g,m=n.valueCallback?n.valueCallback(m):m;const y=t.slice(f.length);return{value:m,rest:y}}}function pM(a,t){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&t(a[n]))return n}function yM(a,t){for(let n=0;n<a.length;n++)if(t(a[n]))return n}function vM(a){return(t,n={})=>{const s=t.match(a.matchPattern);if(!s)return null;const r=s[0],o=t.match(a.parsePattern);if(!o)return null;let f=a.valueCallback?a.valueCallback(o[0]):o[0];f=n.valueCallback?n.valueCallback(f):f;const d=t.slice(r.length);return{value:f,rest:d}}}const bM=/^(\d+)(th|st|nd|rd)?/i,xM=/\d+/i,SM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wM={any:[/^b/i,/^(a|c)/i]},EM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MM={any:[/1/i,/2/i,/3/i,/4/i]},_M={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DM={ordinalNumber:vM({matchPattern:bM,parsePattern:xM,valueCallback:a=>parseInt(a,10)}),era:Vl({matchPatterns:SM,defaultMatchWidth:"wide",parsePatterns:wM,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:MM,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Vl({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:TM,defaultParseWidth:"any"}),day:Vl({matchPatterns:NM,defaultMatchWidth:"wide",parsePatterns:CM,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:OM,defaultMatchWidth:"any",parsePatterns:zM,defaultParseWidth:"any"})},RM={code:"en-US",formatDistance:eM,formatLong:lM,formatRelative:rM,localize:gM,match:DM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AM(a,t){const n=oi(a,t?.in);return ZE(n,$E(n))+1}function jM(a,t){const n=oi(a,t?.in),s=+Fr(n)-+KE(n);return Math.round(s/My)+1}function Ty(a,t){const n=oi(a,t?.in),s=n.getFullYear(),r=au(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,f=gn(t?.in||a,0);f.setFullYear(s+1,0,o),f.setHours(0,0,0,0);const d=ta(f,t),g=gn(t?.in||a,0);g.setFullYear(s,0,o),g.setHours(0,0,0,0);const m=ta(g,t);return+n>=+d?s+1:+n>=+m?s:s-1}function YM(a,t){const n=au(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Ty(a,t),o=gn(t?.in||a,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),ta(o,t)}function UM(a,t){const n=oi(a,t?.in),s=+ta(n,t)-+YM(n,t);return Math.round(s/My)+1}function qt(a,t){const n=a<0?"-":"",s=Math.abs(a).toString().padStart(t,"0");return n+s}const dn={y(a,t){const n=a.getFullYear(),s=n>0?n:1-n;return qt(t==="yy"?s%100:s,t.length)},M(a,t){const n=a.getMonth();return t==="M"?String(n+1):qt(n+1,2)},d(a,t){return qt(a.getDate(),t.length)},a(a,t){const n=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(a,t){return qt(a.getHours()%12||12,t.length)},H(a,t){return qt(a.getHours(),t.length)},m(a,t){return qt(a.getMinutes(),t.length)},s(a,t){return qt(a.getSeconds(),t.length)},S(a,t){const n=t.length,s=a.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return qt(r,t.length)}},Rs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},op={G:function(a,t,n){const s=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(a,t,n){if(t==="yo"){const s=a.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return dn.y(a,t)},Y:function(a,t,n,s){const r=Ty(a,s),o=r>0?r:1-r;if(t==="YY"){const f=o%100;return qt(f,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):qt(o,t.length)},R:function(a,t){const n=_y(a);return qt(n,t.length)},u:function(a,t){const n=a.getFullYear();return qt(n,t.length)},Q:function(a,t,n){const s=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return qt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(a,t,n){const s=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return qt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(a,t,n){const s=a.getMonth();switch(t){case"M":case"MM":return dn.M(a,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(a,t,n){const s=a.getMonth();switch(t){case"L":return String(s+1);case"LL":return qt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(a,t,n,s){const r=UM(a,s);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):qt(r,t.length)},I:function(a,t,n){const s=jM(a);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):qt(s,t.length)},d:function(a,t,n){return t==="do"?n.ordinalNumber(a.getDate(),{unit:"date"}):dn.d(a,t)},D:function(a,t,n){const s=AM(a);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):qt(s,t.length)},E:function(a,t,n){const s=a.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(a,t,n,s){const r=a.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return qt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(a,t,n,s){const r=a.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return qt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(a,t,n){const s=a.getDay(),r=s===0?7:s;switch(t){case"i":return String(r);case"ii":return qt(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(a,t,n){const r=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(a,t,n){const s=a.getHours();let r;switch(s===12?r=Rs.noon:s===0?r=Rs.midnight:r=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(a,t,n){const s=a.getHours();let r;switch(s>=17?r=Rs.evening:s>=12?r=Rs.afternoon:s>=4?r=Rs.morning:r=Rs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(a,t,n){if(t==="ho"){let s=a.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return dn.h(a,t)},H:function(a,t,n){return t==="Ho"?n.ordinalNumber(a.getHours(),{unit:"hour"}):dn.H(a,t)},K:function(a,t,n){const s=a.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):qt(s,t.length)},k:function(a,t,n){let s=a.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):qt(s,t.length)},m:function(a,t,n){return t==="mo"?n.ordinalNumber(a.getMinutes(),{unit:"minute"}):dn.m(a,t)},s:function(a,t,n){return t==="so"?n.ordinalNumber(a.getSeconds(),{unit:"second"}):dn.s(a,t)},S:function(a,t){return dn.S(a,t)},X:function(a,t,n){const s=a.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return hp(s);case"XXXX":case"XX":return Un(s);case"XXXXX":case"XXX":default:return Un(s,":")}},x:function(a,t,n){const s=a.getTimezoneOffset();switch(t){case"x":return hp(s);case"xxxx":case"xx":return Un(s);case"xxxxx":case"xxx":default:return Un(s,":")}},O:function(a,t,n){const s=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cp(s,":");case"OOOO":default:return"GMT"+Un(s,":")}},z:function(a,t,n){const s=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cp(s,":");case"zzzz":default:return"GMT"+Un(s,":")}},t:function(a,t,n){const s=Math.trunc(+a/1e3);return qt(s,t.length)},T:function(a,t,n){return qt(+a,t.length)}};function cp(a,t=""){const n=a>0?"-":"+",s=Math.abs(a),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+t+qt(o,2)}function hp(a,t){return a%60===0?(a>0?"-":"+")+qt(Math.abs(a)/60,2):Un(a,t)}function Un(a,t=""){const n=a>0?"-":"+",s=Math.abs(a),r=qt(Math.trunc(s/60),2),o=qt(s%60,2);return n+r+t+o}const fp=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ny=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BM=(a,t)=>{const n=a.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return fp(a,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",fp(s,t)).replace("{{time}}",Ny(r,t))},LM={p:Ny,P:BM},kM=/^D+$/,qM=/^Y+$/,HM=["D","DD","YY","YYYY"];function QM(a){return kM.test(a)}function VM(a){return qM.test(a)}function PM(a,t,n){const s=GM(a,t,n);if(console.warn(s),HM.includes(a))throw new RangeError(s)}function GM(a,t,n){const s=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JM=/^'([^]*?)'?$/,ZM=/''/g,KM=/[a-zA-Z]/;function WM(a,t,n){const s=au(),r=s.locale??RM,o=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=oi(a,n?.in);if(!IE(d))throw new RangeError("Invalid time value");let g=t.match(XM).map(y=>{const v=y[0];if(v==="p"||v==="P"){const S=LM[v];return S(y,r.formatLong)}return y}).join("").match(FM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:IM(y)};if(op[v])return{isToken:!0,value:y};if(v.match(KM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(g=r.localize.preprocessor(d,g));const m={firstWeekContainsDate:o,weekStartsOn:f,locale:r};return g.map(y=>{if(!y.isToken)return y.value;const v=y.value;(VM(v)||QM(v))&&PM(v,t,String(a));const S=op[v[0]];return S(d,v,r.localize,m)}).join("")}function IM(a){const t=a.match(JM);return t?t[1].replace(ZM,"'"):a}function $M({isOpen:a,onClose:t,onSubmit:n,position:s}){const[r,o]=F.useState(""),f=F.useRef(null);if(F.useEffect(()=>{a&&(o(""),setTimeout(()=>f.current?.focus(),10))},[a]),!a||!s)return null;const d=m=>{m.preventDefault(),r.trim()&&(n(r),t())},g=m=>{if(m.key==="Escape"){t();return}m.key===" "&&m.stopPropagation()};return x.jsx("div",{className:"absolute z-[200] animate-in fade-in zoom-in duration-100",style:{left:s.x,top:s.y,transform:"translate(0, -50%)"},children:x.jsx("form",{onSubmit:d,children:x.jsx("input",{ref:f,type:"text",value:r,onChange:m=>o(m.target.value),onKeyDown:g,onBlur:()=>{r.trim()||t()},placeholder:"Type note & hit Enter...",className:"w-64 px-3 py-1.5 bg-white/90 backdrop-blur-sm border-2 border-blue-500 rounded-md shadow-xl outline-none text-sm font-semibold text-gray-800 placeholder:text-gray-400"})})})}function t_(){const a=F.useRef(null),[t,n]=F.useState(null),[s,r]=F.useState(null),[o,f]=F.useState(null),d=F.useRef(null),g=F.useRef(new Map),[m,y]=F.useState("none"),[v,S]=F.useState(["ema21","pivotPoints"]),[T,w]=F.useState(!1),[M,O]=F.useState(null),[B,Z]=F.useState(null),et=Ae(L=>L.candles),it=Ae(L=>L.currentIndex),st=Ae(L=>L.trades),at=F.useMemo(()=>et.slice(0,it+1),[et,it]),$=F.useRef(!0),ht=F.useRef(null),vt=F.useCallback(L=>{O(L),Z(null),w(!0)},[]),Rt=F.useCallback((L,V)=>{O(V),Z({p1:L,p2:V}),w(!0)},[]),{clearDrawings:Yt,addTextDrawing:St,addCalloutDrawing:Ht,deleteSelectedDrawing:At,selectedDrawingId:Ut,isHoveringSelected:z,handleMouseDown:X,handleMouseMove:nt,handleMouseUp:dt}=GE({canvasRef:ht,activeTool:m,onToolComplete:()=>{},chartApi:t,seriesApi:s,onTextToolTrigger:vt,onCalloutTrigger:Rt}),gt=L=>{B?Ht(B.p1,B.p2,L):M&&St(M,L),O(null),Z(null)};F.useEffect(()=>{if(!a.current)return;const L=vE(a.current,{width:a.current.clientWidth,height:a.current.clientHeight,layout:{background:{type:ih.Solid,color:"#ffffff"},textColor:"#333"},grid:{vertLines:{color:"#f0f0f0"},horzLines:{color:"#f0f0f0"}},rightPriceScale:{borderColor:"#d1d4dc"},timeScale:{borderColor:"#d1d4dc",timeVisible:!0,secondsVisible:!1,fixLeftEdge:!0,lockVisibleTimeRangeOnResize:!0},crosshair:{mode:1}}),V=L.addSeries(OE,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),W=L.addSeries(RE,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:""});W.priceScale().applyOptions({scaleMargins:{top:.8,bottom:0}});const ct=QE(V,[]);V.attachPrimitive(ct),n(L),r(V),f(W),d.current=ct;const Bt=()=>{a.current&&L&&L.applyOptions({width:a.current.clientWidth,height:a.current.clientHeight})};return window.addEventListener("resize",Bt),()=>{window.removeEventListener("resize",Bt),L.remove()}},[]),F.useEffect(()=>{if(!s)return;const L=at.map(W=>({time:W.timestamp,open:W.open,high:W.high,low:W.low,close:W.close})),V=at.map(W=>({time:W.timestamp,value:W.volume,color:W.close>=W.open?"#26a69a40":"#ef535040"}));if(s.setData(L),o&&o.setData(V),t&&at.length>0){const W=t.timeScale();$.current&&(W.fitContent(),$.current=!1)}},[at,s,o,t]),F.useEffect(()=>{$.current=!0},[et.length]),F.useEffect(()=>{!t||at.length===0||(g.current.forEach(L=>{t.removeSeries(L)}),g.current.clear(),v.forEach(L=>{let V=[],W="";switch(L){case"sma21":V=sp(at,21),W="#2962FF";break;case"sma60":V=sp(at,60),W="#FF6D00";break;case"ema21":V=lp(at,21),W="#00897B";break;case"ema60":V=lp(at,60),W="#D81B60";break}if(V.length>0){const ct=t.addSeries(_E,{color:W,lineWidth:2});ct.setData(V),g.current.set(L,ct)}}))},[v,at,t]),F.useEffect(()=>{if(!d.current||at.length===0)return;const L=[];st.forEach(V=>{if(V.timestamp<=at[at.length-1].timestamp){const W=V.timestamp>1e11,ct=new Date(W?V.timestamp:V.timestamp*1e3),Bt=ct.getUTCHours(),Ct=ct.getUTCMinutes(),Me=ct.getUTCSeconds(),ci=Bt===0&&Ct===0&&Me===0?`${ct.getUTCDate()} ${ct.toLocaleString("default",{month:"short",timeZone:"UTC"})}`:`${Bt.toString().padStart(2,"0")}:${Ct.toString().padStart(2,"0")}`;L.push({time:V.timestamp,position:V.type==="BUY"?"belowBar":"aboveBar",color:V.type==="BUY"?"#26a69a":"#ef5350",shape:V.type==="BUY"?"arrowUp":"arrowDown",text:`${V.type==="BUY"?"B":"S"}@${V.price.toFixed(2)} [${ci}]`,size:2})}}),v.includes("pivotPoints")&&PE(at).forEach(W=>{L.push({time:W.time,position:W.type==="bullish"?"belowBar":"aboveBar",color:W.type==="bullish"?"#26a69a":"#ef5350",shape:W.type==="bullish"?"arrowUp":"arrowDown",text:""})}),L.sort((V,W)=>V.time-W.time),d.current.setMarkers(L)},[v,at,st]);const E=L=>{S(V=>V.includes(L)?V.filter(W=>W!==L):[...V,L])},Y=()=>{Yt(),y("none")},K=()=>{if(!t||!ht.current)return;const L=t.takeScreenshot();if(!L)return;const V=document.createElement("canvas");V.width=L.width,V.height=L.height;const W=V.getContext("2d");if(!W)return;W.drawImage(L,0,0),W.drawImage(ht.current,0,0,V.width,V.height);const ct=Ae.getState().getCurrentCandle();let Bt="chart-screenshot";if(ct){const Me=ct.timestamp,ci=new Date(Me>1e11?Me:Me*1e3);Bt=WM(ci,"dd-MM-yyyy")}const Ct=document.createElement("a");Ct.download=`${Bt}.png`,Ct.href=V.toDataURL("image/png"),Ct.click()};return F.useEffect(()=>{if(!a.current||!ht.current)return;const L=ht.current,V=a.current,W=()=>{const ct=V.getBoundingClientRect();L.width=ct.width,L.height=ct.height};return setTimeout(W,100),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),F.useEffect(()=>{const L=V=>{const W=V.target;if(W.tagName==="INPUT"||W.tagName==="TEXTAREA")return;if((V.key==="Delete"||V.key==="Backspace")&&Ut){V.preventDefault(),At();return}if(V.key==="Escape"){V.preventDefault(),y("select");return}const ct={v:"select",1:"select",2:"freehand",3:"trendline",4:"horizontal",5:"rectangle",6:"fibonacci",7:"riskReward",8:"text",9:"callout"},Bt=V.key.toLowerCase();if(ct[Bt]){V.preventDefault();const Ct=ct[Bt];y(m===Ct?"none":Ct)}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[Ut,m,At]),x.jsxs("div",{className:"w-full h-full flex flex-col relative",onContextMenu:L=>{L.preventDefault(),y("select")},children:[x.jsx(VE,{activeTool:m,onToolChange:y,activeIndicators:v,onIndicatorToggle:E,onClearDrawings:Y,onDeleteSelected:At,onTakeScreenshot:K,hasSelection:!!Ut}),x.jsx($M,{isOpen:T,onClose:()=>w(!1),onSubmit:gt,position:M?{x:M.x,y:M.y}:null}),x.jsxs("div",{className:"relative flex-1",style:{width:"100%",minHeight:"0"},onMouseDownCapture:L=>{if(m==="none")return;const V=L.currentTarget.getBoundingClientRect();if(L.clientX-V.left>V.width-40)return;X(L.nativeEvent)&&L.stopPropagation()},onMouseMove:L=>{m!=="none"&&nt(L.nativeEvent)},onMouseUp:()=>{m!=="none"&&dt()},children:[x.jsx("div",{ref:a,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"auto",zIndex:1}}),x.jsx("canvas",{ref:ht,className:"absolute top-0 left-0 w-full h-full",style:{cursor:m==="select"&&z?"move":m==="select"?"pointer":m!=="none"?"crosshair":"default",pointerEvents:"none",zIndex:100,touchAction:"none"}}),m!=="select"&&m!=="none"&&x.jsxs("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 bg-blue-600 text-white rounded-full px-6 py-1.5 shadow-xl text-sm font-medium animate-in slide-in-from-top-4 flex items-center gap-4",style:{zIndex:200},children:[x.jsxs("span",{children:["Drawing: ",x.jsx("span",{className:"capitalize",children:m})]}),x.jsx("span",{className:"text-[10px] bg-blue-500 px-2 py-0.5 rounded uppercase",children:"Right-Click to Exit"})]})]})]})}function Xc(a){return new Date(a*1e3).toISOString().replace("T"," ").substring(0,19)}function dp(a){return new Date(a*1e3).toISOString().substring(11,19)}function ii(a){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}const e_=()=>xp(()=>import("./nifty50-klJ-CIEX.js"),[]);function i_({onOpenHistory:a}){const{isPlaying:t,speed:n,currentIndex:s,candles:r,play:o,pause:f,step:d,setSpeed:g,setCurrentIndex:m,jump:y,executeTrade:v,loadCandles:S}=Ae(),[T,w]=F.useState("10"),[M,O]=F.useState(65),[B,Z]=F.useState(!1),[et,it]=F.useState(!1),[st,at]=F.useState(""),[$,ht]=F.useState("5"),[vt,Rt]=F.useState("2024-01-01"),[Yt,St]=F.useState("2024-01-31"),[Ht,At]=F.useState(!1),Ut=Ae(E=>E.resetSession),z=async()=>{At(!0);try{const E=await e_(),Y=E.default||E;if(!Y||!Y.t||!Y.o||!Y.h||!Y.l||!Y.c||!Y.v)throw new Error("Invalid JSON data format");let K=Ip(Y);if(vt){const V=new Date(vt).getTime()/1e3;K=K.filter(W=>W.timestamp>=V)}if(Yt){const V=new Date(Yt).getTime()/1e3+86400;K=K.filter(W=>W.timestamp<V)}const L=$p(K,parseInt($));S(L,`NIFTY50-${$}min`),Z(!1)}catch(E){console.error("Failed to reload data:",E),alert("Failed to reload data. Please try again.")}finally{At(!1)}},X=E=>{if(r.length===0)return;const Y=r[s];if(!Y)return;const K=Y.timestamp+E*24*60*60;let L=r.findIndex((V,W)=>W>s&&V.timestamp>=K);if(L===-1)if(r[r.length-1].timestamp<K)L=r.length-1;else return;m(L)},nt=()=>{if(!st||r.length===0)return;const Y=new Date(st).getTime()/1e3;let K=0,L=Math.abs(r[0].timestamp-Y);for(let V=1;V<r.length;V++){const W=Math.abs(r[V].timestamp-Y);if(W<L&&(L=W,K=V),r[V].timestamp>Y)break}m(K),it(!1)},dt=Ae(E=>E.candles[E.currentIndex]||null);F.useEffect(()=>{if(!t)return;const E=setInterval(()=>{s<r.length-1?d("forward"):f()},1e3/n);return()=>clearInterval(E)},[t,n,s,r.length,d,f]),F.useEffect(()=>{const E=Y=>{const K=Y.target;K.tagName==="INPUT"||K.tagName==="TEXTAREA"||(Y.code==="Space"?(Y.preventDefault(),t?f():o()):Y.code==="ArrowRight"?(Y.preventDefault(),d("forward")):Y.code==="ArrowLeft"&&(Y.preventDefault(),d("backward")))};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,o,f,d]);const gt=r.length>0?s/(r.length-1)*100:0;return x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center justify-between w-full h-full px-2 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:()=>d("backward"),disabled:s===0,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-30",title:"Step backward",children:x.jsx(G1,{size:20})}),x.jsx("button",{onClick:t?f:o,disabled:s>=r.length-1,className:"p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 mx-1",title:"Play/Pause (Space)",children:t?x.jsx(ux,{size:20}):x.jsx(fx,{size:20})}),x.jsx("button",{onClick:()=>d("forward"),disabled:s>=r.length-1,className:"p-1.5 rounded hover:bg-gray-100 disabled:opacity-30",title:"Step forward",children:x.jsx(Ep,{size:20})}),x.jsxs("select",{value:n,onChange:E=>g(Number(E.target.value)),className:"ml-2 px-1 py-1 text-xs border rounded bg-gray-50 focus:outline-none",title:"Playback Speed",children:[x.jsx("option",{value:.5,children:"0.5x"}),x.jsx("option",{value:1,children:"1x"}),x.jsx("option",{value:2,children:"2x"}),x.jsx("option",{value:5,children:"5x"}),x.jsx("option",{value:10,children:"10x"})]}),x.jsxs("div",{className:"flex items-center gap-1 ml-2 border-l pl-2",children:[x.jsxs("button",{onClick:()=>y(100),className:"px-1.5 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded flex gap-0.5 items-center",title:"+100 Bars",children:[x.jsx(I1,{size:12})," 100"]}),x.jsxs("button",{onClick:()=>X(1),className:"px-1.5 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded flex gap-0.5 items-center",title:"+1 Day",children:[x.jsx(k1,{size:12})," 1D"]}),x.jsxs("button",{onClick:()=>it(!0),className:"px-1.5 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded flex gap-0.5 items-center",title:"Jump to Date",children:[x.jsx(Lg,{size:12})," Date"]}),x.jsxs("div",{className:"flex items-center gap-1 ml-1 pl-1 border-l",children:[x.jsx("input",{type:"number",value:T,onChange:E=>w(E.target.value),className:"w-10 px-1 py-1 border rounded text-center text-xs",placeholder:"N"}),x.jsx("button",{onClick:()=>y(Number(T)),className:"px-1.5 py-1 bg-blue-50 text-blue-700 border border-blue-200 rounded hover:bg-blue-100 text-xs font-semibold",children:"Go"})]})]})]}),x.jsxs("div",{className:"flex flex-col items-center justify-center text-xs text-gray-600",children:[x.jsx("div",{className:"font-medium text-gray-900 text-sm",children:dt?Xc(dt.timestamp):"--"}),x.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-1.5 mt-1 mb-0.5 overflow-hidden",children:x.jsx("div",{className:"bg-blue-500 h-full transition-all duration-200",style:{width:`${gt}%`}})}),x.jsxs("div",{className:"text-[10px] text-gray-400",children:[s+1," / ",r.length," Candles"]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"number",min:"1",value:M,onChange:E=>O(Math.max(1,parseInt(E.target.value)||1)),className:"w-12 px-1 py-1 border rounded text-center text-xs font-medium",title:"Trade Quantity"}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:()=>v("BUY",M),disabled:!dt,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-bold hover:bg-green-700 disabled:opacity-50",title:`Buy ${M}`,children:"BUY"}),x.jsx("button",{onClick:()=>v("SELL",M),disabled:!dt,className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-bold hover:bg-red-700 disabled:opacity-50",title:`Sell ${M}`,children:"SELL"})]})]}),x.jsx("button",{onClick:a,className:"px-3 py-1.5 text-xs font-bold text-blue-700 bg-blue-50 hover:bg-blue-100 rounded border border-blue-200",title:"View Trade History & Performance",children:"Analysis"}),x.jsx("button",{onClick:()=>Z(!B),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 rounded border border-gray-200",title:"Data Settings",children:x.jsx(gx,{size:14,className:"inline"})}),x.jsx("button",{onClick:Ut,className:"px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded border border-red-200",children:"Reset"})]})]}),B&&x.jsxs("div",{className:"absolute bottom-full right-0 mb-2 bg-white border-2 border-gray-300 rounded-lg shadow-2xl p-4 z-50 min-w-[320px]",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[x.jsx("h3",{className:"font-bold text-sm text-gray-800",children:"Data Settings"}),x.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(Hr,{size:16})})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timeframe"}),x.jsxs("select",{value:$,onChange:E=>ht(E.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x.jsx("option",{value:"1",children:"1 Minute"}),x.jsx("option",{value:"5",children:"5 Minutes"}),x.jsx("option",{value:"15",children:"15 Minutes"}),x.jsx("option",{value:"30",children:"30 Minutes"}),x.jsx("option",{value:"60",children:"1 Hour"}),x.jsx("option",{value:"240",children:"4 Hours"}),x.jsx("option",{value:"1440",children:"1 Day"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),x.jsx("input",{type:"date",value:vt,onChange:E=>Rt(E.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),x.jsx("input",{type:"date",value:Yt,onChange:E=>St(E.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsx("button",{onClick:z,disabled:Ht,className:"w-full px-3 py-2 bg-blue-600 text-white rounded font-medium text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Ht?"Loading...":"Apply Changes"})]})]}),et&&x.jsxs("div",{className:"absolute bottom-full right-0 mb-2 bg-white border-2 border-blue-300 rounded-lg shadow-2xl p-4 z-50 min-w-[320px]",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b",children:[x.jsxs("h3",{className:"font-bold text-sm text-gray-800 flex items-center gap-2",children:[x.jsx(Lg,{size:16,className:"text-blue-600"}),"Jump to Date"]}),x.jsx("button",{onClick:()=>it(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(Hr,{size:16})})]}),x.jsxs("div",{className:"space-y-3",children:[r.length>0&&x.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[x.jsx("div",{className:"flex justify-between",children:x.jsx("span",{className:"font-medium",children:"Available Range:"})}),x.jsxs("div",{className:"mt-1",children:[x.jsxs("div",{children:["From: ",Xc(r[0].timestamp)]}),x.jsxs("div",{children:["To: ",Xc(r[r.length-1].timestamp)]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Select Date"}),x.jsx("input",{type:"date",value:st,onChange:E=>at(E.target.value),min:r.length>0?new Date(r[0].timestamp*1e3).toISOString().split("T")[0]:void 0,max:r.length>0?new Date(r[r.length-1].timestamp*1e3).toISOString().split("T")[0]:void 0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>it(!1),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded font-medium text-sm hover:bg-gray-200",children:"Cancel"}),x.jsx("button",{onClick:nt,disabled:!st,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded font-medium text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Jump to Date"})]})]})]})]})}function n_({isOpen:a,onClose:t}){const n=Ae(M=>M.trades),s=F.useRef(null),[r,o]=F.useState(null),[f,d]=F.useState(null),g=F.useRef(!1),m=F.useRef({x:0,y:0}),y=F.useRef({x:0,y:0}),v=F.useMemo(()=>Zp(n),[n]),S=F.useMemo(()=>Kp(v),[v]),T=M=>{if(M.target.closest(".dialog-header")){g.current=!0,m.current={x:M.clientX,y:M.clientY};const O=s.current?.getBoundingClientRect();O&&(f?y.current={x:f.x,y:f.y}:(y.current={x:O.left,y:O.top},d({x:O.left,y:O.top})))}};if(F.useEffect(()=>{const M=B=>{if(!g.current)return;const Z=B.clientX-m.current.x,et=B.clientY-m.current.y;d({x:y.current.x+Z,y:y.current.y+et})},O=()=>{g.current=!1};return window.addEventListener("mousemove",M),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",O)}},[]),F.useEffect(()=>{function M(O){s.current&&!s.current.contains(O.target)&&t()}return a&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[a,t]),!a)return null;const w=f?{left:`${f.x}px`,top:`${f.y}px`,position:"fixed",margin:0,width:"1200px",maxWidth:"90vw",height:"85vh",maxHeight:"85vh"}:{width:"1200px",maxWidth:"90vw",height:"85vh",maxHeight:"85vh"};return x.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black bg-opacity-60",children:x.jsxs("div",{ref:s,onMouseDown:T,className:"bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden border-2 border-gray-300",style:w,children:[x.jsxs("div",{className:"dialog-header flex items-center justify-between px-4 py-3 border-b-2 border-gray-200 cursor-move select-none bg-gradient-to-r from-blue-50 to-indigo-50",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),x.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Trade Analysis"})]}),x.jsx("button",{onClick:t,className:"p-1.5 hover:bg-red-100 rounded-md text-gray-600 hover:text-red-600 transition-colors",onMouseDown:M=>M.stopPropagation(),children:x.jsx(Hr,{size:20})})]}),x.jsxs("div",{className:"flex-1 overflow-auto bg-gray-50 p-6",children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[x.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Net P&L"}),x.jsx("div",{className:`text-2xl font-bold ${S.totalPnL>=0?"text-green-600":"text-red-600"}`,children:ii(S.totalPnL)}),x.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[S.totalTrades," Trades (",S.winningTrades,"W - ",S.losingTrades,"L)"]})]}),x.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Win Rate"}),x.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[S.winRate.toFixed(1),"%"]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["PF: ",S.profitFactor.toFixed(2)]})]}),x.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Avg Win / Loss"}),x.jsxs("div",{className:"flex justify-between items-baseline",children:[x.jsx("span",{className:"text-green-600 font-semibold",children:ii(S.avgWin)}),x.jsx("span",{className:"text-gray-300",children:"/"}),x.jsx("span",{className:"text-red-600 font-semibold",children:ii(S.avgLoss)})]})]}),x.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[x.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Longs vs Shorts"}),x.jsxs("div",{className:"space-y-1 text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Longs"}),x.jsxs("span",{className:S.longs.pnl>=0?"text-green-600":"text-red-600",children:[ii(S.longs.pnl)," (",S.longs.count,")"]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Shorts"}),x.jsxs("span",{className:S.shorts.pnl>=0?"text-green-600":"text-red-600",children:[ii(S.shorts.pnl)," (",S.shorts.count,")"]})]})]})]})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:x.jsxs("table",{className:"w-full text-sm text-left",children:[x.jsx("thead",{className:"bg-gray-50 text-gray-600 font-semibold border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 w-10"}),x.jsx("th",{className:"px-4 py-3",children:"Status"}),x.jsx("th",{className:"px-4 py-3",children:"Entry Time"}),x.jsx("th",{className:"px-4 py-3",children:"Direction"}),x.jsx("th",{className:"px-4 py-3 text-right",children:"Qty"}),x.jsx("th",{className:"px-4 py-3 text-right",children:"Avg Entry"}),x.jsx("th",{className:"px-4 py-3 text-right",children:"Avg Exit"}),x.jsx("th",{className:"px-4 py-3 text-right",children:"P&L"}),x.jsx("th",{className:"px-4 py-3 text-right",children:"Duration"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:v.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No positions recorded yet."})}):v.map(M=>{const O=r===M.id;return x.jsxs(x.Fragment,{children:[x.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>o(O?null:M.id),children:[x.jsx("td",{className:"px-4 py-3 text-gray-400",children:O?x.jsx(wp,{size:16}):x.jsx(Ep,{size:16})}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${M.status==="OPEN"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:M.status})}),x.jsx("td",{className:"px-4 py-3 text-gray-600",children:dp(M.entryTime)}),x.jsx("td",{className:"px-4 py-3",children:x.jsx("span",{className:`font-semibold ${M.direction==="LONG"?"text-green-600":"text-red-600"}`,children:M.direction})}),x.jsx("td",{className:"px-4 py-3 text-right font-mono",children:M.totalQuantity}),x.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-600",children:ii(M.avgEntryPrice)}),x.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-600",children:M.avgExitPrice?ii(M.avgExitPrice):"-"}),x.jsx("td",{className:`px-4 py-3 text-right font-bold font-mono ${M.realizedPnL>0?"text-green-600":M.realizedPnL<0?"text-red-600":"text-gray-400"}`,children:ii(M.realizedPnL)}),x.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:M.durationMinutes?`${M.durationMinutes.toFixed(1)}m`:"-"})]},M.id),O&&x.jsx("tr",{className:"bg-gray-50",children:x.jsx("td",{colSpan:9,className:"px-4 py-3 pl-12",children:x.jsx("div",{className:"border rounded bg-white overflow-hidden text-xs",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{className:"bg-gray-100 text-gray-500",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-3 py-2 text-left",children:"Exec Time"}),x.jsx("th",{className:"px-3 py-2 text-left",children:"Type"}),x.jsx("th",{className:"px-3 py-2 text-right",children:"Price"}),x.jsx("th",{className:"px-3 py-2 text-right",children:"Qty"}),x.jsx("th",{className:"px-3 py-2 text-right",children:"Realized P&L"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:M.executions.map((B,Z)=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-3 py-2 text-gray-600",children:dp(B.timestamp)}),x.jsx("td",{className:`px-3 py-2 font-semibold ${B.type==="BUY"?"text-green-600":"text-red-600"}`,children:B.type}),x.jsx("td",{className:"px-3 py-2 text-right font-mono",children:ii(B.price)}),x.jsx("td",{className:"px-3 py-2 text-right font-mono",children:B.quantity}),x.jsx("td",{className:"px-3 py-2 text-right font-mono text-gray-500",children:B.pnl?ii(B.pnl):"-"})]},B.id||Z))})]})})})})]})})})]})})]})]})})}function s_({onOpenDetail:a}){const t=Ae(O=>O.position),n=Ae(O=>O.candles),s=Ae(O=>O.currentIndex),[r,o]=F.useState(null),f=F.useRef(!1),d=F.useRef({x:0,y:0}),g=F.useRef({x:0,y:0}),m=O=>{f.current=!0,d.current={x:O.clientX,y:O.clientY};const B=O.currentTarget.getBoundingClientRect();r?g.current={x:r.x,y:r.y}:(g.current={x:B.left,y:B.top},o({x:B.left,y:B.top}))};if(F.useEffect(()=>{const O=Z=>{if(!f.current)return;const et=Z.clientX-d.current.x,it=Z.clientY-d.current.y;o({x:g.current.x+et,y:g.current.y+it})},B=()=>{f.current=!1};return window.addEventListener("mousemove",O),window.addEventListener("mouseup",B),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",B)}},[]),!t||t.quantity===0)return null;const y=n[s];if(!y)return null;const v=(y.close-t.averagePrice)*t.quantity,S=t.quantity>0?"LONG":"SHORT",T=Math.abs(t.quantity),w=v>=0,M=r?{left:`${r.x}px`,top:`${r.y}px`,position:"fixed"}:{right:"80px",top:"60px",position:"absolute"};return x.jsxs("div",{className:"bg-white border-2 border-gray-400 shadow-2xl rounded-lg p-3 z-[150] min-w-[220px] cursor-move select-none",onMouseDown:m,style:M,children:[x.jsxs("div",{className:"flex justify-between items-center mb-2 border-b-2 border-gray-200 pb-2",children:[x.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${S==="LONG"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:S}),x.jsxs("span",{className:"text-xs text-gray-700 font-bold font-mono",children:[T," Qty"]})]}),x.jsxs("div",{className:"flex flex-col gap-1.5",children:[x.jsxs("div",{className:"flex justify-between text-xs",children:[x.jsx("span",{className:"text-gray-600 font-medium",children:"Avg Price:"}),x.jsx("span",{className:"font-bold text-gray-900",children:ii(t.averagePrice)})]}),x.jsxs("div",{className:"flex justify-between text-sm mt-1 items-end",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-gray-600 block text-[10px] leading-tight mb-0.5",children:"Unrealized P&L"}),x.jsx("span",{className:`font-bold text-base ${w?"text-green-600":"text-red-600"}`,children:ii(v)})]}),a&&x.jsx("button",{onClick:O=>{O.stopPropagation(),a()},className:"text-[10px] px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 font-semibold",children:"Analysis"})]})]})]})}const l_=new T1;function a_(){const a=Ae(r=>r.candles),[t,n]=F.useState(!1),s=a.length>0;return x.jsx(C1,{client:l_,children:x.jsx("div",{className:"h-screen w-screen bg-gray-100 flex overflow-hidden",children:x.jsx("main",{className:"flex-1 flex flex-col relative min-w-0",children:s?x.jsxs("div",{className:"flex-1 flex flex-col relative h-full",children:[x.jsxs("div",{className:"flex-1 relative min-h-0",children:[x.jsx(t_,{}),x.jsx(s_,{onOpenDetail:()=>n(!0)})]}),t&&x.jsx(n_,{isOpen:t,onClose:()=>n(!1)}),x.jsxs("div",{className:"flex-none p-2 bg-white border-b z-10 flex gap-2 items-center",children:[x.jsx("div",{className:"flex-1",children:x.jsx(i_,{onOpenHistory:()=>n(!0)})}),x.jsx("button",{onClick:()=>Ae.getState().loadCandles([],""),className:"px-3 py-1 text-xs bg-gray-100 text-gray-600 hover:bg-gray-200 rounded",children:"New Data"})]})]}):x.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 bg-white",children:x.jsxs("div",{className:"max-w-2xl w-full",children:[x.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[x.jsx("h2",{className:"font-semibold text-blue-900 mb-2",children:"Welcome to Manual Backtesting"}),x.jsx("p",{className:"text-blue-800 text-sm",children:"Load historical candle data to start backtesting. Enter the security ID, select the timeframe, and date range below."})]}),x.jsx(dw,{})]})})})})})}t1.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(a_,{})}));
